<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c56d9153fe6a269b9c853fbe82cd1957101c702cc6071c4c19f393970367a742ecdf2b7d589504ac16952cdf1856e2a6ce464950e0a365863d652e0575149949c98df99f5e8b730badf621e34c78c8eb90e0c6c9f5db768e349121729a32c566df77e26a8353035de01b508317c13ec5187eb0251ce8e3f422d27f7d95520af7702a6b5ea1acfb36352d811230afceaf907ce6935546c32479dfd95195647afe39e97918041d21a24a5e7e654894552210650013728fa756fccfd3e521783024cb6d994a2938e8cffd6e1732c0ffdadc42724f8a2caa35e38381b076678796e37544333e1584d0432df813f91673059fc88e7022b933867f4a28df2a8026ea2ab8791b8d763d2526b188f4e48207602f8765d93466ac03e96ca0ab45a5b0db6665f799611df7e7387a948ae7cf11f65f253b05aa4f5326ac75316151a2fe7d54fb3060eb24085db83f24e5b3dd6e530205e252136f3a2aa17317b206b945fb1e79aa3685e39f5cc444b85427c24df5e76c3fab13a6877c92b98219225eecb50567764f3ade6258952399c5c203cd8e29344e9fb36b1658b01c8f070e0bbd05c04a557620a894d11911526e21d21738554f738b456f17b2c882f4d9c018504db482e4aa5cf141c5696aa1f6d83486f6d0b3161f5e49893dd40d6fcbfb290868b6846f7d8a469b32597f84764aaf191cf01265a68a91a74ea58d3032826d6145a2affef23ff8a687016ac7da0aa36c7ad666774b065cb7ce5be8ee01980153e52c6bd9d3603fc63ed9b31725627ab2a5b5e75b6d541f9f416316e5c57529e4745fe8ad5023472416d083ef312635d9a95ab1327282761be31886c047f31aa60d9edde08282fd1618aee1c519586ed41de8a1f93454981aae0f1fb7d430a7cf9e55443afa25d9e6343e9b56759e7c268651ffcf6b3ac1df6f53806a60d27c9bad1bf5161d1c7b3b2b7151863ab6c205791c2c3e6366bd71ebfaae0658bddee250155da3168d26a508a759e1ea0aec4a6756f9e8d84e4fe3186184c3828039f98d6efc51b44ff2abea9c87dcb02af2ca320147f81512022ce4cf4488f5754143f4a1bef78cd87d87e9ad082d68ce49bbf0c53e6f1d2bff4d278b1feba2749dd52231d398b3cc1a9dbd867e1270dc52965c45d9a1ac700d6bd29a084ff6f470036c62d0a86592759afe611a7fe4344a5ba598443a6543bcd0f779d9ec128b78f31e23b5b6e612a32d9e4148a861b66c13fc6ff076b08b76942e299dfe2facc20fb7cf4253279eb5d0ba1c1b7fd03b37ea19805732134870b39f5c309cb2731d5b766439ddd15ac3116cfa501ffd339c7837f8373a1dd15a81472e75bb7d7ed61841e9fefba8e0dfbdcd55fcf030e764d0728b442eb5351299c2233c52e3303336f539e33b8ec76fc1afa06c8166a0c06488498d74d5ef1fd7ff9ec6e501fb8cac6c4f7a0db23de16fd32cf3dd8988dc5eb44ab83992bbdf7391ecd31477212058c5e645a9cbc20356842d62a176da1955b17745bd9bd304d1594d496ba6dc919d1f58dbe7e868c4fa8a837578f7d413822dc1089901b356f8284106fe3c1445516468ef4d19da6d29452e7aaef6c7b80aa83038ace7a7e7f01a47fc1f1b80b6f956ce31eba7c3858f8fb0bceeb409f1c0804a297e5e13b8e325314b9f0d3a0f5b12e821edd4cb23da4606d8a7e85eca294674b3abb8318b3af7824c0ad09eee1bb595118cdb09c16e7c05ae8c59bd6fddd94886e63a9c4e4084789b8256777d727270e70ee10a0d372d4d1c7297861c28f3beb2895725bee6264d71714cd0d0735869245b99a1c4e29e13e5923cb4dd5deb30c1d825096e7b6c2613c964389f0840951a27bea9490fbd0b13ffebda951d47946f3e6891d4b123b7f8cb4a9556b4af0dac030ff27a4b48fea85d144297be10748cb105b1a541e1a698d362573c3ccd1286f229a8e1ec7b29738769622a8ff74537e3fdbeabbe9bb00a03931fa476c4b584fca5cda8eda07f4f1ac562f152a0b915b0685cea8bb5474dd3d839a31bf33c38e17aa731fd543ca2cbb07972acb09b57cfb71c5b3906f8dfe49e67df89eab9d2d2f7797f3e8035f8a618a44b43d6dfe0b8dc4ef4032ccca86ee85989c012605f6184e4feeca09604c2972377333263241d62df91689201784154f10a122330a00bfc0a0ca6bbe0ee4c6d6def8cbb78abeea8719fb592c0ad1113b30150484493316fa1f2e6b1d2804f4cbc06ab3785c345b69c8d79fdd1f16d2e876219761fb260ecc074e75c67c746c020c2ebad53170ecdaa87b10126ccacac147bae0a8ed9c68ff753ea17dd9683178774a16d452a0d669fc87395cabeb83151945e2105948cd2be49f91df2b8161f3f58d7998eed9030bb932f3015a2ab3e294ff95e2fee9c5bbdc682b8c84c6f6f8ac739785ea8beb8dc5e12ff04124e38f41ce1abe8086b81c61df4c93783488698e652df75f50fd989c6b1bf7c45a132d5ef27039d8d04f7ff9c7633726bb9d317c9e2b1f8b766bb972318a3af7ad02609468fbb018451f6c3aff675ba40a943283009291bb472f00d261618c0b3c579885a5122af194a5b3e5d45aa65af26d0e96d4e7e0c969bf442da54e89804f25ab87222c166fce170c21cce07b262265b3c722dd8c25e0603a76a502c0c7b334008b3ef2c6b936a5e67ef028fefd0fea6ab1ab934889df3ec49eedd5b087e8f1037d2db097fee4e7bb7a66a63bd610b71d7f625d0e3dc66cc55dae6a567a259f3b632e87f0708a876c76a9f3ed7c52c1a20dee584cfb84f7c8e35e53f304b509fd22ce68d6d8516f54bba90208ec1bad132499ce4dac29911129452791d670fbdd1bab02e5c6d2d13b682a6184123c04201bf8a3d97284b7bcd67e846d7292ee81a5e4ce49678b67c93d3e6c42bcbc78177190dcd92b7f62d98d785feda9464482f3146859e4995931f536eedcf6eae3cead400c1cf452cac83ba1d89013f1cf8a5c326a314cae802684a467c1a151e2c419eb0149d87fdd3fbb6bcc6db73010788a96d8aedb6806e8dec32b1d062d29dd569d4ca73a3bf1900602b52f3ceec1e83b71b47592d5cc999cf7d80349cb30cc98ddf7bce6c8132f9a8471546a44eee3b86f7bf798286fe4dd599627fc7136e5eb1a3ac44b1a6c9868cdbe374cc0697e1caa5de36ee71acc23da7ba14ac5a20572029bde91fac036c13baf22320206a63d78da36db4d51101925dd24c0c3037bfca59853998d4ca4006a557a8cc43202e7a2984ffe3a97b57aae271bb5a5579094a46360cbf8de161a58b620ef2274c6d18cb35a7151120d011ff72d2058f0ca057ee3ffce8c92383a25ce6765a7196d998579b8f40ec398b4c8f8a9a8313306f6c497d6570710f830480a7adb7bbfd63508d49f9e746c48bc45446cd487c92145e3459d813925a1bf897525860664cf4054b8b9ba45950aa8f987effaa15fe1e83b4537ef4e75157fe9d62128265bcd1662a97008ab8f11e0811c54829046b3f728e7e52e4341cb102f2c2975cb7b3251902d08277b37baab42bf48500b0f40d36f1586e63413629e4f0dc8eb625abd53f8ae626a3ee1abad3289e6513775f408251486e596add42d65a8883ef45ad6c8b214eef2b741d0d85c05d872c029d1b412babf17f3639faa55aa4e00c77053bbd145724cb90a56291aae829b8770cf2b01f4a541657add4bf4ff2d17c4e6a26cf26e91e7cbbe2c5cfb9c73b74fa53c33c9829109af7831e3c3c2fba3679c95691903070e1b803bcfef2c5c3efddeb3ecf25e47e4f09dffc36859b56ef5056b7010acd380920f0d2814939c735b4db7dd5c3ae7050aeeb42a7eb8259ba86e44b265977289a0329457bec2c293157396854671bc9349f1a6a23689f49ed9b3213d12443bc3216d7829bc9a5334262a9caea7c2fae7a6a68b9727b9a93a8440d4bcd7636ae45b3d43a5a2295da8e4c64c8c00548bcc3dbba8ff7a9a5f8da1d803e2079955c6f1d09ec41036202ea044c73596fe51d01d4191b749116f970235241e6e345aa34e4bb89b0785b619d9e0c9e893c049960ca6069b65a2c9aa511713b22edbb0304a9be9c8de88b44962f3525ab02bea3755ae3aeacdfd19bb1b8d52e250a3ef5dd3e877e71c22a13f7ec28ecc8822ef9150dcd1ac6d3f71636f3fd305b71c65641947e79dc578f7076ab44976007d23202cd327098516f4004dd2028f9c6d1038a3fdfbbcd2346f3cfef8746c0e506034249108017581f5265ab66c581c95ee6766bcd1578020fab29de0e6d02791dde0ea26eccf83f18d1240a9271114475ef55bb42966457b9c0116aca1d822858752d7b19bb14f28fb134b19e2714b993f57adefadd3bd16a6b64b5bbab0edc17083099be28ba526d26e490229c5edef954b0db18f4892dfb8f839f54e2d63f79e0bfbe2c1af518a1ef88192331dbcb34a20f4af623341f59764e4ea5eaf5afdcbd158c189b02a893082341310018cfabf11b18110f8608a2f0d857786f34e6395acee7f3306b1a3df2b4885f21ecde9c1aa0e9d8934aa869e967a49642e99808cc56c433e894710c327508024b6f2d96b004115a645476f0d6cceba223aad7690fee50d20515c4f465153e18dc4b3d2b81238b4aa1bfc4c33b7ba87caedd0965b904b8d44841c6ed154ad3d3bc2dd0ca2745d21b23b4ec1df88d7a86a461733f2f720312d795feb659322f9fafe6e3f46c5a672446ee8909d2e1eb8d648d7fe63ff9570e6812f7a05d7116ba4897fdaf9cf99fd333d82954a65a87f9595f0f29e594d446257ee637b8603d469bb2ac60ae2e542a1b25a7c3c80aaf93477b73cd9cc441b41e8cf5e4145661e8441e26ce7b42710390a67a6d0422baf33324cc952dcb746910e6ffcd8e30eb9fcdb300c5cb2073ac6c45946aceb34e5bfe5353f3113d158678a5ed025cfbf35391dfe4e8d838dcecf7fd235c4d36b024b62f6541707e4e40fb2a300b1fa95e0a1d0bfd10cb8fd939ad5a0a8425b99c117839521fbf62ddb5a68119bd6b733232d6ec43f8323000cda240c4c41a7879e3077e2fd6c9b850f5321609dbb6112aa2a5954a164171c6a7724b18ae8fbfc62c1e4124ff4d168090297d8a2e5fe989dee161574f081f53dce6278969b0cb8d9f74c8ac2958c2163f0f1d09488bd8eee005411849d15969561d525decf42cf183a75b77340251faaf27afe50407dc914b495c21f7fc83df38612e2cb02e418d830520a6f313d9eb50c642390b11f189a3cd14dc4ef7c0a267c8668c3967176b80bc7414ad20299c4d9049daaf76a795b40c34dd94a7921636f309e5f43d08b1a27296163a4787b3d0ecf3b530ba7170d7515bafce41d5ebf730dafb03ef8b5672d31a294246119ef4fb644a463264a25569ea24239eb748e5b59716fe2ac942b45c9bd7451e1123257fe5c7840213c1a8451fc1121499997712a27299675b91dc1a1c7040e99cdf49e9864e6475b343452163731d42c823dd9f2530a1da15c014a8d6b72e9ac183c072d28577e1b12ffbda68d4fa7b34fb0d523af68890a494bbfcc33c241405ebe487d3da1e7b01ba6520e94a15538440132e0b5fac04d5e888cd1c850ab72c666ee3caaaf4e4aa2ee7ebeaa1add85a6c85ddea798403b0fdd744d114ea751a46cfe899280a905ec376db04f81c3a227f724bbf29b4ae6083bfd476aa87dc365b8bcda7c3abcd5d7667a19292db09ec54e4b27f817a703f22fe76936c51a2c9849a77f61e04de793efb1876981501cc874c8ede156b003b14c3cf65aca77850fa19e904e0dd36e9ed7cc3b9e7bac75d77432768db505ee1536a1a567b0b3e61f1f9f4ec6235b7f57ed9895fa7e62d92bd48a29e9d10a489ea59325f520543b89a2400c1336776f6d44b7e898ad9e04a6b7dc8ad942b10902bea5db9b069aeb8babf184a30dbcb885fbb183ebc19e66a8a12432914c2c136b573477223dfc79d289e6d9ff3bc7e204ac80590f9a1c0a2ffed5f14804d4684b6895d29bb6461ecd0f62ac332130439bafe15d02d3a0717517b82eaabc4ebe102224182488fb8c6c2e607a68603f67cca41d6c4e89bd2d1fef0002cf36f985a75988a3c6f170cea8450b00290d2e5935a8dbb3c9123539436d6214670ba55704f98eaed739034efe16610d29808c55bc43b4390bb9e5d9c4db5217941a098a6d9b45fcbbb513d2261d8375423956aad4f048bb70921632f12c7b38a3dad531c3ff7bb27b1d5d23a511f678c29c35b33e6b59db6ff59a51ca4457d53006e8ebb1c2391745f0c8858542a8871c39e15c344d7b0087dbb060eaef064c1ebbe4c911797077bc47eb2538ed98b4b546df94e01ffd7e908b6ccb65177c1e93986e3863c3c5d1f7d1d5c4aba56327829eaeb0d87300212ebbd815cfb44f68acb7f53a637f3d6ac8eb70015c2924b77e95b989028b2be50e6028f1b92d4961803189fce2a15f5b4cd0ae48722849ba5b4ee442cfb04cda884c0840df8b6383c8302e6aaa314b6277d9f82a334690d58d9c040b1323e0eba2efe8bd64d9eb490ff4a6d47cf4388ac4a580d5f304e30eba09028220243e02630cbe46c68e9a249b9e15834feb6e282465d1163e1c4b384ec595a21f23dd56a6a4fca1a31275e200ac937a3ccb0502434780b0d61fd705646002257135ae098fdc8d66875adccf94e856ed44723d73ee3ece448fdb14c555bc85b4ae41510311ae37ea6d3bdb9bc8ff00a36ebd67985ae9e8a7f56ee9fa8d8fe4068493b3f2efc4b85716e20f90be92c4e05936100ad94a6c140e697c32acb299236190c6faf39af5fdd0ff94d9ca3f07393dc5510d34120fd651bc11eca1dbc9d98c6fa5b36ff6224efbe5eb9795df7a3815c3d8e93f08e4684dc85ed03cb4985344a90396d73253978435521250610bdb8ebff27c06d9b211704dbdb7ef5671a9e9d8397f4edf02c53af193c8d73ef743813e4fd7c56e806b57e5584799f45e4c50fc39065ff1fd1fc01a2d474f23f887b1ee66ce4c7dbca2dda070c3fb0004bfe8a4a384b90b08cfdd5241a174984e5964a37cdf9d989ac2c563735ec7709fe368dad123f5af9023f383aa34b939db83909af41905b832b2b7e556838581e23442ef3002af6c6df2e84d34cddaaf8bc1c8a1b3fb281a8f2c52c95ee14a6bbf23b1651ce94fa359bb2bf0dfb73cdc1a937b654660a3de349b9f711e016364b2174346b923e6266ca433e38879d5107d2f60c8482429324bcb2c83f6ed9ecc175e174ac8ba92030527945a032a5acfde09ea60e827fc45534f26f052c55de09fa6eab6efd6fca4dd3ba70606acc2e04bc2b38f482788d7f4c014ac3ee186192a982629395c205ab6b5bf0724948e1cb6c30e51a8791ba017bd1a8dee404a4ce7847a41e4b675ce78472b052a21e2b987872e188a8cab21a0df62902d9db62685070d14d29c6c6530c1c30312c8edab7f4bfc4cb5a961b41d3b516657b3b26399a8d3405e89bcb20c5ceec3b8ac604fa3be1eaac36a2e79d1bcf8d3f3997189bac892f248dfc4d3adbce21f767cd94cd91aedf83471870407ef444850d6579933b1c4a1f5e75f4f36a40dfce951aa2402f05c78d22fd40044dbef9dd80b513d74b76297f2f81fef65693ee1044bda3f29d7d7b239813d2e6a811a20ace5dcb2cbbf2f6c056c1fa4c61402b5c0133b883b5b296069fd996c1659da9f668593a2e77a85472308a864cdcc8ebb7829183491676624bfb668cc7aad69fa4c9284b64f0a6cd8b645e1735549d024d1365641f93849fae2c15079c19c447e6eec3cc314018099f58e8595b732553542a98fb78963961e3f5ec3c8114a6382fba9af502a714d1f7dc5a4a51d4a0b6407889e451860b7b06328685975d96e739902fc70ec828dfc53cce4d4a50dfd41b0a28b597c7e6e0fc1021cee49583d00ee434bcbb8dad6f6795e8c287a24d318d06658fec6d56ca2d6df0c5545c5242ef50df7b3002ece1b4149d7a957cc2865d0de2dd82b7df3ee02f9ad3edbc700ac9d88213a5b62735727ed2c5bff1334257f2516912c6e171d93f5723fe3ea972e32ac82fc1ed3279f62b3ff556f1dd1d86a5b05484ba51872c57767a0c99375269d3fc5dac45b18cb163fd7e9ab2708812fd9112a1d732b9cca2de0168cb5dc305bd397249dd79923f4cfff0e777a1c400e624e036e335781c4279513352d0b9dfeb5bd1ac205318fca5fa324f5bbeb3bae085d72a25402a60e96ebadda3dafd4ce7483a72fd323fee3d08326268f18fe151b458e5e16882a59bb5e75650d96a76b3633b09285b3f1584e44027f4272d5e80cdd7184402c7f1ff2af147e357106e782717d9a84ea7a526114e820896c3351766e76311f6c31f22b8f543171f5b8ce034baf0d45d2210c0b5dbebc1dedaee62c8e31be13bab277b461a738d256a63aea39b21ee4052f0c4f3d874331ad9ac829d17a7e7e5d4d4064aba7e0e07b4fdbf8ef9fbb9b4adbba8579c1248cd179f11a10245099bb1a6830535d58812fe91b15f899b0fd5a2c1cc004f47f4391b944b730c5eca6cf6a5e4b8f0c9a0ca4f92f2489ddec2e2819d8bcfa6ee050fa5dafcdadb623b22b2349eabc65e86930f760622d5cf522a5ba7e5fa16ff8fd671a7781dc29c6ba3f293bb8785e77af44e9b0e5f0c637892fe77eae0201df4258c06da0811997d6efd933fe22c85af62fd94018514989c005f23c4da862ed08a2130a4495dbe942c7adeee8e9d84b7ece4545339849537f11903670f65c46fecf0f5f34c947986a2ffbf1a70d192e48471fbb7f0197df55745d6b794b51b451963299236e02d124c3aaf0c3ba8faf579b50a7f4f1ae91248097a8ccc8291a6faa9a65c99d32571f55efc11e9c05819aeb7b29f558629f9e0c7d391e966761cebe2b4994d4b4a1fddca05a3290201a205c732b4617c43814097638bccb16c9e9e51b6eab25a9c759193f8b1ff97a3dae0e1aa29eeeea77f31652afc608ee1f9ead5edea6e9cf43617e7de358410fd5f32f868bf010f03a7af52e3d52e4722e455364042b60a541527205ac951fbca5562efe30ae9fe0410eac8c415218491c5f61315ee42ad27a274a401bd69c1911021555cf4b27116b292b0688f3a95d4abf76d9a845bcc9cd9085529ed9a0c9a5112b7aa3b13b78731ba76f07b37c26f021c2f87bf3a395454074d1085ffc8127b00719e56912a95c0215d26551e075adef6afccbd732bffc9d39a66f9e0b83424f88dc646b3b7933ed147bbe527d2642c27e1a0d6a9e2ef855b049f777b7158cc4798e59f4993f0c26b0dbe55ca9be623e3e06672076606ed807090e025bced663a0a601e3668d4258e08a0bed3d117110a1cdffaf7d07ed834038aa95a19b1514e0dd88f2f2946f942d8451d41f0e2da24a425ce4065e1c49d5eed3fd8c402ea2452288ab716d0d1b0187099b307a17645a47a24d0cc193454bb00e0f89cc227a1727ce000d3303db61e545704978282714b2aece7ef073831848ee5db10b00cbd48bf7010d4cacd0e7703317c0f85642a8aaf5a521aeeb155906c4c61df3b803886d77eefddbc006ccf8d5573800227b1b4c342f91dd460453e2cbc4a0b03bebbd0b9d244f8562c9cc97a6fadde46b1ac1068873ce792bb48a597f5566b449adb1dedb1f6a5c71ff3238b3de0fef0dcc80b93360a11ce96b84eac68d5b807d1e425cd4ef5e8037134ecd70c4ea25bea8316f775ceb408445f0a86bd8c20525294f64637d57b9ae56fe4b48b7fa714a1f61cbd944e7a516b84df82528e87540b74e61866ab0bdc5fd9fa0e3e3b0c77cde957e8933281253909cf6f268851d72eb97a40a53fb427b3dbb8da78ae5dc3192862834969728824d16cc4a1319113828d0ff4a69bb6e5c0b5fc13e44609feab1bf2b4d18c832411ebb9a970ad3822a2ccf76f091e62521bc80af7b707f05707afc82f66a73cd45f2d97bbd4a0261d03ad67628ab5f65d1fa7d2c9643364e0b1069029e2f5a69f7453471b6db213c0616842ae646ea786f46b9138eafa4cf4729a718e7f62669596b1e65cf8ce4d9214f7586dfeb11db198e3a174c274c8ef7b213fbee591cf6b778859f727ae6d3a7512565d5e41fe091827c2a8521f55eed8490df793c1b8deee5d95dfbee02ba71fafa9b4eb3977b9ad44bc4892e828fe437f7247fac0fd11ac1d106ec83edeeb2abb7d678bdc73151f42e50fd6317c59234d33d6d06421b59670d0d045635d3278f5ae1de809b59ce6a2bbd5c30e58e1e845d8d7a3c282308a94dc2e84c618e7cd35dd503c871070a47f8d560edd9d228f7288186bf8bf6c1f3e92c7efce0114f182d211771ec91d7c6cb0c33d7340b1fd47fc8b1cbae1bcb1f986c716728c2454821b03042ec8983f1cf2755d3bc4b88691e8a186ca3b7ee1d4b60d4c5703ccdd5a6f84b2416e735dfca45a5698a7f58d2a67a652f062755bb1f9e909a0a23ef520f9c747d7b0778a3966ed094965696c20c17f9c891e5fe62dbcd962d8777a3a3d746589c39c76f4ab22aae55470551d080c6a5c4072b69f2749bfdc2501dfcc4048b28f4e54ffd7316b3f740e7becc92d4f7d1a12c629d26e8102c06ea7d768c3f0b319dcf0e61a953b864ad1077431b243dc25b4c3a38304186fcb838a3724f94676819da39b6744a8a5862005cb6eb56b25fa3a56ab895c98f6654d63b4d55c4f739959e72a7ca4075526cbd7ec1ffe7c62f24c20715ad581d600a7f013d5268859818715b78b3d664a71071f11787bc17b910eb8548ab28dbc76ff5c9858160ad88bea69ee7c513ea5199119d2ab2731c1da80e9632d323eaba18724493dac1ac662521055a50fb627b3cd87e1f93d05311d5e5dc54e7aa72d6a5ac5dc04c19d15fbf084174bcb20cdce11c678a60ff829b5cb3f78273ca4a49e435069e63827f91ac88ef4f91b772c163f0605787763d5e31bebaa893c8d56c5c1c69e8cf67336d5ef5f5040e7843a65752a557bbd105034a19bc38695cfda699b5d470dcae7c537957d5e88245138fa496867999daa64b5d4a551da145171df502dc72d796c2af730db931aab7ab1b131806141cb55815cf22b41c61c003569d11c2d023cb3205e5799d6f3adbb803369d5d8cd143012f055e1dd68f78230714945bb9072ae26bb5d6364abadfb36f5db8fab8504a523b1fb411899e190af01e5915c9ca649354c9fab029f4a58347f3745d8056c13be5b6564174ecfa3f4af4d65ecedf5b8073faa5e1a1013c1203cdcbd338ad2f8d6a89b5c68a96c60cc3374542622859588847947b79e832d4c6ed6bc9b98c92b577c75bc7bab901660a8d04b6fd3f9d5ae2658a0b6cb9fee17bddf2266fd54b45c5abbace0b6e2821fcf7ad32c1d12336228b8ad3659a1ec6575604038b855b819b85351c293d55d2bab88267963d7853422230f9a427e8afb8fdd0fd7566f341b333b1953664fc7e815b40c140bb886a407f7c49a9d2433bb08c5455d46044e33d3bb6a91ef885cd7fe7f9fdff0df23a0a1e0de868f4a8cfed6f97fafddc89030bb6ee616e60267104cf81e8dd1610e993054c2448474258829852a14b5bc328331cc8dc2deebd29fc343cb237d18a35571f43b98755f5cc1bfe58b072943ce202effc517c470e61947d2e8963b0dcf972ed05d6a07e2049a7264682151aa7ef72ca32dc17b3a91efdd1438ddd3f3be98c6168142c1ca222335ecc19e8451b729288fe64352cb4ca603b2cd1825a0269b6c8feec3fdc6adf05cab81fb996b5b9b32a5f5ce4a546c56640591fbeb7d767e625a8c7920cfac0b306e942e8d2de3ddbed6dc6b6bca6253581c93361226008d8f739531871032dc813abba065d005b33b4b36ae6097eee2124efc2842a77f31c49bad0e474c11706e056b71287ec629f7e950607fe04feb9d3e9c3845fe31d79bd338a10b56d29d76f36186793713232803e99a2197fa28fc11d4ef9830ba950eca6a1727d0d4d85d28a8c73544dfc190812dec55089288366ce0d8c52a5c2bfd810c50260f3e22f29dbaae9185907dd29e841884cdc0afcc316d4cbac46da64844cbfd24387fd00b2291a8251fed16cd66f23787339e692da1fd07d8dfa0b13e2e99fc7956d085a6f0c966ddcc11526d523ca2a7db97a8fc48bd614441a1785d67cd4b123fefaeb9872b41b68b05c79936b39425729d0b0499aaa0ddb3e38abcfea33eadbe55b55d247f506511d43e23be4b71b4038573b10f7f1bdfb0c90684caa6d6719947c49b4e9b734ae349e006a226724315c9fe8806d03f2ccd49dff9aeb7cc86cf2d301c0e868becc2869b416dc9f967dff8e43150b230d53c71eeb6ed6cb1ddeb4145cf838e5c47ebc76f872548aeef7153186a71571d852687c7a206e51d8b9c65c001c4ebf2fd9fc3f66f2e2565b735f29b047c5894f7f47c25960b6da64e626e821d80828a78c61fba41c9c3821893805315a5e09ff21f580820d8d252a22ef0c43479491dd5c682693986a26bff3c85d6874c7f9a1ecbdd4dd47539ae0329c3fa1a6e24fac5180d7291d6450f84b2b44b8e6f03d0e27063c561a089829d98066d2dc64e240bca5acfb2b4b1befc17dd74340536c8c8797d3822bb7a03bb91e8e99c3ade4320d25dfbe880dbf6053dcc1b6659fe4941ef701a3719aeda0ba6b7a5af8f7a158cda9769a97b533d4367715c752fd02234ca240329fa7bb06982d2c90551f4e4a45db9d85fcb127e84fc157088a41ff9353e5ebce2496fb49abcabbd1a292a3576d54d6882bd1208cd4adca90da821c9af8b6ce81e8d47a98402be52aa2df1c9007262bc97b2a4eb9be658e6f54352dd20c21b35c84b1d6f1f0ec266a8402e36ef89f4ff4fbab915dc295c5893a3da29ab312f617f828537d9815bb116ac2626eadea977373b33480f372a8e22bbc2107f921b421df63571dee2dacef6c644d8a6b707e5fa85e66a4685ec7a9b019a482a7a683626edf00ec3beebe0016e5708cedbb234aadc1e1e38dd98c71d77f342a6d1b5f7ea42abca473d4f60857629c05178cb2fce624c3763fce8f2644c1336d3f99484418717bd180ce4624c50f8cdc7f499adab0065c55a329278385677d1970667da30659eb6e6b05a5351a367ccfbbd479d726619fb6685d8c5baf0826fef90339136263656a2254b2202685da49d1ccfe3c5e79e851b5d47248f157b3caab7fb717edcc19b338973827a3c251e5364a7863e6f28ec532fcc744078d1b8d0bff5f5ae8bc6f35e472dadde91b6230ad064bcba87a51f6d0beeea1f2a12d3d5ac86f4ac57e483e632247b7834d353e2f861af40473be42886cbf1c7f639716055af2aa562640da7a02705f3a820f35d8a06cf1e1a3eed7abdd361d53db0d82fff540cc36e3e13128a6b35387bbfc750b1a4b67b30cb1b1f2894579de3967cc11e515714a07431967dc031e51485392560cbdb278ec21dc03e61a9acb10381f527c4c0cb3c05b87a23e96d75d7037d7e98c8b0759a234126d7f53aedda9e9ab8d7f2fec54fd2163a3e6469adbd31dce97c748c33ab6f9f067f851b2b26e7537ebeddc512879c478295a68313529a97ba3eab8e1e44f9e59f78725a3cd2ffdc4237974aa1bb89dc698ef9b1159e429644e89da13324c0f61970d41e30f5c838588df95ed8107d7d1a70af307b67d861e1a8eb66248d94a6a7b3999b22589cc8a2375b59ad35001c4befcca34bd334b794cde1810f29ca742a099cd56d9763d50696fa6fb95a78e1bd95662d9fe9fdfeb905cd5782aec82e8ccc38c16c88c97b6964e9a22dbf0ab1974eb0e6a3d82073c792f72060a51cdbcb8a6c8039eeb6b9dd3c9d56dd16d0cfce6c378032f1a5f6df533a54a8576481569fd3272a7cc5b8fb83ba8d8907d91941b8f26d98bbfc997f661db2936c1dfd6bd857fe26be6222fd60f8a9d19b52f6a36dfce5870346dc0bf9cc1e3491f8ae843f5f8c84eaf7da982236e568bbdded53365200a1fb3637f071d28aaa98d5b4e4acb2dafd18adcef82b3fb0f5053e0c4d1fb16257e3fcd4a3e785f540f59e44faa82dba39aac3c91af3a09882bb794f033bfb69845a4d925a0350eb52480cd219abc4dd39656e602a2812dd47217e1ed95d02224255de9822133bcdfa77a520fa3be3a778b0595698db4b2ed798318873069451744c5f48bf22c74d73ee203139f2508b9097885acbafdccb2692bef41a7ccdc2c8df6bb98fd68b66828c3e35f7e06b18949f52b91be7d07394b4ea49f0ca1c1174403973b89a14f28d759e59d66cc12fc4378ffd8c6bb399ada3d03222a69f90ef1fb636d8e0326c473c693f81fc131dea1194aab6f042b5f8a4f7d2a9157787c6050a623b3fd8c7dd860db7dee70d8a2cf11afa8b08b45f9143bcefb1f5946348fd26dfabb8a571a1a310d1c77382abc10fb93a30956b6870c1ad6a71d6cf4ebe15878b7febdba7889571ec7f150922689f144a73e8bfe23d93678fc963e3f1280ca12b0f14fb7b3bb8d3bb14e7d7136b6fbf9abe857efda906b0ed008548cce02ff8ad6e44ad9869c1c3ad4d99f7e51b0330b8713995e5353f196ac2e05186773ddf6b7cca1a74a4bfa2a59fb490af91a714d11df6333ad65627b01034b9d2a956c83cd98447cd00ba2aa02dd017364a0cb8c472ad07d192f79f3f12bd20ecf10fbf9ccfb03e92eba626230b1d34db1f382b8ccdc5a4e819dbf1b2faf42116670bad7e98933ccadc16cf140f92d002c693a5e6709df125c99da664bbd3f9f73db5b5869827f2226ee5b29ce2cea3c4da7f561dcaa7432b54ab8824ed4cf07a18bec6c301ccb03167962b6790cd3f1a7a3f60e17a986b79a9e3863c1e9c9810622047c0ef7b74080d2209846e694dd3e7f0552b19c50bddf8df31efe2859132a81db264d0eac15151d09319f50c50e03f87e6a3895826370e4850dc3ae3f6f0d64bd1b23cf858cce6f1b67670c4904f484ba1e4352a7e183f5c28c43174eb5aa396c62ace74717292c685c303c71e24f4bcc9d254eabe1271d2cd56058ca1531c84b78165c3e333db28d7426cd4f95f51b8e69f41a6afdae7859f8ffaa8a9635d3ba408bbbffc8a445248cb0e9265638f63fbdc0d5eacd845f38de26318006dc193201727be9adfc82e017a34074d5a368c2fc5cc427423b5ba89f4b2fe019434cf8f534e6af2eb2479f762373ddfd128a06305614a61b823c7b7e9dccc3d6e16520ee7e2b33652039e37d1e637c5755654459d089d3946fb60998e31597a790156e4d6e1e22e9e1f4355378429028eac7ea2f2479ebcb749fe9896ae843ae82b47d26721074a6d16ed3128d3005bd81c5c81db385486ca532b967c829012fce29edde9dd1d605ecad067496fbbc50d78a4b0db693c9a032c04421f5b6e59c093a23df5e1068277615f32590e25d52926f918f774a8e49be0c8132ef53b786b5cec373711e52c019739bbdce63517c3924361d8bd0b97aca1be492cf4cf031c49c92b720d3b83020f1e8be5afa38b57d9f9b23f69166d681bcafc10213ff99f682c99a08a49365fd3fa74e3a1cae6738b216e808d7fc8cf2b5fbf5d8a0bd6294b1bc983ac6607728f0d46cb5fab64f372990faa9cd5eda2b56b2fabc707d5908620a082291a85fad65cad26188a8fe94fa2ff6c54fd936980abb8a54c752eb7081d61b062ce3294d380c6fea061228b59315049b03ead0643fb0cd0f8fad43aa3344e51c4f7a7dcda73d38b044017e6e584a9dff8dcf7484a23b5feb697b51e3e676e0b0b572a47c8c9b595b7e32e916a0039a7e1e0519b8916bcb5056195cc46cbedbd23c9e805680c5408ab77ccdb9b948445ecf890b2334d93690c33fbe9513aa5c3d10c5645d56fe2fa63b23167aaa53ea0225b4e0779338bce2690a57d7d0f222e0fb5c827c5e1898952a59d1f2f75a2f21e10b4469f271a7035a08ee4123e1fa9e177651a8a5d4844be803a276550a33288e67ab7aba6eaf470c443acce627a18b9f5605e36095b5ac70c2d0c44925ff3b1f22de502079ed7805ec4858a7c94d519cb0c704d16b17c866e7e87000fea9de5285b28063a992ea77635b579f484cf201c89e32b145d523a36b7688de8c688f51c8481c1ddc133179d6365a882932e6a962d592078ad75a554f64db1f903eff3fe55d6362c6ef576c7ef3e5ae26d03403ecee0a6672857a09ead81c043eb6320277690e5f39aca2a0369949f58e86eb432a1ffe5bee5a1fd7cd14ea433a184f5fbbd84c536417f7ffbc73e49c4e352c7c5011b72ff898e4fd433a35241e3e3b78ca0a6b6312492d15143a6c4c373aa745e1318b066a9ec556dc12863b5fbf86455f69f1f1fb4c2564e66702facc733b5b037deb60c878dd0330e621b2f56ba4e4848b60f2540b0027fa32c44a71cd979a46f56176f6fff23c016f0a2d72a481306568d9a24c2dc71054d2d0536d09cb28b912ddb7751b5f6fae74878fd49dc33bb34cad67f72db092d9a5ce62b0eb533b330e86ed190c6987f49ad981d5773d84f69f26369665633085728f9b96f5bd9602489b94dbe73afa5efd6ad1e85858f02b69207c93521341a601f8e4b04f0e8c5aa58c2e7304324e54fd9fd6828bb34f2dcf10e37388661c230365316c303a7c16d8a299c0db57a0e5e07e961a335931a83784d1dcef9e863f0f02409b6428b5b6d5498d13bd25bc85a3f6a4cbfd14e4b06405d5cdcc7dcdfda1358c4fc891fe3cb07ee63fd244ababc193579aef4dfde46fd9545b1f7becdc296375b05802f765934a8f0d3f3f78ac2fa921fafa05bb9a6398ad3889a3566577044b6e8e002e5743b71532487beb932ec091507f6ef7a143f8fc58f1be537fe846bdfec7fa220681a346e62404d7b824f3eb0eb2e623e1e13485cd838699ad75a9cffbf2e1878dcbbdb662b788a3556e8424e672458e8baf6e1ce38edf0f4eaa7b5a757e0466a11d116ca0fd25dfb4085fae295acf48058ad7445a5c0d1db6c5b53569b3418f1bd9f2a2393e8660cec4111280ce7a4475aa0e1547da004f96794e2da685a35b2ca0af9feecf5833d57a99ff68d788a2f7157f7167d52a709951785ff5554d2d8ac35ee11ef17db1470a7d880d96968e607c402b0ecb386d2acb2e9b7caf228b8c61206173a37b9400a149f28b83385fced7d993bd6577a555707b2d0016b64462a0f197a7acc9bf28a0d963e3fe57ae9ab35d0a1d13409b3e3c52eac53ef5f341f77bc64c3ca859c6f0c2a488807943441ca65af3b53875492b745ea25ebfd3fe893f3518ff41f47044d2b7e2ccd904cf49deb47490b9fa51f1af0cd908171e82a70d0f1447dbe8b0199578ba33522a2a836d74956e6b34b8941610e96880be3723ffcbff9ea4d31e99b147dee543ad39156210c3fa5359a7826293ffad42d52623e5212ec6f1fbef0f6279342ba0ce16a9651fe6243c0325eba712454ed07b2a63c8a5b0eb394e9bee76d1708c682c8842604c02544ac9fafd349df72c706d7399040b1d80ccf9398adcb53202d0ad62e369d74ba399c5d88ab2a55c7c8476cd687b66b4df02848f0c5ad3cda93efeaf76535d7eddf1cde77db1df0f5cb335c80f8b9917675980c7c249ae933ca87e541afc45bb32fc1d60da5f7a31d0a10556c7ecb58bfe227f7fa27369e347e8a8ff465e9e27e652d95738808588f3af8361f4b591511c9d1e58cacf3ecc334f6313d7c4f44a5bea52291f75ae75d87dfecb4de0fa565a3741400c1282196aa890c4eb3ed2c98cec1be61d28c87950ef7a3e94b9b690d3e980b79571edde1be8388c33b16882a962bcdbc12cc76d28289d47939045d521029b58261898ee1939375d253773f4e0c64624843426c0fb68c131f16a48f954d0d4ab78f76dd174971f1e9486dbeba0d3d60b421f9bd80a9a8aeab44b2767a6ed75e82bdbf0ba97560825fb0c5a7c76654cfc2782b2ed87b09fc9964bff0347abed8f0dcfcf873a5e329255e835d159a96ccbf35d7b1a7a13de4f52fb855fbdb8f7024aff96c2e4214613dbe8d40382a149327fae72e0c5e4a60a3b705f4bfb05200497f4abb9effdff72f790a498b80413ed932b8c73a100ad6ebee77933371c5e3e24fd87d69ac2cdc31ac49f6f1633f3f2710291942ced74eef82e455b690200a15d2a6f4a7c3e3390be81c969cfb0a6238ecb8a896cf85325588dabac55e2e407aba37346cd2cf6c83bdced4c20df1001358840a84687576fa9be929e3a5815d3e422f9381924d3a7dd8928f5a45cf34f021a720374c761696d2ee89e5e5e84e3141c2d662e6e2f9289d39eb890307addceef6449788a82190c5650f574da06ea73571215490c7fa70afbd8948295d552c40d28d89734a75b0d1e9591e4b85f940c4afce7d700e5db49a1e9310536d0c224ecfda91ee3d977e907551d4b6b563fa02f7bcedd9a746afa4e3017a5c421a1ffab22b4fd4943fcb39ad1eb1da51e4e08c3114ebcdb5b46a9ff1d95282bcd2f10012f771d1aaa3db54a6af57dd2aeae5411a17e75e9807af6ed93c186e94af7f188c1644a276b3452f06f5672ce39df42463079053c5bc5e8701e848d2a13e7ace1c72ba84c145bcf648f73849e809c047f5a50fc1dc3ebfb749161136693bee1ddd80946514714d9c12b688c40fe72386f7be6227cce3f90b857e97841d5162766e37fec93331fbef9e03858402058c335b2cb7eb711f4df35cb01dd2c4c5011848a3500c678bb7d687c2cf1dabb7d2aad020d9ac4c7b03ddc1e97329eb47fc8094a6efb852aacd6ed73d7e83bb83ad0d0534874795cd987290949b90ed70f4542e52a74d5878a0f36cb94e192648f2b368d16e68e360e1531361f84694cd817419036c4e2514c96a0a5dafe6a85ad17e39e06041499378fb2e9da2eac70f0c1130f3d565b42ee6d95e65735a2954ac5e3d57c3cce12ef31e30cb2fa3da16c519e5f660b77659982a1f2378ebc5760373b57701ea72827464a673c40ffe9ba30b305caed13e2729f8a3d21de5c6460c427a28f9dea0b3e6786be16184bd52904b64bd1a5e551d1583489b35b1758b865a6e37406571e3d01ea4d20d7feae5fe47b5ec2d0f7504c5b6da327351f3abce1bc92af79c6729b4a1f4ec429844349bc140aba9e841d88c305b3145fcbc24ab34faaa45a7fc01cb5c5838084005b6819914acaa890c894d0f2c60be920abab10ab58e71311e496e44d232f17317b411effd2a0b7f0f67a3b9acd5da38e5c8b8745a54cd8cab597f75abd6f2a44ccdbf768383ce2d371146c7230a4d46672814d7073ca17422d3f1ea4da1d7758b197e1028eb2891c98a4e195a12dc6f694bce68a633725a2f572a002019b876617214576b70f463382860b1362c8d3abe9ed77754d63360755a391f13c72455a7bfa9a9651d7a67d7be4e0e7d5042118fe4dc8bff55f80e22e24b0073c179c3eacf8ccc6531bcd7ddadfc77aa8548437687a524dd3c27da1235d3debb09b6714d03c53dba5a9db39d1328b500a7b1dd6329bfc97154eca85829342bb6c2d583e2f05b9b60f07396012a9ea701b0d70d5f96fd868701655401e4c6e92bfe4cb467e7dd18b917905d35e35ef0b7889c98d976eea31423013fd1a55a5ea18d78dc4a47a9963262410a13ec7e1d83de3b8a5d6d60de20afb6ee090c342124f42cd06e5be815da17a0899c22a1e4c59e7fdfc193e51070752585a43c8e970d72d045e7e5441b4371dcb28ca7cdbff681498e24e97c285593ebb4d717f3d69e1932c8684c45896a1adb0b74665a4b534554b2e201835064af4fc7de2d15561e9508f9101ea505028920a6e3ac4d47e6b548d35daf02db544a7774a3f977592fb4055a39597d38910890b742dc652cb58dd393b7695c7c257c0322e9a0292c85329d7a74c79be8b1c8a8d07909c7bd398ba3550e4df76f5fe0a675fcca28d6f8c2429e9a247f488abd94e0331eee36e29592c31e06a0dbadeca4da56fd54a5ba797ebf2a71945d7465c0a45fb3b1caf6cbf729c728ced343005c0ce65721e9e1db54f85f59356b6a989433b3115552969fd3163e4eb3f005e833c09f50d152b86f5ba6251de125860069ad0ad20529d0058c76039927fcf5efbf0d19c573262a287d08f8b581e21cf058e9d3453d969528a60521d5f157dce51e0b3623dc6946cc844d77f7a7a6a952c8c97750855226ad62f8d16629c63d6a138fa976c77b9618e21803d008e3ced97a10a6436081e625b0158c35e39469fd5670ac6f3f806814ccb210691356a0df362869f7e48aad0bd6a714ef87fe2a6cde0451e03420bc9e3911a7b335e5ffb2d654eac9b64cbbbc8e1e23293382ccfd46c358ad8efa36fee6a65ccd42c88d8a952e555502b74472ae5ff236c9c2471bfca9c093eb7db572f7217b33d5230fc3e151870d98c96bd6afbcbe587ed531baecdfe59922f3089531168621b5d2e76c087284b6698c56ac3bac0d6ce610729f51961c206746db950600f11d91039fb8f78e7b60089177f6a8cdc013f62ed324e223740d41294875afe00685de07370d07322e8b6ef9eb55b0f81386ad2fe6e7c5861a09e5af3a0e92e6bd171ad4c255b718231a2a3ffba4425024b03f098d23a40122424e1cd28c031c01643d2e8d4e3cc8e6bb3092dc5e92760f9bc9ea6285d1610f5f9a1aa6182d73af27fef2b30ef3a862d68e995e66727fd60fd12aec19f33f58a1d5b4dfa66eb1a4b53dee32bf0127add297c23caf7aabdcba9a6ebbde48a579b0c0afcf0b639f9c39aacaa006c6135d74a9ced510735b24858a6f8cb7d20ff20dd244c016db9e25eb4aeb6c64cc7698961dd9efd3984de82d6f202dd0be7b074790d9b7b239affd4966a340bb28ea6c59451a66ca23a6683d88a246cedb2c2f16b202fdeac6997de1b0f42f2edfbfebed8b8688e76c4f8b7ba17e3d94f436d4ae7300519faf061d62af941038d996a8e1c8c905d3868ffe51ef7a939831ae01ec7e0acf992749c15b7fa279994ff1e0ed206c5c9269f2e0daa2303143120865489a37e32701d287261d2cd5b97b43d1c6f3b17aaf3172f53042f8d5fee2b0ff1d18962af8f4bb6f4d7b1e9c05f6ee01c6b00cc380f8272cc78cbc396e3f5bc35d23134b8bb500723d08fa8664a0774c5c853ef39099638e739fe236e0d69262830fcbb6fd0f3cf5c2d67410fbab97c18e0b5b3123aff42e1bdfa314c41ba4bcfdc4d51068fcab146969e8eca8c69db17e4bc297cb9230a959c3effa891859f1e8c2200b2feaca051067e2da91c3d142649bc065ecaedb85d2c779306bddfec3439eabb1c098e1b7f3f669bc95d8f581ef66be4695031c404b1f3bed4b9557c435d1fa515c5f5c09f38ea05eade3ad52f03bff3ce338f501cd1527550814ce47c38ebc5386763dc8f60388df669d3a181ed632254b18b2afa1abcfeed882392ca0ae39634a905e63bdc5e87c1449216ed98855a32dfeaa513cf18f347acc9d3509f684b1525c9d1e138b770ec20671ba536fb6ffb7baca765045c5315df0ddbdc4b20dbc32d9f9c8f4647f92408ba80fdd339d6855d634a6e3b0e4dc4eb697ddde19d14765603ade8538ac35a1f9697c907c78172f20a82d1f8c9972f8282a4239acfbe060221928e7e149e973425d5afe8d525aa7d32755bcec0615d84a0160bc10c6009c8a52553f01628ac0309514020d3ae63a937a82a5ea665a765aeeddfd9bd253adfa5e42ca5a41df431002b82d5a9fe4cb0b14233249e4ef623f57cbc668e35d76f845a7e8989951a2b7625f06589938763122ee1be825190685a6fac3f9a42cf15c14f357dbd0c3b1c4493f313b3a50d81d946532def57ca7757e662bca5bb1a871243fac2af758d7b310cd7630ac3a50752aa1a61b1dbae1cd51e8ab865d23d73667e26a6418ed0f687b38b03ddd06834fb91760666c1eec1585dfeaa46243283bbf6b13814c42887fd3619ff24ef94343f9dd0c8f4c0c156888906206107d81b4161d731b26723386560af4e79d33f2d247d6e10bf84ea06b13f3e2bd5c216d81c846a9237710071090571a2ace0da70e309da4be458e07446e867abbd230fd5061e711d4a53c502f6a9d695da6bf3f88336094f3d71ab74a5eb387c44b9d8de195a283212daef6692defd230162fad01f4a901dd14d4d8076b608bee71d22308bfdccd29020c0940e2e5b500e2c19e66e9665e9452111e3279b0320856eabeb9dea418aec7e051a002a3f7e950d63aacfcc2b5085f9c7e72085a18e7bd3f8459cea1fff977cdd43722ae57cd434e2b08f275498b67ffdef57e25981e35cc62c4863cc3af562baf720fc7b5db031be242e4679e667b298cd18a00f1a23fb5ea7c282270942dbce120f4ddd312ec368b33701e9a1f5db4347c065660db46e94cad4bf6adb01aa5455661442553a83f79e54fccd8fe25524cd4f3b48109ff4b7e6de84e8fa738dd566fd438f5f0505863d78742ce2480448549302580029015e86e816f72f7bf1587622d9761e249e52e3c52f82d26e1bb36a6f67bc8a91808fa4c46f645f7723c69d0ae7377bb944e984a743d33fc48e619a32fab110e8af6ad9435ee390c3cec44e64e30f6b02501ac124998c772e68034b82a3ff37153ac80991ba9e64714926cd261feaf933c371a3f5647a2d18eef5718ab6715e5d48b598f3355bfe81cb05a8938c41ec44b73d126c669737eb83af4dd4b0c48b7f3421125a3673177da7d6b2adc27548b2ae70c81f1d0544358ac9382aa31fd43bb7be914947d19bbba6152d2a644f3ac2502e1166a8e9d6f976d8fc0efbedeeaa59e4eb3c781b5eac3a66be802b4937fb2894dcf4452f5e504283fed4aaf2db5f6ae07a265f9bd4904752c84dacedae5ac0ed8b27fb337b75b97211e44cf42ebcc39460b393bba3d850b437df8a5ff1b02260dd2828f60bb098a7a77f26127dc5359e824071e3730824671406a4476a90ade8413fb2cbe32000e9cb96742d22cc1ab0d86e95f5c3c444150df5273e71a1073aefb2c5f6e5c8555d0af92951956ff092238bd96be3a8e9d4b039e90337b5df6d4786d2b633d85a601a7f9aca090e5541af24b5bff7b8dd9c1521edefc6cc6a4949dce476d2b44640ac209820903c636d94065111069b898a5082600943359c48b9a1209053f1bfc03873179c99dbf41a4ff3a00c9bb1eb4a2a2e5e249cebb0da86d40b8fa171a81cfef9325780dfe8c839a5902f83b5489c22ff7e5","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
