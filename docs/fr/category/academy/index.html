<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fbcc00051edcef18acfd35cf34a098e4b97374c206c360771333174196035e5556cea0b1cdfccc995e2791614a794937828e75cae85bada7995a808b0078662e45ed836f5fdb14bc5c15b3fa4eb096bb3ae78ae249f0eebd26a1301a0b9ca7b09e726f73943ee03fc82d9cac14a23e09652dd45aca63f6dfacadbd30eb214c886eeabe10909ff00f827c72e50cc042e6fe74b4624ba1353e40d717ef442c02b3a71b7ae9aedbbf3b7625de4112112ffa4e29f863a93528f76da09e6f1583180932bff1c7fcc9243d869384e77833156c1e642622751430ec282cc94ee7144b4b11f772173a8ea39356a8b52c143dc91c1c047ddec950d244be8116c8d1de187a792f53e4365453b506e94a43afeffa937c991b70627df6a428884c66869bd6c363f19a0f013eff89a77663cd2cea9391688b4d72c9454bb1e59b678c15f77ed05c26658abbee0c23db7f7d9c250fd7fca20477f5549f26ae3e15df0ba6cfe3bdfe9b9361309a108df1dd67cfeac974c9a87b28c7cb9721d881df5c78aaa57907bafdcaccfa2ace225370d8b8276c24a62119a6672dd86982e13fd905f39f663df58b80865da9c5c586e5daaf2c276c39f77806696cbc296d96886cdaafaded65b63321b64bdd82966d111de35ed3a09dc8d04ddc31c13c88431a0a533f5605d81f127bc1120eb224101f2142d45c6ceb5b2d5c18d2117b56d1e77b4c1732475f9d567c99b7146d1b2f772bc3da7b8c96bc5631f2ed9be7bd86ff1454050aa6ea09709fff0e50bb61aee39b7a43e9368f82d4e692e3fdc6683c163beaf3df5b16337cdac92ff4c180eda3dde72b86fa6e3ad5581e0261d75e92548ee4835a5146455e28f14cb50dab61c86f26208f7b594cd84b2b0900111e984597ee8f75b50abbb4b6876f2d802ad7fd13ff4a1504e64ec01665835970b29b04839f9c1738ce2d1860778133576333ad52d6e48d3029079421fd5f2ec026b59fa2420b77ad5db7c8ea4aefa665b71b4d07a96418ce6627a1ff77df1b4dcb05b62ee83389c4f025edd6f123cbdcf5891877a6729d749554c665debd28a5440ceb3309f84967646393850c5c8c6f9408244fbf3f5229cca97302897c451c62ac79272463d13d66a8f7486a3cd8be676ffe8efedf71cb278ac31f084043867199b92a78c68943b4911e0af4651d056e61253458d1db857fc166e13a47a48623adccf0bbb4d80580357d3cae549fae60b21aa889c9fc5d512138d127c9a0ff5eb1eced8d54f7d5dacd5563cb440b1014286e97381afb6eaf1c7501546ff5f886f3f0e830b7a5ae7d98162e9dd42540762c8657e3a6fb1db8220a2146241c0c0cdaeb7b2721cd62b3715c5d111143ce681db46dacbc770b753148e5095c1d89dc82e57b6adfacc9087256ef7cae8b129973cd033b0902af220e589bb9932297c314d51d0a067493424f4eb5f5724e236e1fba2d584fc5b3a0026cd1ec120a1036f916a52a190072569ebcbcfaddef162e0b0d03910fa31b9cb08ac18e196cbe0679583e8ff1e564dfb42de43b5296fdbe5ce533d392a614b547b42caba851ff5e42fcfce698aad3dc5bf407256d6014b5c783e91d9dd517e6a1d26f1be4d477b701d9afcd1c6af6f600a628ef9a6dd9fcd2d765312fdfaf698700e077dadad4fb3266ed4d2af727f47bb83dcecd75d90a22fae9a403ee30db0d9dc0c03d4ac39a3ae2aeb334609e52ea3705ba169b148e4260cb513ae9021ca5daea5db8fca709a0ffe41abb2f9e18d169d72e3712089747c8c77a37d873c5a27d3a3c0beac32f2f0fe5855aea2ac6e319a3fd14e8c82d762b995e1b021bcb58b4b39c718d4ba802405c9ba6618b09e4c1bbee62ffface105b5b3308fc4586a16e40bf7dc59d6cfb2eddf7733a4e4a0e68feb02ac616c2baae4b1a07e69dfcbdcf6b04eeac809e309d4a713dc3d790f4ac7cf115202dc34917ac4c24a8482611b93dda68dfdb2b33b5352ce3d257a5e27ca008d542edce4c75e57853f68af377a001d741ef4bc398411cee1718732b9705dc6a61b978cc8d697244154e5755bcafbadd5ff957691d2d9e06b58fe3d9043e2a5c61bd9aaa042df1feaa6c7ad17f3cc2b29886b03b0a577f464bc2c39c5a568cf296bffc73945d443d4ca0923b6912bba911eef21fb91bd775cd5236d993fbd972054aab75138cb89fdb288cc855e3b2fa9de924f35c659e3b8d568c54fe6e56698081e850d11696a6e301bc66ba10e17c46c8c670501016fd90f89c666febe78fda469820b6151754e8fa68fd8f65f19833558cdde1d6c5f8b91e7c4c8bbe92cd65da5113ecb29742dd2c84bd7e8219b5a059baa9b09ac207bdd70fc700cc58d428f5451ca9b3eb7b0594912992bc60141b5d2040b836fa5adfc529274eaf6df01a1e207a506d18393522a807278a5c0c44ec45ecde0d3f12513ba98fec802a9df84c09ff2541231f1af2a8bae232acc907d5ab0dec5df639811035a215a0d89cdb10688eeab74e6e515a0b3f924eac9aae995def78cabfad32da5da547424c9d09f31531aed68d035b8f5d03a5eb20bacc310afef95be059a276c1344a9a105952b1bba3dfa35e1ec1a3f7e0c9ba4ed6ae36b2fc8e0705065bdaae37dae6bfab450fbdedbd2494c415a73d131d586d3f29e8c78e4d9f67b877028a9bde19d71190433902ba2ffc90fb08e9552fef2209ea045cc6db6b5e1df221be06730e716a86de58b3854f80a82a1f27319d107b9bf2f8c7b80a6ce3513bfbf3b05063994081ddf107285dc8f0a327550dfd336c4adef3f94754a29eca45fb000007c0ce3bbda365d86b2756a57ae6af91671efe964a932079c80eb0d56ecef0a92b002f506ab47ccb6b961ee9983a2752f07fce0cff5cc0408756a41f2a4982af92d1056ecda9a05e6678b48176353521af1ba1d03ee4335e52da285851c08af3c2b52c829fef9f71e64a3ec2c06c5ebdffdd9594614d4107ccb649fc82134fef4f5f3efaa174e01ceac043461c54fa3ab2dbd9ac8e35159246695d25ffca1950b4746442e1a09fceeba92df6d749880d755da5d25227b430f5355250e9cc54a9ee905b35d390454c673f758e6b83f00fa5b2b9b85583bce30e8ed13cf1bba9285da29eb88a862cc000fc1a45fefaa421107348439c57b50319eabee4827023248cc01898e3654376ff96a1ce7bb65e891a896bbe1304995e937a82f4f3612e860e7f27da24b9d6a1e751d2d0a4c2c8876cd6c52eecaf85cef72d65bff51bc851b87791cf27a6e7f5f595c451c542978a27625202a2dbe603e923bc61c5e7c614acf99f8f9d6878b05747f77cbd32656e275bd5ee54964a960fd83393ce17bf6884e742b3a2390a77207538bdb31abde00187f04c9eace9e333dab009a840b80c26504a54b312679452333dd2040922366d126da8acd9c7c6a9ff9e5dd01818387666afbfab0ef8553ae6aec181e94800e65ed81033e65000c00d42f7c4fbd13a41e4b6a6a9c0bfd7dfc95e97ddd1f83a2d211ac791d695fafcb94d2c24de9146139dafce6b3a48171f80548ddc7dd489f9cb49cfe1f64a552c0d2a630598d43a74eda9a8c238e17df99588db9f3256672797c1cd807b875edae3eb4f977ca8ab0d722c996bbcb3e057228accd87c586c6b48d1483ac50fa181e9b5eebe273df2726e4b4dec41a80dbbabb6b6f5e49e917b95c0e855bb629f0a040d29baea7c8bfbd3c42e3c34e77f7a69cfaf9490827cd68bec28ec0f28063f70b4609ddf2d521c897d22c4379403f2e1fd038b27bbb579b651a9bc587d20375fc1b80b222c8fd2d9d84cf24e516189e86fd4c270a0d34bec6164fd1cbba24c4adf405863c08a127c92ede66156b8355f7e17ef2f2a84de20f9815a8c91c6b0189ef0389e134d71c3c6d9e91ac4c65ddfc6a450c57626b7011a245e8273c482811a28e00c2b5f73aa42e794c0f90dd16a74155dba0b639a48791ee70e6ac3cb378b4146def6350bc96b8b86dbfffc056176d01152fd84a4b0ba1c794cef8dc66aaaaf25fb71808055d61faa09f9fb57ee89dcddbb47e76c540cde80962cec224dafb58055b171390f05de7b40a2f709d15f640b771ecdf069aa785edba27178fd1993eed5e6a92557dee06dcefe075d16fc8f4ff2629ea9f9cdccb5e68d29d0e19469afbea617c61ffc658c4ea44954800968266bf107ec31592e137494ac74f0f6a0085e0a1bdc043de809abfb3bdca5d3deda1976b7599e06956e3e87a089d89b96b5902c7bb0d5fc60fcbdd60d0d794c1ccaa8d9e045655ab67833647803e8a02f8186f04da421216805a9cbb1e7cadffa80b0ef792e6c75ef6e278f6e743ff8f9ec7a5a90ca0260f8a0f48df1d79e77326f1b53f33610efb325af0a2c0877df4b42ba42196952da2817c6038184c1a9b16e3ae188d94ecde533b5f1d0011e81d862e62354e53406aecd808a3c8f4141a723cf6768830484c120fc9c0c2d502f85208c45ea0b7b1776205a5852290c664cd5b51c732e128468873fd25a65ce50f93685e8bcd08c9f87f1bf754d15fb898fa9b1ec73b4f7c67b12eea6545c97084cd269ad307370e4e3b39c40732d696e80a274c712746add1d26ebbfec23f3ce8c27123a484620213e857dcdd2f8fd5acaa1f14d7cd403769f76ea5247323a671db453d1146765d03e101695fcb1bdc08cb99948db7749d20ca14a6c3dee26c16f3cf42924200493e8b22e96d7d2344798a2c9db4e5c92e068e921da9475a5fdb1591a3726c9280750c48bfcd651f9a9de875cc476118d9af210d004f849d9d73f58d452d9f25e8eb26a8b0c542d11f9092069d47f2d123e7cb271328b183f28744e2ecc923eedd275eb62ddbc3a0a47d94ae36d026c049fe3305dfe6707a21481695258cb436b376da7b378d144f3ba1b3350d3a4c88eb5153cfb9616498360f2f669885b9077e701681b54d685a17e5d6894943154a8ee365588d3d21dd5aeb2e965bcfcf78dd4a05609b404ad0e016451b7b6b6134c2e479f1b567f6be1ce20aa9b40b007ea5b703ce8db39f2f1477a12624a9038dade90e45cacbcd56b93adbce709b4a77d1102efbc7d59027ea65a203ac32448d053810426119aee72ac3c3aee68a01850dff133f4c03d563e2f4adab45df12a8c603ba4c9ffa6cf45e03dca707e66a0baef144aafa37a32f4f02f0f8e4eb4e95e49554b33e8b8a0755c1fe8c366449c65b9a28b8305a058eff3d7aec0f21b625e5b367d079470bb641e38ec7f50e266a2c8b56abcbd3ca802abbe2c67bfb971102faf9d520185d18407fec2b2b07a7d9e27fc230c7020e5f4e31bce27d6bda3f1cbcadc5d3db780060014198bc5533068ae173442e079ae3c443944d6c334544cc0df86eae03753c14d46fb99180c688c11cfdc6d16c5204e08d78efb738b5b126d3c1c2655ab1f59f85b4621a9d1ba8c704edde16bfefe8aaac2b82922d79f30c8a21329fab93de1b4d0e081309ddd434ff1a294f31b1f8d79a58707a401f76edc2d74971b10de7a18e1245e0f34fb353a12ef84fea80ce1d45a2db2ae08bfe995ea190acec7c763cb8f0e59d36c1a3cea9ed6dd460bee7f7d5769a4f1e7ee4d778222ac556ecfe8a69730cd33f6cd5c5155a550696821b8481f303b0bf36897264cb4d7faa5152b3c1b4d629b313ef54fddf8cd0c04c620d328268e6248a5161d0ca77c60f5670ea275b14cd4c9329a16c0fa32427de3bb57ba40275d421cb6787ee80e51c099da34b19c60e235d77d91d76533e36e85776964e3f5abdc3f89e356ce6bc73c3651c1766949c96bbcd4eab51cd3df8bdbdd7f0a2294f597675da4dc0099e8062cb460d8fc6611de11863759cd2a866b3b154ef42b9e50b9a153997e83b9516965d1d7e884a2835c6ab6c87399d69fe992669abcfc8b240957b259b2dbfdec37fb27fc2892a1559a24412462770a2fe432287fe653b6c9ae438fddb7f18ecf512d394fd3be5338a10665579a7cd59d5f389274c209393fe499cddcba782666032a8a4a11808d0972c79b4a4f2d744c0604903ced4fc0aa4e4fc2f3fc9d883c238f7af2a6fe117b3876529a70817d7e99103ee5300a380e0046a96e4f4950cb49022e51c759af495d9eac7540c0be1c706a526ee17c6813832185415a7d14ceac8a0dcba4f1724a6d0b153f1dfbc6ce5db76fbdd42fcfdddbea24c67adfb92af05c285524725a0ff4f7db51feeb41616556a6cd7850f946a06d08d9c3b9807604fe2b8c87dc78263a7b310bda276f74f6061ab6a1fd913e93e65f0b51790a642637563343c7f7bda297fd61c67ff9d7f91202b6d3cbe2b1b692ca3d8e8422c321d3969cc2eccda6e63e58652de418ef128cb94fe9980d9e3af030e3bd355990937fb473312979800baafb0144c559c24f27ded1eab3108347568d2b0d08cb1274a944dad6e4f37dba40ab9a473cc5ec6415bff7c5822524226c9ca31ab2a515420469938e033215214382e4305b93ba9e2dec096b28c72edf6269a3802a35c644ef2d380c5d3a51926f84a3dec38405fe45381c7c66d71a3e83ccbdf2dd049b5dae6e80c41e43895c33f38a28ee6c116df2e01eac813aae91bfdb36c7fd54bb00d3af3d74d7cfc1fc6c97a2e4a53a77266b6cad68498cecaaad27e83bfff1cc4208ffd17a24a7880684e7afe5174f9b3c8d122ab6a45e1aa5575c5ba101a02bc0a2d1193cc53d33b101ad1f4ce81fa4981022909495dd3bd9a8a1cf4e1f33cc343921231149a22b56bd921d73c81dcd58f34c8e92dd0d5ade3d7c755f1aa806ae5bbcb45434f13279181106760f276dae4ea03a6fd9f3f03fdaaa61574e15506bbdbbdba00ac4984e01aafaca0ab6ee66a19486df52be8aab6cf892391cfb0cc94abb3f49f0ff544c8dea1dfacfbaff679e447a32c2e90053de20b9db0bac3345fa28263ae44638ae1da2f69b4021606c818a81c20c0229b1949c1ba3a377dc5e8a78b087810ca479c6f155e2239444f910cf75a288f96bf28c624bad6329fd91d6d4b85c88022b85ecf04c828b4df7b4c62ba1fb5bc7aee82451ecf2858428c7039d68d1dbc51025c4495eeae02aa3efc5ff6bda9abf2db540f974bb65b7437fe374acec73ab8f82a6e0c60bc32be88b3952711a96e574de1ca668bd0c2538820756bb05277dc91902751a39da327508eae939dd537ce6d310ff222e4bfdbc9f62432dccc211e38c4f72807e06fcceb27dd6c3df8d8006517d63e517bb858051b16c34eb4fb710156488a479cebc445505fadd03689f850c327e4898f5609c433e1d2b166e6b51241e1ba1022050659c03afdbcb1d1d5cb835213969a7545da62af94a7b3fb93d5433deab5e58f1767a11c0f07e3bc975e43aca6d941688ed7f7bd3b2b8188b765764046ff686ef3284c5ed26b65fb1c597ac8ba4bc84229aa04bff5605e911a846af6ed5fb906e420cc355b6836b5f06dbf28c0016baed63cad67db6559eb4b2f7d6ffc8c6c52ea1711431ff2e6c7a5425ffc93a87d6d27865a3493cfa85a20f39f48039ad2a778e899aa1061d5d6fe1fbcdf089ada9b3848050c3f3c749bfbcc5b58f4aaa3c34163befaf19c99873b6e8fb799ea666ef598cce9dbc765352c620bdd5b1ba2ba5e397037ec9c343ae128c8e5c3271b0acee0d7003330177c299998f4c86f76acf5c57a75b538e7be6c78e2022390b092ab77f3151460e7d411e813798945898791f810ca2e9b218bd85f775555426fc34de1bcd3c086913900ac15944025ae372cdc090c1b845af2dfd74e3e404c1766a1c503dc25c0e596a6c603e86217755e25f37fa612cc871151e2291233acfaeb78671e993bdd4bb222ed4ff38197930dfa1f1b0843ca0b8604d36078ac74ad6fd8d79c97286a5fa4da90e4951f85a2e9bf9bb3e4185475a2e8c94926b135f125f7666054069d3e3e2d89116fda47536b54428243b075e157f3bd3f8f06d506fdcab949c53a78c86b266c3f6a8f524ab89773414a15b27a13a29ebe1affa3adb62a455fb80a5fd677f2545e092917a13aad2aea98d08b9d66a53e99bbbd0f8f9f9b74f73645c1d8c028a58f7bcc50a3dfc39814abc3b117216bf99257c20db4b71d3e218ce5a3ab2c70676c689569c3196b028ce3a0bbd8c5b39e6cde10ad7e8763eabe3410a927942eb5749d4142d929532ae23d672b75fb5c095c6edd2fb2bd3f0032ff032aa2e7df759f5c3d3d5fd0e897850a206172ab28cbc9623708fb0426657c19f07b80a84524ac7045a5b2bed6c4a80744baa835671fc1c4e1c6550b05ef13797602cd55cca0fe6f16829300ea6d4219f5ee39dcb95a4c25a9146fbfa76627973c9357a38f691302a68f057a745ae0593499852e0477536d5ff198411f0eb57bf9630bb66af16e20fec9663f694217c5253277565441e54640ecd0564710046c764289ed0c0b3bd2e5526ba2b20bc0bd4036c7cb98093d6e456d1c32aac719b5d37de3b4df90ed08938a22e2aac06e0dadef93df4bbea2ffbe38352b01f4672ba51154873be680a71de91d4848ca8864773a37691014a474b14e187aeaf654c0c1ff71eb7284c7231774455a73e4c96680b5eaf496e6520aea5a96cd78820d09b774526dfe675d166a6c97fefe527ab192a9f4921069032e51051a99a8c16487378aae0e51545a907fb95f09da76e59efe28afe5f1d651ce793e1330f303dc94f3199222dfa3fb2d7c0c9f6cfaf697d32a6ae27cb8ba6d4ffdcd7de209fde8938ba52c83ed72b80961c839a25f0488a812870ce17116acaed9bfe2f0ea06e77832b465364a6da839ece43992afa187c7d7322c20a30de21c76f4035539baf32fcfda77e799fa5bd7444259ad82817ad5b78ffb53e9343d44d3de2c71f07db0f45f86192f1313fd718b820f3104d07d459d545f4a865c8a4404ff9027524ae8fed8f5d81aa279df1a9d498e989d068a9a73de7be003ec4b5fd2a829b028b63bbfab1b8f7f7b651e79872ca984356739d760daa0ad38b9400bd633eadcd31b9aecd078bf859ce6d55efeabbbb3cbf1d2550b2dae846f64168e708d028d56efc15b2cb5c290b1dad72130a7e7452345ed4a7a368feec047f89dc488d70bf3417341c8079fef0fabc62893267b5798f381f5d5a7a2b26635098da8b73828c29823f6ae63673b904a8b52b1b866ce44b8bc64837a56a97b44baf4a43233071e3e5604ea0b67ff7660d4e93fffe351e01059711911911bde8cce839f426dba6f8f539f6456c2055d8355a501594f7b6d79b64951653c3863ae878b5d0d6c8f9e8dda87be8fd4c51faf733ed970a9190e1cd767d44fd4b36141802a3bc5b114552f7a07e86da4a790b12b2e3366e9f9187450205d52ee358c887f92ae0a2417e2763a5a53d367abd73c657f2b884df2b5defc0f9a227ff1cd847d1bb9369367a6c313a84a45b8899305d38a56216d5ae6680a9d2bfee0355e1350eb1617db42271a33b015dfc0aa647fb85d761ec3b99a039661abc24e002fd78c94f60de5d53819be4f5f059ca48c05a0e6ddc61ec69a76f8abe00b1b790a19d14d71252215cded20a51844e05fdde06b39628e5d7ae41ce3e9b5334826078c52f76083d36c9b5daa205321eeb17798aa088153b2bc967209ef829227222208cf46aea7473900881519da114bd03f4bf2129461169108355214e51e95195990bc4f4fcd917366a2090063520626e21d460f93ec6e420a8d9940783a0a6227af99ce506366577093af2aef4df79e187519babd1f0f51d0b33b46a906fee32583bcb2eb4b1485de93a17796f13c105e3151e59c88f6d383f4c7f8f5580d2f0938901a134e4da8588877032d5dcf8c380faa294ae640c7665e12c20457449b7a9f255edd58ae1ccbd7bdba27834e4d4669dc2fec8ab9f9e5da4c0a9a29b5a253e53f48cdca953150221004ac140b8e84a5ff85e72ce4cdd92315d5096f289c18cd933d3194ae9c508ba95bfb6f9046b237ae85e7f4a904b6fe2fc0f6f2fb7197462b0ea3873e34cc0c055fcded2e8cd702cf825e73a29631e39f42353a188b607ef586e58eeff05a86d46bccad784c5989030092fcb696655a37fb28a6ce75e66e827921ca067d163a15483c0657b0150c2d7d52065d474caccf4e6bc44e5326823e211bfc9dea6ae2d83f81eadcde642831711de3bb012b89fac8145de6d7b691406a10cff6be9b5218e672ff7f71efd2a1aa1d43a168c37f9b6ccf068e1f16c5be5942275b74e2ea7a0a20282522a4523cdf6674947fabab4accbb6c8e576d22d1ff31a80ba6e5a90509cb19908619e9a5bb7227d59ac78c4b38219a041c10cea37a8883bc490634afa204013f8ac440cbaad32be43efd79403a42ffaf93a777e24aec899d34f81d28bb39aa59aa29e78a12460a53dd387a1eea1ca4f41aa67281d0972cb09d012e209070dbc6beb62de939b60814e287b435b038e45dd818b07a71cac7ea9ee036178f37ef05a2563f8f3ab13e26be9f5448c8bbff30ae74db340921c6cb2a4effb70d357693a8f0b90d86fcee304c686b95496c1d21e50ddba4e6cec0e77fd6aac804e10501b15d07263ba15644726a93430aab136e3516dc64e3b64963718ebe5b711c30da4f5e057c2255c1fb1fb6d959c90f708f4387262eead32d68b05ae2bde4cb4a93870e3e35219f3911a149f32bef2219a50798ab40bf63722794de6761c4e981b86094016210e7ef4123d3e8a863066bddd6e45217307446765c3ec79cd95412456890714d8c1e3f37a5a14b023be8b7ba28739793762845d03986e846045a8824ba05f3c204a398fa934eb5fb0ceef0f36d8e6f40a1a780a73aa4e41ebaaa1cb3942bd5ae5af52eb6860c5f25e85afcf71f80689c7632b39aa2fb9eb2e53750a5bdd23dd6b6fc0f8a375ea30887ab045bda5f290266d8c34dc3cc95a13d56c8ac88b9b6960dd9e4f7dfd16b64aa32d9fb807a0cd64e976f298d5ae154042481c85c4093bae5cb52a1cafe8ce3c45013beb0fc86e36d3b46498fcc0cd9a858f6ea4551fc6f35911025d06610ec0b73088467164e85af08dc0857d62f49947d5cbfe07d9f1b5c71c29d66f4c11d88cdd09db03386e9770e3b5afa677721a526fa86ae9ae1ef31e7ed99190fc561527745143c799496651f00bd1181b843656f3c169cc7a53ead9b0da8c9b088605844c3069f9c485a27c7ee7971bff9e69f1bb740134cef6bac51f43ba53e984f0978c888298677c01eda17c2618bbbcfaf7d9d02d447c4312b2fd1e9db3608da68d41f3e9f9d2fef073575580a68ae55db5081cec3913e7d035d49678df89290461c7ed2a705cef2cc77d510376f8fdb239c807b681196b3e98ad374821367890314d7ffb18a3986f607f66b2b95dc77d178d08497bb34795859236b44f4d3e1b5850a81260640adfb796465a41bc5c07499dbee7c7cb7589297be1814f9d7d4da3c281d4222b576d1bb7fa65d84d502779e7fda73ed589058d56abcbf15cebab8de7aa79e70bc861037ca5be0ba28fff62fb9454bd851a2437efae29805a8cb3516042013644a343322190b6f35b40a87238c3e1801f3e84744df5f45b381df79946c93583340f30c18f00d3e5a2ef252baab367972da2ef4770b660a8e623490ac01c77217e2217d757477949d7dd6e7e3db7ba55cd4abd45b44d656e53d6bdde29e83625f3f7764f5a42695893dc73c17bf4a08bedb75b58f05c88f0df3f79e65d8bf3de0c22cff28b84e776f848b0ff2f595e10cc149047d8f8ccc017f7b432f811a54c811a2d2c95cfaa3b3a34786cef4df14f329d12f4783662f64bd157505f3fd64760f81e8ba1760913b6a0b37211c9083e19c2658e4d2303505bd88b30c6d56117a7c2c4383776f5f61e899381f68e8920a98a1e3ea83b260395da600f698152b3e9a3b02c009a25b19666c50e981675f12e38a08b638e4a0f953ae37ab72dad810db617625fdb41eb4449054ec86c8d3d993671ac261884efe7b41075129e1ff0b8878fdd6d5c97ce9f0952bb8e75220b86a80fe3a8ff20882137050e43e7a95c5690a61bad9df8efd9825eb8d0b1ec1c15abe9efb9c08b2142c087ca5017ac80ea92d1a5e686945ae9de72759180d488857b80113a3f340bca93bb3310c1f46424d7a8e671f95e0459607ff1ea9a58225290f17bb755bd2162d20975b5702f1a9b91eaafe16973474dd351bb629e4e27a2ab53d84f6358695226bc29e8d2c294080d7242cb837e47f6ae85c98ed552598a1a99a74415a47c780c82e2cf8315f236fbb1e75931a471e72058675dc6699022c4d46c4fe2360b997fa5db0306e151f26f98a83d65a1b2239a0a4e35b71d0990ec88099903ee6dd31bd378f7dfc3bdbbd07d95cdd100970605e7dd652e88a54d8feb517fd6085cb50e6e3b10703f350a03cd768f5ae468ec212544f26b5a4cf1eb17a75b687e0e5d2750a0516fbf81b15b38b90a98eb78687601c0ff4e8117ca0a8dbe25ed85a4a03f9dd44258ba47b2bd4beb2ce959635dd9467ba20c870e0ef4f9e9f1bb7dc82706df5624a6df8fe0193fd680df77f221c23a33c4ed1f585eca628f795055f42b346090fa5db028f385e7f19d25bdc33d9101b06ef1a7d4eee9c023abb2dd509c389da4a2a4441c55dffa716d26f1cbdecb22d245685d9ccf3c2cbb17aeffa9ad9ecf38e761519222706525c74aab99be5f836d187ef2c7a076c31c23bd8f567134d79a627e52fb516762a0e7d5786e984355b80e5c5707de320e5d526cdb461786fbe8e25546a35cfa6ef2b2a624ee01c7e61a33f7a3998b198411638a3b09cbd1d691e717064db0902165fb1b50ac176f1104053fd925651b2976db7bffe7de1fe86b6b42eb1d42a01258676fb995da1dc7142e31871e2c0ad08180105fe8e1d87daffa4c6304daa2aa0cca5a3b21d0108e8f7817e7b591a24f653486d7a2c14160c38713a76d869fee0399bb4be98801391b3a6040b190302aaa75e9f1234a280824c262f354b671df2121121b45a69d6356098ed2e106e55e7f5aa93a505977e9dedddcc82b38933ac43ee170f7c1a7d1477061874bef6ff440b02bf006f7dffb2fc91448442adc16678379a340a2f0b84988fea840070085129f1c8d03f8cd24ba21bb29b34b0cbff5b3954c703a6e44c3ce303d97221781dca8ea2628b1902fc218f2bbd849d01e62c152d23f88c59f4ee642846fb7389d0ae015d9b0f21823fd4c765a12344e6385ac93294d51ce1cf5bf1604a88da98a223575822bd8bfe1d750c8070d8a9ad963a55eb544b4a9c8ab2cc3ccde86b0790b4e6c627b4551a49ef6e692fe50f86375905a379a3dba45268c59725c6ae3549a39caa3b715f68690b3869026ed780f1125b95b06de91254352e87ed9dd36fce3335387a38b43afc698a8e5a28d3afe83653284707d2e8c56a5a1ff21f55057f7189270c80c2c8d344cd45340cfc7726f321c5324f77af0dbe6019cc969ddc6c26bb06c6656040f5091e044d48356db8bf4f1354fd29a20c1fe618289deb5116a2759847b485b430080d8d4d10ab790e4ed7ad017bc1ad4356d670c951d05c0e7be5282a2d37a942b30e8dc4557873d6a86efe03ae37ed787ea4ad711443bac94b8637fce3efaf038b7665c981d2adb7282869d0cae191fd811f02ff1437947a57b38ea8ed320eb8bff06392fe18fee9e3ebc4edd99af07599e89695f5d9b28e8cbac1763842fd50dec2714e21f1204f5509f3498498fec8c64158269c5eb1541384f306cc316c98b79c007e90c718c0a4d467665ea9b293420db57612a8810f7df423c62565e6109747a200f7148d9c6814115f0980e2ea96b2c7528d1d18396626be18959e010294fd831a2e19e49ed768ff82177076f58b01eb144c66aa76db0e07518a2ad5b0cca494219551bd5f366cd9d3ca390a5425ec687fb35ead2262fba986e7d454494d1aa47ffa740d3b2d167fce17252759f596fc6cc1a43b5661a8cc58a01a73773a4ab84af2acfd08092be317bf203209da7283d9722f8b6e508fedfe1b18940ad609f09991caf7bd39551bacbee9a89ca5d86f610a05fc809ec24e06407105f91e2abc8dff17d3623dd4974442db6c6a711b9b7cb2c4e72528ef83530aa7de847b97aedcdd37a890259f1e063cc5b26330da4affa638e00659bb5f5e7ba022ea536746b4bc4071ee8d94bbeedbba10c49dc6c42400c9f8a8af059db0d823d807c2218d718d9da116d636522f0c18ac39b59b40b9f4cdd108abd9e9bcd149d95ab856933f0dc1a3697b40761ce9f701a6a3a3c08ec2d0cb79301c551b8b5a095304ad66124f9d6d0d9694cd39b6b0e4db15547464734af90ff2087f7bef820933d5eb5f2eb0cb407653ca46d12af59c8d3ac11c8e193b7df3184d758648f341f1357847bef71a2b094ca459efb054e7d6936c1cb7060c6f7fa0f40ca8f7263fe119ba9bde6ce0548da244edc3c7e519ad2280a259f5b0f46a66f411f74f3258cd043396d3ec19b2a8dfbc47a326c4a110bc169943b51fb774e9c50ece940ea0eed7cfeae7dbab2414ae6c27b70f8ee0ca2a8e48fc1b847d38c06bf89dc36b4062d0c449b21ee6d9fda2a5abf3c8ece10e3974361d919e2857565cc54e0de7a1bf6b94b26be9cfb05495471697e1267fd96ad20af0926fa14a05031f4374f70d7fc164b80cafec5fe32ee292d0c70a594c92a6ac889556206e69d36bedb1cf48b5b2d8c1c72dfce1e5efd4015346c59eecdcb49f025194709f0ca85ef1cad233c97f905c6bd11507dd4d7943a0f881a26c1fc3eb6112a9168552fbaf6566ec62d3e8ef3c4aeb6adcba3a08e774ce5f658efcb332c281629d744cf5d4bb1d140bf917ca611ac25a3815c737e969ecd5fff03d33546eaf2609f7d8b1c5bb7c79cfe2b1dfe21db92d1f1d71aacb3899350988b2f21178d89010be525c6d6f6dd5d79490948ea3be3471c21ff2f170489e2e7d06636f02a6e0363fc1408f2ce5a8bc675c9d6578bd105b114b2b1dd6eb96813b22451cea279cef805b5988e07e7b3218b451e5e940d6f70c88bbd624726576b27474a7a14e729fbc41e62cca5ec7061ddf7aaf5d8bd33f2bc2a9baa99446ad4d2e2521fd221d12824f46797be1db79ce56255426fd9ddda0dfc0f998e2fb7e2c676102329aa405205f79e4e181773bb1880739f83c4c30fdccb6ef15ebb41587989300da4363d0fb2ae70b3a6fbe5efacbf222842e2c781811c45ff351ec5d2f50746d75ef012d64bd7dea77be7bf1700db2944ad5ecdf75afb1c8410af215565a225f24280dc83a528cec281515160cc3bcd0470c9b3e57c0fc495fe733c1c9686e4789cd12b42cc610475f94033955c326c1fcbbd41650f1b42bd214a0903b4084f98bb469688a4e8c3ddd8b69bf34530a41d03634ffc3ae8d4fd137801d9cb362c819ca67014e7d3e096508144cbd50fdfde52848e1223a6fbb959fd54604a8c42c789de8f49a24239b9c4bdaa0c354dd935147245d14673dede6920cddd3c5873ce8560642f3aa1b4147b5312b9475f404faad1c0a314f00da32d9e5e77be539d124a511272f66728925aecb894d38e72c9ba0bb8d74f8f0e33448f6a6794102438a51b37cfd725f5d96c61c87b8d2a437e1a9e6e0566a814dddaa997d121da9501aa60c84d18ddf8d0ecef703593943b605301bee157d4786fa374677ecfef6400073b92f7f42041927648b6b5ae5e82b4c597147820118cd62f620ea2ac8c92e15b5c943e444112edeacae535b5644fc99d26312177dac4852f5b6286bb2fd13023cfdeb34e63e6816daf8b2cd5a9865d72b43ccccff6f4a99235a301806045f842e75b20544690e88e6d5a23f7f475940b506f32b58d757aebece6d11dd232eb4936b8c6e8492f9859fa779f5f410a77a1613d710f3f5bc2a6eea063f4bf66d144c920e323dd07f7c5c9097952ba71dfc44a489dda4cbdd9e5b9c3ffb35a95f2df2fbe99be2ab479eb3121627bc152b5e67b2f154caaaa367b795a4cb7fba842b861e74f6b633bb372d94e679ca7c208c842e6fbb1e2cd9b7b3a24a474f4f9bc1f5bbd21ee895b585103f02c5d95fb0243905fec23c5984227def28d769e7577dcf430c776e8330af2c72efff138cba9964836e35a164b040febaef0b0c010f938f9f472bff5b929f517bdf54fcd81696cf34f70f8e764e24c2844b3c9bdb00d3026e66aa9ee9067ae25163d5a2204c5c53ae2cb63533590dcd4ec28f3462e2a847f95f90409615ebae53289a2d7022f7128bb27253a164252dc87401877ed314ca764809660809f9a7e2f82fa069b8946d002ee64ebecf35ef5fbe1ac2afcfeeddf28caa588df89c0dd8c3edd49867b7b3af6e50671a8a990c1c5584d5ca0bcfc8d3ef414abb283379cbbcb034cb727990f8c9764a8d6ee5432079c04a15ebbc441b740030ebeb41c8fbc32c318f1a764d7310206d85fe2edea064dbe82a6439a6eb86c835cf62f9395fab46390878f784af21f690818e288332394ae476a5ae1761b31d53b546238f9900fca6262e965d3c6714205327e05008f96c0498026aebc7c40257a331e02b9c51cb97346d7737a63043e114f152a0feb393e3a14876fcb5cdd7660547d5f2cf4d1f11555956aa6cc14af35a2529bed86ea89fc0401da55038b8636c5c7eefc7ebc39d6ab0c13470535e574e1649c8eea5581820a95746ffc140668c31318cd389007c455be27d6866237667ab9c0accf31983921b6d71aa9c94a85e3b9a72e462b8e3c34d1339e98e50d9d27e07e89189a5ba779f6dc2098bf534d233a1b2cfb8049d9ce7d0d55f4861e22fca2ceb257732dff9c7eae5b3f018367b4f5a53697c882bfe5be6a7b2ff8be2bbdd336483eaa03ffd5da9cc43ae845c876d8e4be0cd189662d9b3ec456aa99375a843281f299be34290aa2dcae1726bff098d5623880926dbf20d2c25a7aab71345ae81a68d3fbf9aa833abe3050a3f2a30aec571ad9acf5273eabd8f9c8c603361f289589bc0a39019664f1aa7dce810fb86be43ecb35fb786f75b1fc2523f6e7016a00cfe16c9ca42a62af1bfa6492f9424f7a6ecbcba2a1aa3b8f0fee09b8f36498239c54ab2e6f0545525251f2fdcb9d444470e96e1d598f4dcd39a9cc3f0c76b7076cfc7decd35b7715ade0ea8a6ee1c8a33d6e5c7292df88c963fbbea509ff313390ee55bd1a580b84cbad6958403d2a93ec789e571dd4bfbac9f9b2a1c477a684052c5eedc1819baf339c3ba2815f1f2a026a312d8a474a24828cc2b364683e058878d55a0f81befb72b08faa2549e83fae96271e23a1ab6753ed9a4bb451a8d4d0de34385db084a338bb67f54686a54eec2ed90c01861c39991d762e437d282b8194cec375e975cb18747f092f5dd1cbeccf09e0995015055db75ec1f193b27e6d13af6f1702ae888ca05300acfc63da2d38a07884cd2b381b2a422f3c3d765a38dd62ecaaa40f33c4ae64aa4f089c8497fdf0f9cc7af56eeeeae78ac6a1622530382ec2cdc0f7d25d3f72676ac9c391802b8b0294cce1d6b632edcfe849fc0dd0730f8d50ff8b9d2cafe7cbe3cb0b20b0e33b9a95c614261802e0eb70459d3dc0386c15ae5baf3df8b9520b17e366f48c2e2f31da68da2ac53ff859e6f4d9a9a81750d4e84d6dc6ffbd2250da07b9fec84896f0c7aa465ab4cfb2c1d0fda018508b7b5d133fd4103653ae871e50c6b76551275c90a1c6fc3f86462de916cd0862f8c2f7d899c63f17000090966959b76b5742f0d32408fd9ed8f38f872d7693852844b47218671bc46821946d9079e60bfd65b0f6a9864de92c50863ca22922504181c06965bd74d40058e0a5651b830d92aa28137425243039cda058fe85bdc51417bc724c8a653cbe80fadd4aa2d6d99b5a61f6d9149d558a87bf62e38e858616ad04a139805bcc79c80e0cd15b2cb10f794b796a32d8f1bc9146b2664f2d9f678021dea6686cc4032cdcf4aa63d77d2b9ac66acf98fe56226df162cadce6a3a75d850e707c2510e074e4f74a41c32ba643d55a67013546c5dc16011a3e3ec5ce8ed38ce6c5f91572e0e718faeef591bdcfacdd2c235ead9c7097ff2ab796b9b0ed7e024913652c2d07ba13297b4701065d43db7c53dee878cbfab7d2dcc9dca11ba7b2b63233f44751d93a45488f18cbf8c524e53fe4c6dd9dd3b8ebe52f733cd5964a23c96b330b9514ddb1a8f1373c6597c580bb3eedc633f6bee05e1706396ff43c7cb621c9346fda7dc193fdc82c8d42a8d8a633c2bd0178a0f18b0700be79e82f89b0619113ca23453c741be2651bc660449741c7590d64fa77e885a120e27829a1250ac82808bfa80368ba7c00c5ef661e933cf10bfeca37451cdbaf1f6ca5d4c3073d88bde0d5cd79774ef1942a6b946b6445553d947c9c4be8165f9c658d4dd8ce27c434177ffd0187eec6989c80a44d68c34f8cfbe3b372d1a9800e2b7a777f90408cd74b79233498aa909f466018ea41f42e0291a10634c77f09f4de6e4c65052a31e7190ffa197ccf2860082821e21228f7762c914e32a9ed9ec377b6d64545de889516a8d2c1acfeb869b00ad92a4440ebdd19fada6051d5e95e9d1e85e5cfe085f7048fc25038f2212fc07b097cb745631d167fa00e6682686054cabf235ea6a532be37e141941bd0f7e99d224f31a0130acbeb21bfd03bd24616d98a64fd71f58983bbb59f92859e26084a9c4cf1278547c4cf134dae47a878455c198d5debe5ada57a92888a86e5d17ba4e27badd74b48f151a817e795a5f5cd2562e3fa315acbe0d8eb6b4f3fb764315fac50c1a5f668a083b2c1a6c1890088cc09ad58df37ec72891a0276edd933ccd3cb2c63de765f9e7c91300fac7b61ef0ae0c833af8a2409e2cc5018769bfa7f6496ebc52ef0fba61d9cd332df62078d7842edd5b001434d750f0df729d1b4ddeaaeb5789b6a601d8a2f22965185a8aaf1f46027cc58138f02da7279d9756070998da030801a52dbfad05e0bee14395813b1af821d73fb29b3746e0b82df25c28b7f7f34a4c08ea712568924f101a5f69b9dbab72b57106f44c645586d24af399bc99e45c8d0967b6ce989711f3acb177cf9abcf60fa62a9593e9da724934548f5d0ccb1ce3fadcf568ca8e962ad313d7a09e5f9c2751dfc604946bf0bef7a76acc985eaefeeb6741a27751c85499385079e4013a3b905b58ff51199009f13d85ed233d141f31bf08b7ebd312cb5e33447e0d2522874f23caa7a04e0eb1ca77e37e0d3f5019b0b1093862cb883b33493ddc0db4c5da24c1253f94901cd7e442aee30ab007bca7e3d852ba48b2085aa1c0cb87662c58adb246484c262139fdf677e600176b0a588f65f39cfcfab4547f3d564a5d95032c7664dcacd70bb1a01bb9e6ba8b5e0b3acaacb88714d827014dbf77ba47b5ce721b380dd355d21bc25642e6b40e0019124f02834c0fcc9bb8b461ee61af10fc7fd3a62e48d6ab39593abb17ae717993ae5406db55b20ffb650c2475c115f63410fdd1e26266717efbcccf76ac9af19637f47e9662a51acf67a474249174382824937f4e69eda9755d1e2c01b5f45d4ceb7d3e9852c89f9bebe5dd662ba8ae99569aaf2791dbbc58517a86190ea697a6174665ad5785205869a383408b0ec34b98782f7a624463aa66a09968db7c229db0336434774c48916d98a67dcb375184575b165d1c5f8d65383139f5d97815331fc0c25b920c2c393ca331407b368b67201207e37ae303b7c58daa43e1af4a550e23d5f65b93c77e38124d10257ea0f927b56317806e13b1b3f4d6281eac5dbbbd53f86ed7e8a681a299be4c1c53426b54dd08c32050915ebfb12bcd2907701878e536b97156c49efdce8c2b997e2a677294718670e17f538ea10d3113825fdb64ba2e54700a701af0e9c3783af88962801e631a83b9bea10b8024b6724aee0db412f3d10f1849a2084a62bad1a8765863ac33eac38ea8610b48dbf22d9b6ef2a949ead8787c3ca1a529935b49e838b10e02333ddcf795a5ce19b03a9c482b8d3788d026992370979ea450440f30cfc16c95b7f5fa9fda1af1677994e4901be6b70cd3af42a8636fa9b3cdd24edb565132336f2e03aa98bb3d00e9ad064ae73440602a2ffd548089045d0464f77fefe9bfc059f49b5c340b1a8fdbc4478be4cb7563d784c5d2c6713ae6170a3507cda85af4ce765b47311fd04912a7c55e56f33fa909152d3c6a65a69a70228e66340afaea1b2c135f74423c917b9e14119b702c8ba23a268865cad570a0b8e14b695ab1dae703bdcf5364192d1c1f1ff844a0f26c1e254894191469045fd7c8cd753eb2f425ee84178306ec18905398f48f69bc215d2fda6ac9788fe226228aa465659ce19e6244acd5bd00e83767ab4f12e258b96723c13ea65f269de2ae098a10e7695e7047f41400268f898076b73b36a817bd0e686028af08a2ad9e43e1c673d99b74b7decebd29faeeb8cf149e84e1c69b0efcd7561bfe144ccb5d617c0b5ea2dbda1850686689dba01d68558f07da0b6df630540f660de767aee8d45cdab5646c02a0b02d0369cfcf99140bc7afc2c937bfcbd9fa21ea25c79835b7e33569b2afea6ac304f91da4855a33a9305b2be67252f2f3076595dce53f785dbe16d05993f982b7d6d698dbee9778539deef2d9141be2d7b6157b047c1aa945b8431520c8bb2e25edaa40defc590ac48786e884115a49437b3e74570412d7f7c700a4ae7b702fe8c801952657a5fccfe2e7fa70f6fe84f6cf061002d963998a8436475f98878dff45c6503c8740112b93992de832b20ce162b6020c0be8c82ac19adf11506caf4fc37a2be27ed841c31e7905c2794662fad4e0bb461af8dfe1b3b27f7f6ab1a40b267f5b90f184a87ab6d0ec9ca7dba92b46bfe83c2e67036cb955cda40d5311406d3db43eaf4b020f78d0a1871f970acd9f81b29bd3d3dfc44b6b3f5bb93d6149552b10435787d45575e58092602f4266b5274a566980123a04326cdc802bee1855232d15a0d62a3c4c59db65039e77f0c85f779a3896a922adaa46b04d9fb41c95edcf51df2dc783f3200e2f259edc1ffa0cd7aa5f219e743c8ac58ff2813e1447c933eeea69847c7e2f5f7d1f7da31408d92bf9d634ff125fe862fb7aca8b291c11b35c210a6278aea64f3b21f9c909b0b40b94bcd32507b44857c5bce1239594925d15b6df38a08cb8b00aa8a05a03b62d9dfda4a1cb291da0f830469e15c3dbda538fb115127e5c91e015988615fc6fc70a8741d7a3db2ed8f4624b24c345fe627f7d598ecf6017260c30b415e622d9b7031178948396553c599cc21f10a32fb09ed70f3439ca3951172907cbaa9b9e3266657206c7f5b90caf97554de9bbd87e3ce197d1eb2739b90246d86a1a0fcfbaec81049a0610996fbe5ba2db12cbbfc322eab346c15311d6ba24a15de67d5294959ce848e48e5ddbff387c276f36707ed1aee51c84f4ec6c5fd6677e23dccfd1f0c8fedf7492c8627cd6eeb65aa1df27efb07949f9144b94d18376f5ceac0234d48c66fb97fc10f8369c1015d570eec0d818ac5e416d3c2eb81557c3497c4850184a82e538ef21cff862c050222a0594aadafb1469de379c44833edaf2cec1d2cab75da7924c180b146a91ada8fbdd2134c7231003e40fd3fbbf82ffff2fe9941e707c18d1d6b9f53f67cda45d00d76b6ce454b576eceeab8fd5bdb47680b83359a51819f985b190a13025a7792bcb1336118e2ce44f14fb06603184e3b104f4a03c46f66aafb5d92fc75bea3a46d26d4b0210999257540852aab813b960f49f97b9f40842f4d75889f356193c5dc27135b43298cd2f15b74ce14e58d5dfb46f94c114ee1469cead71d531088abb74dba3fbb4b06bbb88c69fd0f150a6f9b8a86e2cc8ff0dd177ce47ac56e6aa75294a4cb154c3e4ed9a3d8ab938ca075913ed14d6f97c9d16e3329b2ec8936c9e1f7e7b1e4e74bfeb60fb8280aac16930c1d454a7bd99530c8d6e15b942c162f2aac98f2c1a2857bc4cd635ad58e8ba6ab94804bc49d6f83c7216d02a684d10c4d834556a6a818c2c0355172ef95b17e2d40e08db26e4c37eef0e6b1344f47fc940d5831e5288b49fcd4b884f941abc888e1f433e89c79a3db78b6ba3981c8e2fdf7cd24154117e25185b6a04f9775df75affa54afbc78ba5482bb5ea96abc578305d1ac86314ffc612affe78b560dfb1c19e509f410fbc672922de49c28a24cdcc828f267206f840812f94dbe61921fe4518f487d40782b0a2e078effddd767639c237c3556f4cafb31b1049eb43efe06552b536dbf4b05117a1edb3adaf9ee45c8b199b3dd768ec25e3bff0502826e150563147f8f19b4bc1056eda49b19192d8c9e724fbe7c9ca33e813e00","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
