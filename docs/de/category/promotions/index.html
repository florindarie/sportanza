<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"794a8156a411e8ed0b05399831850e6b506f5e227e83d7600165f42d3e8d27790039b743c3f12f58a4643510c35211ec4160682853bafeadde6bdbb57785be3f299baf8cec104d9f4889200160a39371cc13c6a2a5e6d76a75aaa2bd757ef5b76a7ad658d36855f1f207d1018d81274c8f642750596e9dffd0f777e7051d747d3460e0a401ed01b4862dbffad92f07ebea6b656cb432f2b899b38bbe2e81d978ea1df3c33c2d136488ebd1ec4b05bc5f84d337c17be0bcbe4627cdb694f3bcce38d4bfea59a688713a3f5af26fabe5b8560accd5b64a988bb7f57dc2b3f96d7c2b5d401dec107dc09e009fc7ed2d04c67598b287d0e4ed875dcecdcc893490f449b0d294cfeb10f4a7056827cbe7630dd1989344c59dc2c8483f4023ead4760db84a79d7ad8871fbc0b8fac7de6a9ad3aa889382b15e9ad0a56cd88c93fa86c8072ac8cf338601e4c9d4de2fee6a3fdabc05ef59e780b56c638ad46a209bd588fbb5730f23a78cb1b9c21daf020def2f49c6c077d1ba1cdd37e0e5517aa3b2996b5dafb4c75366ff81d07403c158078045ec0f27baee3243785d3a2b28eb90e711f9cc23f55412b7b49be9e7f0805346460947efc6479f1b8bca4c23433abc8d62dfc7f13d627c477260a8b7abf5ab4b6e85bd195f645229c45f23821681fc9daaf6a95b444d1bfbdf35894d2eeba90f56be4bd431c0dbf8deeb1af35f030a12aaea859d8b2d2f19e34c16658dfe0c4a0e30de0899ac42ee24df51262c63451de0de3ffdd29af468439f461948470d9f772cf5f139457bcf26d255623305a8a33d755fd8ca4c7f069cc63cdbfe4b2459b14ab8f8ffbd4023ff4dc3ced2c420b777e0f1303acae255adc955f2b57792cee90370750eaf92f0fd931eb410bd011e4bb10b60719ea57f1048b1cb4734a4e58ba0011f602db490f50961a0a341e244bd0f84660b2c127fd5989881aa1075c0ab09874e6828f9c5b18c196216597c5ab298daa4103605c5538b22289844cc25052281dc010c809b85d0dd4c4caf1f36fac45a749a289950bb8e2c3368c5efb663f908b6bcba70b51a41c4dc01eba7817965292ac774dbf7faab5379f951be1b08b187e786a17e84c9279ed61f9810367fd8a2a424980768ee3918dd61a0e23937c76ec0031cd4db36406a31a4c5b16f9902f1127c1649c0b30694c0e8f5fccfa6e1edf625af9c094195f9457f9350928b71f75671ae66b65570ef0b2cfc3649b9eb2d7cec350692b689c1bc307c2dfb5f8adbbebb9852aacb16c9c729c174c5e889403bbc533231321ed9149a6900988c2d079812144985686607b74dc3fb3dbdedc63b331415a4b800c6fce95dfb4660aeb3c3b56e2d24700228c262caabeb8512ace725b039f9d7c00d09158419047ca7c6e88414af3d36d9168ba46c8faa7f183c9ecf112f1497ef29815de7131993dfc23a98f11bff31a37aa3071057bb1c0b8b8b3f4a1677fc2098d6ff522e67a073bb918c4672670f4ebe4a7adf6346940d95abe581f70fb8467195020b8f9cba097f192b2552dc7e323d3d1d56c929bef3404f9982ab0a74ed32cc95c305b52a792b7301ed91e66004efe094f4b27cdbe6495d9f1ed9ccc25edacabd5183bc2c4c0a6e58c79c007bf6c8fa96adc921fc64cdb5a7179720ec412034294b569e4514c05406fe168bff9abf8013c61a04fc945c657d45b11f31777873749eb5451efda4b8e253f23fefaa2a20b0ff2ec1eb6af5a993c44b0de20d62231de2c097e3eb6b48f6cfe02cb27d22b97c1216ab4dfa3ccd89f38ede027765a698d0416150e44b6113046e8e02b0a65e707ac2fab2256f2eff6b7bc3118f2eab15dbc0b0b36d78b70f896d327afdd0c0fbb70c97561f67e79c89cdb9f4bc3fbd3bed79dea674551389671e6345531b8d75fe696d56c0babb4103394e95adb830a9220fe3dffd7277f7712dac36a205f4c048878d90e051b0f266bdf2819a5373a5d47a44953487e8b530f29e74243f1d528303e7f0dadd0d2296d3318dc98cedf2bd6708a0aea8439966f71a745f58429deb7706b9c5c4488fb1dbc98b9a415f3e64f06b200858024dca71075bf172bcb56290bc1d177e05e714e814ef982a1cfac9550065fa4f5b7e580f527c194e6fa61fa9aba008caef446c35eb928cc8b751fd7027ae9283b0ccc7cf10d3737c26bba82246bc1d240a57a1db1fcfafe1d99dbe338a945f808359294107c7073714d0dcdde3cdba3b670baf3e46ca79bda76ecae175479f3073c1eb9bafadf8aa17ee2447e776f06e6e37c486771b79cd6ae4191edcf4994fc4d97873171bcf0ecd9cd693ce16a2c852dd949f5e645159fb47fd4dac28d6fa8e20457cc96918858d312e1424f38b9d1a427fef378228d77bfdf56f3258590819b16ffb055b6d97dd55015fca38bd844daafcd906b65f401f3b60e9184ba3f1b03e97ee29e5a7431075a87428dc681d7d443c1bb16239c9e7a268c41e92dee25cdb1308cfecc9630bab00fa29a0408ea1961a0caac5133d9f5ac0cdae37c89f21b75ca3a1dd690851a0ccb1217bbec909f0955a38f4666886ecc3da4c11103f52814d11e03fd889130b8e280d961f6f9834f40a6136dfa3337fe0e81bd0cdb9a87f1dfc3be2b536b9976662f74d833dd98080a811ffa008caa3d81cf2f2db7aeeb5b3f62524dd591fe6ee76944225fba518d53120c27049c9d3fff1a658a2cdd919de09cd4dca66d75f38ea94e7f50dbe169f5d6ac43fd3513108524627bc49a0448525004040587674d2a8d573ff6beae979b2435d2315f848127e39a7e2324c437b1b2d4e34fb9efb5e7d448efaaa36c4773c01d848626b66cf19ca11bd396cf677fbe9095a8adaced957de3e4f60f100f0ddf19b68129f2a682c19e8df43dc32b9de7d80ecaa2551da13ec1e9256827ec7ff1c8f0e7fe9486fe1c5f549bd903581243ff2c5a6a14225d9037957ef39022219e00f5b9d27765599d38ff1270a438a70f7ae302dbf139e28589c72a63215ab67ca61835f69dfd6e1457dbd585b7d5b48e4bd9b8bd30810801ad1a5c10ef00821f700be9a6af97e9aff8e2b2b31f7e5501409e14b6c262a8a83c29d5a215d4545a119f487deaf558f889abe126b832d6085f4df6407b1c447c45a5cfe7e838b9f0472636c438a665a3bbdbbd4c297af4da130d43582a1d62d10a06d1fbd1c9b7f09a652d2eeb8c86298f70a631f99230f3704bb3c9501a7e50e7950b6913600cb237be1204f1218102db9a93c8a25b9dcb5eb383f568d1887e9e583597f5637158b2b5e90c93cddb6b20bc4b297e4e05b3046964ed4fbac5d67ff932b9855c35512c42b2316f21c62d21976d4341bde70a45d875578d8da07aeb743586cee63e7e9888cc557729f78126dfa62a8b891a5eb174dc0711b3cfec30a7e9aedb3aba15311d159d0d8581db88d69036069f1af93acaba2e6056b555b3f197eef94a29e02ba3230ef87968107a0fc69dd7bab68be79a934ce8f64c338835bff6571def9c8a7ca084fc7ab6eecfd16d23a68de836354fd28be112476de677cb2e33c7c58108b626e4724911cf825ce3f73be0362701d77103f4630796f2fb12cbab306fbe49b34b89db1e24be5def55591fb2f09bd85e13b676a092a03324f7fc31aa8e926a93918aa07e2e293f275f1f3c6d18f27b231de6711fe90985978692190dec6754be93b6cc35549ff99f2586597ddf110400cd5b30b6d2c1c4838ef59811131815dda38eed4ffe22d733e3ab9c1c597d17124fb46cc1ef5366dab9b4a8182b98d81ddf80bcfe51b02ae53da4f1b3d2e19aa1426f5c5a1208a692a920359c0520563ae489dc38978f2fcb8e2e22a091c9561be042253440f0675cd55efc71fdbbce776125712126583d4745ae7e6c7d473e13c637eb72f070b6bf957eadcb695f9a921acde253c5ab75e857edc17d7ba7258b103f610c2258ac01455b0dc92f756237e95bc2056ffc725386a8cbca7b1d7eb30c4d4f08233f3ef5c73324ea18f5297391d9053fb6c654e72dfaab5851318e82b464b546136b1b5ec6e0ab513f59fc7497234fb68d298c11d8314e6c1b67823f1fa7658816feaed9cc595272a0ff9f6a27f181fd64e41ebdb679bc42644f809a1809640b55e8c456eebea85d63b247dbda823956e6bf9159799c9998a9204954bc9ae886bd031b4d1cb65268b202af8046718ac5708c30d0362d288d6ab9b38df7d70fb25b005453559e2eaa80c2ac04fad847c6c058649dca8d2993149772b1e71d1228432bf588f1597228521805973824426797214d5b4dfaa0bef2bac2a7635227c3e49e22563e6dfae5754e495f92739d7e7498333a112697f2af76e1d5a0173db482a61e2fe48e8f928996421f8a69f990104a9a044b08f1f3d8b368d62222dbe0c06aad83f9b636ea66be9a55a9faf3df9c26123077177c376cecbc451c2fe89bedd8b7e0811770d80888b2a39f4e1d281e5c7d5eb27c33162b1c3ac1e45d46a410e63ca4f10bddeb7eea36ca07d46f80fbcc8c3b2e4ad045b01e330161ae421af1ebe5b7274750ba849b35f86ab5acc9947df96ae572bb777adc005ff5f5d39be9b0afd548f70f43bb113a238b093a1050057eafa45deecedb4f6e0a740b9820674239ec906c64035a3097e5ee53edb1558d034c0805ed9aba9a5520c37c29f18483622dba7cb2bccd00956afb20fa1b40495acc91b10d4e133d80fa3587713142c10b7950d19e6d36903ed48d3b5afedc463c4aa59bf9c6d008d1610368626701b6143aae2075a7c7d1a0253f26f278b96fcde79426366a1bc73b946f5d4ea3273a4831f94e7b729968abd461d971a156da24ba8840fcba17a38c8d310684e573cb4c6c0459744ae7a4d4c44c6b1bfd4b295d39c49f0eba67a27d0be313c51c40b0a2a59938018a2dea27a8f7bccfb1364949a0445f50b21f2de405ebe5e248d4845a1f09ae2b2bf9a30a85907e347c9fe8759c3373a4a91892b3a6f517d9c4823413c0c9e9564cf0aff09b02043e120b8f7c173b2aad41baf82cc07949d60d78e151d729d1a71a305fae77af4deef9acd263e36d109efcba5c43a731589c477e058c05bf9fe2fd3d736dfc88fbdcd026e82dec953c58e760eb6c3c9e55bb83a8bff142de96053e37ed9877d629650719e46ba31ae55a56ef2be0b9fc3e8c779a704c4e071900c2b3368104107cc95f7c04b19d2bf18cf4b8b3475e8e5a7c4464b3ca834753df416cfed15c1a5748f83def4130edd627eebecdc94e6241c8f5800f96ef094ab6ef9b7dacb11d414497b08194eefe0618be7fde4f16df44cab7b37cba47b5720a5ae3caaaba44a03316786fd21a5fe38f620b7a98bfcccd065827fec0b9f0e314ea6b74577b2f482f724633e63e748c71b009eda41a39e545748db59b825ba74171d384d979ec3e50a1e34d8b7c50de6d5ada90f6dd17adc54fed2baabb7f5514e783585bc19d08f7d00012bb4ae5b7e8180a4b0ec979e600f993ef360d102b2b20576ff12a54e86001f051a14c24d0fd91bf923e7e1ae36c66e6109bd732eab47422e2b96d6b30c137f40c5792f9ca3ee17059f3625807d2e0b335f5624251dc2cce3dba51818f2ba7f58708febe81e80f57df1347dca390bf6905375b3f6ef6f83ed2f8a3914204b8c4cf69377a53f0f1e100b6ba31fdd470ebafad5cd04c26825516a09f200b6faaf63a9537a977223abced61f98e94ac26dcd0b54546d5319cf20c33fa0529f85d62f8251cc65a962cec0b533a5977cf73b7f8b1788ea2b6398b501daa19f4ee1b0c702a22fd2c7e1482b2f765b6629e4ff1151bfa00c88c01bc5338db37e8a6e301a4032dd002771b42d826d6745ed981323a0e70f7e815b39c11f2c9a527bdbad060373411c843af84ba335a6db8b47682d8b52a7a5cc862cbdd3b9292d7d428eacc413b20402927f2058472f41817662bcf7d34dd68063a5d3e3d224cb8aacd13cea6348c37e98395e7658ee87e2adff9c4500d6b481579c89b5d3dec1b167361ba61f1bc044c0e6d3a0e3cffe59ea31ebabc54ed3278baae3b0cbe1b71a902805d69582ffcb19f32b228ad35bfe4283484d16bd605c8fbd61c6f19c415a11ee85f5a732a4147bb48d811672206be6ca36be367c0b77ee84edd6399814e0e8f19e0e5fd53ff72a7862eabc6b547aae516639cbf38b9acf310da8e38c0639f7bba4456e8e2badd4a052124e8b60159489c3f4b1682269448f19f1a497316c67a49ffd5b49d06a77da981d90b4bfd4978d9f9dedbf17d2cfa94d262de34e77073b4382c4beaea8b4a8b1185f6906a1ae4b9366ae15d056acef3ee5c5cc4b0aaf3f60870b14454a587f6fe4bd22f84146dfbc97b3ef45a2cf855b4874f21cd283a24a8df5ebcc2db5e900c8b9a3ad422ec99ab256ba45c1d04a318de1259cba42099ad12471baa126d060b4a306313d027a4c7d35de9d6c1f33d40cd6aab5742f2d7cef644f81d844608ed43171c2690a759602a50507c527be3cf577961b65d4d37ddb32dee0f0a7a9767189470e6f2b37d4debf5350aaa43e381d8bc54b4c7fa4e637c3b3aded36c3d4f2f1cc0873389206e3dc6090addd958dc404fa2cd37c8aef465e00d12bff8d04b175ce6cff2fa9685931043c23925f65d1d5ac0b4921863f6080ecb0edd3a3b23bdf7df5e5261c16f2bc20727f9a3d3d53dee3d28a989f7020331cbc0d79b4301028802d53ae57da58f86f9811ee6d62fdbd82244520fda7b7397a3ec64e28515cb1f39aca42adcdfb6aa5f8566643e0c8e4346ffc5757cd88d77f6c9dd366b6e5a9fb3969de3ad79685d8f921e98926a0b7883e4ff122f415a398afc29bd684fd9b40966b478fa181c417213c3e67beab2e1d135050d317ac36773a816ca508fca7f677e0f0e28403a978d7d26b0e8221995d88d57497d79e3d3566f6e322b31d90b8dd1955a5de1ba18250d236b40acc4e43a75a3523ebda8e2f721df34a05c3329a28819e4513cd54b7238132b91ddf1b9771629c40c54fc3f84f1568b560b75a4cec9a6cdebb6d195925b7a0083fe56d435517e23537e4ab6463175056e6965d8669b98691f9015d3418ffd07cc78311807ad717fa58740224035ed118dc60f18469cc9fecd8935dbb0ca223a5115052a1add248eb79ba056c48d88d05a57543ac215566e25607db152c83a7df593bf8af49a85525147b81782f6e99c40fec20fd68584fd53919df551162a9c72bcd6d9c0fd8fa70b2c04cf42628bef047b6ff58ec44a271023603bf54877534b55df3ce9bdfd72ec5a831a6d5c75fea74ea38cd57510208ffe06e2ae6ba174b4feda65585671aeeb178bfe1e6335f40381a1498df1d5c5c82afb995159dd774cc536a8dbefc12c3d5609b65c045f932916fb72382fc2bd6bc68da109ebfbf31ab64d14b50f844a7e11b04fe3d481e98703c0b43478c4763197099e05ca31813d2f9322069d4e9bee87a8f8faecddd8e5a118c83138c276897b8038ae9267f24ef06e80caacc58c8f02b4a6ccfcb956e39bcdd8d986fc7a5117726cb67b6e266bdb96f7996defcf62e9decef1c888f7c399f0639a06ca355f6e06747f77adda5c7af32276337668d3bc9c3dda619ce266af77c6617b7804a138dedaed7df1354e4c3822054b9baa3987f83561c6f337ea98f175a823c167575719fb385d1dab28a45a020c54766d3161906d98efada35b14f5d50e3a803a61cdc28ccb0d963314930c943abaaebf9d9cd39046930e314a68b939dc58fd4d11b49fa1036f426c1ac8465ad74c75b91db59604cc71b615080c29c65990223ecd485d000e8003d374fb2440ad71132b79dd7d7dd4a6e37d66df959fa01a6d0da16113c6050dfedc523a89e993357879a410e81fa855a86ee84b20faf64a1f78ca234fc3861364650834e163b06fc0fad670633db01a17ec1c45dfb10c11b97b47166aac547a4029fb13d56388d0a32c1a320dc562742e6da4c222de77493263c5a1e286a2174cf641fdda59b0bbcb20c6a53661df5fba3206d065945c87597aaa394a47915e14e93040bb3cd69a2286f1b854f8b913c035182a392aa5422bdc9befdbbd3170a4e09f4fc22ab3015897c2a47d977081d5aaaed123078f020666228b59fc2c689f88717927f3643ca94786eb505776bd269c40eb1067dc0f94ce4d2873423e4264fe415850838f1dae05784d872f68bfe5cb7c3f0c30e38c694588d4996916ea8aace64356ed9393db506df84139e8caf2a179684b5aa3ff8efca44b55fb22deb6fb9ec141f39f3a7959b8fb5c41e6e0b88c0bde9954111759d1bbcf492c4ca3e9f00b8d00806ea62601b9882107f8fe1b4e74a82755a47b5e443fe4c6e0c5fd69bf92d78060217436baed6c621cd9acb49d2964d38ced9229aa1b2673857d9b5b885313797a0fa4ae5cbc5b4f1a89abdfcbe226cfe1f18a42ce92e7db71fd69a2b3ff45ef2144f69152567a1191ee00e53e952a9abc5bfaf42ed7ce6d120c4dae3d8631460334d61a8e5c962364e5b26f5354469cc72789f46f1c0bcd225243fdaef86ff9efa7633bd0495e311fe635926b8f097c653e673d88a2b650244f511e7a2b080f99374c4738b6c7a7b386bd243d41a18dd638b5acded15034b519d51b81b8324053b6896d584c7eeb336f8bc48a3639f1bab850e5e85b3b35ddd150530a5a264c89a1e1e6e38946db7b847e84e760d7a9c7dea9cbd188f460b5e7fd5580574104969cf1f2cb6d13d79f89a3a00ffe1d9eda2453248d57adfe25f42507d97d605dd4688b612f3f90d305f18fe91887b3d791764e1005b0ed658160a857480583a1e25524ffeed1dae89e21331bf9a70c3acef3cabe602ec330aeb6f3b13e02a5cabe0f412c9f8fa70a730b944b660fb4217c753d87ef3e33b4aef4e560d0b61a2fdbafaf087b524ae943fa8d5c01fbc35f32ae9d34d8fa0fa734c755e525ed2992ef8ba19c1b0afb6a585a88d21176383fad05d62fb46133365d9cf3c21e507c023fd3e5dbf5ad3b3170277965aab09229566cb13176ac1739b75342378c522bfdc68b72a66b5fac6030ff604d0561783bddfc0938f322a5a64620d70575b968420f65c88857d5419d7024031bf2495cf2a0976bd14a7b603be0cdde0de9c6a81e25a444d55c417ec4b9fc772d9c4e659515bc5deb4c53d71b41896611353433f7fedffba034efbe52a59594706773519f958efa61e86b3d933482198df2ac54cdd8adf1490fc9f871b4ce7eae395a25112e6827459021e712db5d25c0bbe701f4b20aa640ebd5fcfe517e2bd8b4bbb98ff8fa3fc2d6fb61496f003157220bb8a8cc3a191ad0dc05517a2c18f5152b0a86dc8ee66d3bec118529ad94c88c1247805a9bbb8c4d0cf8119491bb0ceac5e289bc0d1e66b4aeb380af14d817a7dccbea7ed9551987f880d5c6adec8894cb76c59d7613e5443eca0a19cb75d3715e80f93952d47e09d6c445ed0999791ca527ca2844be92adb68630b85585d3cba3fb88287b6a9862e192785318e0fc5631acf0c78cd4f56fff93b3ffa8b19dcdc4ef37bf979c26d45f808804b1cfde507bade923fd40146a4826899fbebb7441a785b84b5950807889518700ad75210d74d00d95f37c019fc955f757a9453850f3504f0d2ab914332ddd1e06d7c34d1b92f83f91b5a526cfccca17d474ef4bfa65e1f3b83cf07ff1480be0a49af3d0cef276cfb3afed82643e6b15430b74e7529ae23d4d75cd3299056660b6c490611ffd3df2f0c615e19fc212fc80a4c9660ee010ef9c542c5be319b1b92a3f88a4c98fefc102fda8b86c2cd41b71763b638613d4550bbf6b229a0f4f4ece8f9661249c7d05bb483027a0205bad46f1c5fa97e410eb6f5a3c14a6b814251796380b904c47e906618b96b4be5db40dc91f9d39573d9d78e592c609260430f105528eb914f9a1101b9bf1ce71a3fca45c50ef05143bbea49f033021063ef6e2bba77a0fbde2fa5a1e2edf3904448604611185032aa4c54b032a0c8c4ebcbcb1007768f3baa7ff47c44394e3e77bee67be65d7fe396ec7c1f587b2427fc52efe68f3378d1f4e2aa3e6218f92cb4ee15b6a2764106edf1aefe5e4ef2919fd1ac686c642c21a59a693cffaf527d023318597d87f3d07ba631293a4e9513d03d06d7cdb63f82422dcc85200e8ec8f943d74267272d82e077a517f975e74a126264757d5b75b7ca2cd7c806a26842f8fbf57a56e0924a43b6c75613afae00894f0c3a5949f5105e4168362e6fd1eb82505a8e36f5d52a6ea2886d1726607145551b0b0c70a86fd75ff620db7d90f3258ef25223aaf7ec0d7b213f2d282ca628c7fa44b16ff4e6702bd9d366022068927e08595c2318086c1e3f27934443599a630e1b6b8679a160733c64482c3da3d4384ba6d398a91ea6a522ff7c4208e1adfa8cff7abefb7e2bd04ec1b4ac0315c1862a73c22805522b89b3a4a60a7ce348a15d1da674e6fd9146bc6c4cab077610651158fbeecc530b9bb8dabeb96c5446165eb981a4171b829eb0c02c9a978c634a66dd4099e626c42f42d7b7521baa747207711e41337131e8439e02c8734eb51baf8352f46c7323ca1a443f7d4ed5c64dc6da044f4b4143efc931e6ed9350e6467070ccf7abb6cd200674ea0f49eb9c686e42f8f6f05ea65972bcb591b1b3f0d1ef80e6173f95e3df9b976b8c8847b76f9d2fb2befed946142646a8c7d9060d0ca8b51bb3400e2d24f7d2fc632f263b7a5c9276dcb042df3df82b29364649287aa12f757ab912a64567b0e1c29e3147bc580a679655ba01a56392eba3a4eadef4a0da2f1b9df43f769c50729b340f710cbcff8da9fe2ef70a91b6ffbb7ad719221482d29b98693ecbb8738af2cbb18576999604da46092611a4df78e791f2cbb75625334a9b6a8f43803a1ac5e6e16ed178721888883258bb0604df6c21a78f60c3ad5821b57917506e34d636b26a42e481418611ae4c1ba8a1994d8933fd6c2f50fbc50903c074b95b7a775978d8c3ddbd93839e8ee6eaa1fd4839311760ab44f87cc5856a24448e706643bc0ad8a6bd9be5e08761405ac5b2fe90cddf48e51ed46e053ec8e8b0ced61620a9bf9bb350dd6d213feeadd93c06992a55938f7d746de50682ff0883c1785023e5f1ea42dfca4254fffa827849279d64b3cf80e7513b8a827b234ab76e325f8fd3dda89612ba1e06ffb79d08fed920a83b383661002d1acc95c7208b7ca71d5176f176f522bb8abe172d5910649edaa5e0c884739dc202013bfd335b5dc791cae18fa8f0a9bc6e7dfff6c9166ce2838fed755ee9e5adb7d11fdb9c7bc5fcd38b2ab10b89472b224687d855a880c01c0791e0290e8b1f3f21487f9802bfd9e76a365714788c683d5cd27fc390ae5d7a47a94c5695a9160eb15025d8c214a5261802104cb08dc9ec961d32ed3caa452885adf93b68a3ea170607f5ec1941ab5a956f85fbc4f7ffa4197545ff2a99552e6f4ec87d5abbabdf2291722ec48323722c66052f387d289a9659ce2debc0c2e8ec6b8d822faf78a60f7174709fb56f801e35f781adb9215ca4bfb418b83a528bf0a4c7628a44f48d169f388d1cde0a46f1c334000354620a57089ac89b9cea0698f2fe566febb705a0a35613ef2488db84d639290ae476404b4f47918c14c1c84ac98256dea2179507f49a84e324a4656c036420cede3501693e52a771c79c817ba4a0a8eb26c76af5a3c347be9cbae184b14f3c75cc32a3f429319c313aa2788ac3acbcb38a6cc3cd25ebf670ef3fa47d73d00952b49dbf6a4a2f6787bb843210114e17b49c74b4f875eae1c418b560330c734a226b12ce18be05d224710bbcd66bb9f4b07e7e80bdfe1551d369c1e2459971ddaa35f197930d96e502db6ad234bd3eb913ee301b0cdac74485091d56599a456dec2912807a6903bef03272186165b480d04d2e0f36285d16c08eb67fe6fe3cb321a85212b4d161a983a257c57f69eb5ff3e2ee237010e98b5b2197a1487cea647ecafb577f4a481512328bf683c35ef825ee07b07035548a71b57eaf7fd9908c0e9286fb6d5daa77f3be65e4c3e5414c66260078551ff29af60f985b0a87ad191fa8034bab76e2f06a87b0a9e3c30107d1e63f2a241401b155adf3b937c10273481d9162828eb704f0cc7ffddd83918b275365f9855d68c7988565e15b9c6cd261817bf0cdc38ef5a13605e0d807e2c81aa79cfb00dc348c7c88891fe297ded12328a47e8bc04cf99f77feecc45e172e661c337559c505ee96cd18bc37d48c4b6ad51eab735203dc468990ae0c3409ccfb3fe22ab4d31d3b1bb01726cfab0129ffbf9301a47cda07fbdfee55ebadd621a52d689f1b5f572bd1e10b9cfce897f94594789767c2527533ea5156dc3d4a85cadca9aa017dbbe4325d11002dfbd4f1303341ced20ecf9c0d71a624000500da73ddb8e8ce55b472a2c48ae3f70450cdfba4d38bc67d4910c35f9bff3dcda9a3a8c75ff61a6465d56f8fbc0a592a8ced7d292f022d2b8bb17fab46b670ab69f086dc5b1fd6b7bdfb707ba57a5458f5bf997a25b7d57ede8ba4e08358e872fba6c0a5baefa139368fcb4ddb195ada5837ac5ac07188e2c661d50bb282d400383cd3266a5847618dd269190017ef3f4cdd3423789033ff6e16c34783efd2402e062d01472f2a0d04e3a2d77a98639c52fcf2d64d5aeae383e39d9f4459bc6d4769ba4445c05bdb72af5ead3d42469144a09d8ec21151c416a579224152f3b41cbabe3d6932f5a687b07b581e25711014e44e5b6bfd594f7bd877bb4b31b2c52bc6e9748c9865c6c06f4204ed073ae64e0b33e216a965525f6b8f515c9ba12fc9edc05fa9996c34ffa9f76e9ce2376a91fc8a11716e6844a84a22d4e86fa38dca51211ed3d96bd159e18657a62ee5401056901ccbd73a180c37d868aa8ffcb1134bd792e971b258f319abf43cded6c961ae62d721e9cb8a54a41e1b3dfdd8bacc637a00bc2bcf6b1a3e6a726a0736639a8f24156b6f3c2de65c3ed2cdc168970aa1387b042f7d0537b6bb643877ed1f30438450fb4ceabb14a62a0a01805bcf8c702139164b9740299a605830a3cdfbb88470d8560220969f75b63d0771c42a362c4e73c3e0262e2ff2c186a1ff81450534544fa500e115911fba14a2aeb80c3714fa54c07c77ea21e8225e89db3d0e80e50159dbbc64b1b9f76cd6d90be24ac756dc798165e4df7b94480a287f22c39644385d8e184d44e28c4dad5a7edfa040fb6a68020fa2edbbd718125bcd21cb8652da222311cbddbd4451a4065172ea239d1b3457b2e072a4a5df5abac0e7ae8537542dcf2411c04275eaf50abb9efc0db1ae72e4b015a03a4f82e138377df4e236fcdf6362fcb3073f065baf34de5f5877098621265d0f3aa6844f98775e0195e30897e94130fc77d2b5e61737798fea4be6cc860c0312f69baef185538582b326b765d8fc6f16b66daaf7868d55c71341a97c230c2b1c84e48f3954b31bdad93780979a8bb27fc82228bfe56566f91b6ff7eed0d8113976bda10b1c435a3417b6966359424c653cdeba05fb2be89909ab10dfcf55b8c77fb6d4990e387ec7d87cc87db29d5657d24a4f12d761fdf4b6de4188f3bef401fcdfce93bc64a8cd26eecd644a69f9d0954e64a16d198dc7a5ed554d6a25c70db9a4451562b618019894c4db827ed3cd157a554de6944ee9d729b52e9c9119c6821129619a32e0a2916ad1712f2dc778ef053d86e7b1f8ebd932e9c32d0cb8aa76e52090f90e6480b9b386e969391a6e6922a2e0f7e17f930f087eeb0f58b0179a3d61876881a34c457bc359a4988d2027836b3ac42534cf55997cf36184ded5dca93f26e19eed57a038f25ccc8f915e288eca91d337240537bcb7b09fcb9749380aa7d9eb4c9ef0dc8a63bd2345c6636bfd59281f09d8465cd2ce8b6bf2414b95cd199cd67756800d7af91b47acb356399f83898462742341f7cf17053a24bf3ff9eef876e89edd4ec16fa6e6625e7b2ca4aac64efbd56d230cb28974bd2d82e6049435929f52ab1d1ed969d3c205b5a63431f1d1e236efeb3c296606e0a9f06a68c2d5ab49b36e16e0133f06d3c7be4fbf7f291683970c3ce97637360ef0e634eba9787e1db6907775cff2f7dd3552ba18246eb20fccb2ab89b6b0fcef1a8478aa34355559076ac999adf37b7d49e51f925dbe674f77ad0ce9f35a3f58bc4ed1f5ceae5059840c3fb09d54453c01077fbb37ed03de5ae4d4327cddfbc7d96eed1244672f7369b6278bc1b501ce96afab1ce31131c93277bcc48f791ca9cc33c55768ffe4b1be8e7b7fd868332dd23c5d0f7072c82d355227eb0b897672257443b0122e1189260750fc6c120208e8cb18edfd52d1e6c196cc8d85c49d56bb7efb9363ab267a39177d1a3f6908291ef997cb008944f3f0556c96cfdae83ccf1ca4dbc146b0079f4d82ba065c578bd8bf42e286426ae28fc1299fe00a39284875e1ce65ccaf4e0a1df434af9815cafdb81292d92060831cb202c913071ea08986a1f4c4693859a7228705f6f4287de52bc999b6923d784bc57c231d0b613b5200d23a9c27befb727ff1b857fb9679452b30707de4640ba06c6425c3dae0e24c9f371c608144f156b529a27c4d2edc09e18f686dd7faeffb6d8fbcfcdab838c5c77d0b953dd9e833b95150f54cfca51472191aedc8c09608f120e395211db45f6d8b5be7a0348ecdd702f211d8e8ca08a478ef53369ed4d62282e3437ec02b9033933f13d8b2a9854f01529a69f3dd8b6ad607220f4c054a40bc589b7029101c4708a776e7575e9b984cd688e03182ba95ec8f9ffbc78614ae10f33e375ebfd36c965453704849880b646fcee57c5285b08e97d56dafea137dc64b7228e34ec204ef489d73b8338b3c8200624f443e73d95e832bb3b0a69fdf80e37d5273563252b4e0ef113bfd581e49b6e37db7d3790122c974c123f20d2f9da27ec6d04cc07e941e184caf903050d075ddb8614c41f248cf15a8e0e343b5cbef5214736949b69555d884e50ce33be8fdea03211d66224c757d7c88c6345cbabd2244f6568f22fe2d547867bc6e5076c9d9a471a782a2c8d85539551067f73ebc38d6ff2a7b96e6155ba62f51a921f17042f3a4c9f4f47ac9e32a21fa6bdce5dc72d3a539c95552ba810a1d22a404b3ff2526b65b7487e66533ebd6de7a0e760a91a1fe584baf4ebf747226b4b932677e015d28ff02400cfbb7cf0e807c4d0637a32bf918897ec09c5c7c9f140e65b112d0307325153f1205bfca381a4e0fcca646e99ef5db292f47e1c928b561c729b2d621c1026843feb3031f0f09f8fa83c6556c85e3f67ba0194b20dabc130324fec75f4a19158ed836d4849ff9ad5cb015d6ba71b5b4b1dff4af11242f13704f41c6196bc262e210ef02e9783cf6e04c5c84682556a14aef00f7719dd929208d10520fc3750a4b74b4954e11e2975e4edd6936033c1d5bcf6ea47cf0d4ef371f2ef7b7d03b9eff3fe78c4b129921a83f76a14a8fc4caf3f4be61f078d5c82ace3595825b996e3ee14bfc4996bab7579aecaf56ef82102422c112b7bcc088f22d6ec6d67c8fcd0213eaf447f7d1a820215ad914b092389fdd3d0969501f908cded5ae83e7554fb6e6341376c38c3c5875b47380b2ae7c36ed62baff0c2bb60d0d86cc927d4fc0976f5234f23617d381061f4eda10da6024c08dce403c392bf8ad7a22a824a4370c1450b4c1fa5248c5798205df071839af91f93c95871e5f5506458b45516c08052e2ccb54302ac75a0dbb0e1409027c997795c3858cf41c6a7926c05570e0028aa705052f83e2e4e6a5745d73f4bda58e1f3c08585f46638e79e5817824059f49e06e525df1ba3c68bf733405c142543286a71ba1031f0a5448fe9ed75f601a3ed231413b8a17617bd0655ecfb651905b6e3475511a55d2292e3561b786256745596175beb98aaefa5561dcd1b104744b60b7fb9590a985aa36fe044ad1f442abaa98429d5b9da524379f55584017847267500dc5c13290ae6848bf7727e96f787d459472835ee3d721fc28698a1557cd774276318d65b15a14826e98de8e8707e4afea8170acb0c9010251152f207ad75e891eb6149266eb9ce73613defc1bacb7c39b6929a9adae5739ef6c4b9e195827558f9fe27984592487d1fed300d9d7343986ef20aa830e5876c453ac62eb98bf39451e31ace1f2b667341aa4afa0dcb805f941695e97ed1a59d10070af63b2dbbf297f1c86e86e184cb81ab4968f751c3e1d3d8e0d10a44d1f9d6f548e03a60f066f3e5c3d265033773b61149508b10f45a20af7b9806d8557e4522199ab1d8edb9a260f7f0084129430d497e763e8fba27bdeec7f3aed9794ebb242ef02c5ad33edf5394154a4e82a1063bdc9042e896632c47d235db3d862b1b6d6c3ea9708ed5ccceda1678a0c7adf0438ae77d1cadb48752005b8871ecbfb1187df4547607a94455bf80b57bb028f8f7ab7895301de698687b8ba079d81e1cc3bc73a6198d8f48fec2d73b315d545270174ddc0f5793bb5b97dc3fa00379e5bc509adff412e46f8b72808f5992564b9ccc75878d5dc900cc6b1d132ab05ea0c911ed1a950c37a074d3db41a0ff5812b6d540af6d8c8b3a17dde4d79e955006cd2a122632c4c070d69cfe874eb9a69df4661443ba7df9e814aafe57ec2b1484ed7c3557361523017dc640d62ff3291c37644f8edd700e6a4f387ec501c3685a5bf3d20a03f07d7e3977aad3fcfbd82c745879be6a653aed4229af2db191a13e58ffb9ba931a7ed83cbd4cd033f14ab3a2242f1456c14a48569d1bfabb41ee28af1753696aac8470ac7a6f16192d5b12280e68942197a656903a283fddd57028780056102503b41a5866c8900aec8e3213ab0f384e4c8ca76a0815f3d2df9a08a1426e44cc2f27019843421e3e8fc0b4145627b39ec613ca768a64f09adf19e436503dbdfaf22ea5eebeebc3cb9c8cf1c86de63f4b5bcfffae0c39478eadf58d9623c894d031b05a7e68e7f176c2a5cc19816d6bbca16c1c0e9fdb6543b2e3d5a12e1240feb61fe9563ba1d0beb99ca1beb5f7a222eda0f882cbc1f6e83d3e7e111f6efa05f13663145103c392fc9d3bcbcc10c545f0b792c71413066783888abdc5c24796aed5a576afc1db0b2738e13da391e2f46e5a4f20b4b4f8f139a78c5770b500dd3b2c0a516277f84f1d8c7b68f56b5d550b2ba6920bc62cbf7112c566875f64e21f799576bd401bf03b270eeffb91562adfc1ca863aad982232eed8544496669354853f850cc71000146bace883557e7318d3a97c6dc4eeec5ba8db61e63b22ff9341b2f07d99bb0de14ace58c8143ea2c76a74638ce47a85df1af513adf9fe254504ccc971c1995285fa48a017180cded06c9813bba2972f9513ba764141b1be54e1045ed08c260c92a6ce86c2a6aaa216cdad2b04f52c05ac6f404be56c236a509752e0b95b075f0e99d7ad7220db70ef0eb464b2f865ce6dee64ffd749eb5fdafdbc9ec50f6301f7a5fa7a5e4dc304e7e6001b5a5e3daf6a0c063caac079b29be9e17a0b1602c6b34217a452d42a5d638aa19fd5d99ff5564af181679e61ac57b0856871ae7a5728c068bd9f73cbbf32080ba402644cc8a29d4917599e8cb57c0d3f8f7f1b50e79931756375ba441c4b1d4cbaf9a21c3486a16d92ebe743b6aadfd5dd40dc1068d919be391c998d598ce8ae8a86cba65ac8b413ccdc7127515f162d2129d999e96aaaae187e527d784e26e733065d3461c4f50f082fc2818578fb58cf33971002378fc195fb84cc8d61044accf9aa3d4476d092bf4da7cf7870f89912fd6d5c21ed087c21c8c10c8204a90187243714a58c4f59a2042307dc90d0cf6e3819aef359ee783ba63edc73983aa325dcfdc058595f1e8da42c7c1c4f7e685de68bcf233e17646df40ce5753ce593ed40fc6f27aa3c1b69bd8d390effc9c961ef111e164ca5e9aebdcd3f4fa5ea57df0da4260f0fa9791aeecf5d396a79242eb55fb4c165d3a0736117ed6d3ebd98534d6470facbfb1fa11fb545c7561934d3d8890e60b1b4d5a4e1b949d2fa64fb313ef51b6a2540e277fd4be15f0071c971f88d8c20b4ed66f888ba9da97847630e38974a01fc51a1cf2bbc38ec513c6019250c9252ed95c0176ee80eca048354f3f563855b6383751d3adf4bde7480ae84ba661737131798a22764ecf0c27f68665284ec41f8469cd26b5dfda94adb6d4e319e8974b790ae7d5f7ab31622c8514baa56b78c12ef5bd1fba91a288834fb7166ef65b04395567cffbec1a1911c9fc9e9dfc81bd2cfa93a54467466a1bc9ee9894e301dedd313f6c9da9e2505cdb551162c05947b46407c25d27ac44af50d06b8ce0cb34d94070546fbb294fcafc138c66010af76b6783dae285b904d043f2bf834aa60c9d3cdacef7b85049bf2da1f7ba3c241a871678a1ebe27cbeb78d843ff913f1dae4b1a9b4579d0d2960bf452935c6f56cc0a573c516d69c413a20682e09984ae820501777e56edc1d05c86806c0672fede6f954ae571314ccbb324bfdf8d5dd97daa59993484aa0f7fbe76dac1b4383b7486e925c0abf35fac44dad848b9bfef1225ce0e69944d32dc6f387c08c467bd9fe6cd06cf2485448b0eea8877cc82c04b9f9ab74a2ddbc8119f8ecb15253008507b60a5cd5ef38b517f4f89676a1f02ad6c0b26504e5680941ca867f1cfddec3194961cd92383da0c987ff7b3490db66becc6fc189829604f43b4f10856d297f13e1e0fc3144146386a1905f78848198e160acb5a474f84b9c734f354ccdf2b18932314261a62c4e5fb213d017c35672f5b4ba9e62484b755e32a33a2ae0c40917df9657282cd3c62eacf4a606e8fdee0b2d30bf490cf6139c1fcc0aad1006115f4971ba1f0bf3cba016c0b00bb465e5fd6748bbcf1419ffe3d651e6fa6485de12993221d9bb9586eac484b127c123f4656b29c00dfe75e6a1ed8b7e381cec0e4480eccb5503bc6ddea0acc5eb9dab9ab3677c5cbe0f498ae2881a45aa4e77c74853c64180410401499066698bd8ac1d29fc957bda6910a33100177a3fc909d8a7f763692e8ea459b5dda1710c00aae548112fa631ddfc1bbbfd86d754c8e9f110b8de1c5462aba566743369d17824bf017020bf5a7ed31f309e000f3a3561172193939119b46770b6cfaab06e27a701f376bf46eddfe0a87729771ce5b8445ee7dc27640de1ab984ddccebb30c93d0b1840ab3d502236f0dc0972ade15f544506457b5d8cc337b11b2d115d7de6a67478dc5126994e79c792f664ca1c56ae84ac4c42e8aeda54ab3814467925c3c233a88223c44a36bda65162b114d47b0e6ef49479d64ff6135443ef3ca95ec33c1f89718c15c130021714dd9e27e81b9547240ea0f57eaa0de44226b7b1776c197fc06539b446e6198fbd359180d190777c920f1f063b3fc510d86243e9bc9a6ecc1651f482b1448e63b4b3d087df7bcdcd8259fcf7824ccf3bf7370fc9f7ff305bd30e8a7d1f851bdbaf7ab5c8d052012a83e7e4b72c34b09d74e3a230bfd44cf4cba117dc6c5443d751b644f10692570875db3e396e3f2a80bf9d18eda0b172ad8bf0a6c988bc04266aa7a3dd2d97bc6b5093e75186cdb32979fa9bc2f0b7789dd97e0b490a1b6e84a708733dba313abb1126427914fdedce663bf47ef7bdb410ace51b67141342571ec264336a898d1be5dcbf127007223881faa72b814c9821c12499bc10900061c87f1553c427774b6a8a0d8019a4656d43f9ecb283892eecdbbc593b5b6974644ebd5543a3cae1ac08f1e02f55210c534f4fd80b6c654d03a54e711daba367b6f6b4444646d81bd5240f97d4fbdba5c55618093a0e5b0541f2768cab102f3dc0b33bb213eac813e0ea50596efb99f4d1e0bcd0a09242501a4a6f4e555da902004e29d21872eb629349a07bb2fda83719e88a7f9a82d0c05f6882525d4ba911d09fc0485f40d624023d2fa285a90c3ae52af20c96deed66a993852d02b8e354cb5e5ef02a933f85bf9eff8d3017e33215fcae3b71e69721d6941a6609f8cb6d2cba37031758f538e2b7e476dfee0ec40c262e5e44c3e0c6eb89f6431ebd44df718ac1a180ff548885f0f70d7e07ff1ab0a5c6a1e738bec0bc3cc9050f460db74f5230756f8c0bd7998ee0c771750c4ee35668c5950f3f73db30cb42a47ad2d71b8178c8969d759a3680e484d1861a4d05e3a74bccbfb4e2996ed59dc2b3b329cd30b91cb3e76ca8b5b462fe54e880a19b760b21ec91e2a6aaaa9751cdf7a740e3b2870e3aa6c012cda0d17a281114b8c11971c792f32cb1247708cacb7f848999e6d33375919840ac77697fc8f62aaf9f2505afd0f9c84b8fde744bf911d77c9808f27718498d77c11d7a8b9678ce4d2660fea04552955c317d792d770a5c7e536f1207b24f53b709a97007e1f98474bbe420270544f9f860def8c4cad08fb3be47366e32a1de9a523b03a6c5713eabcbbb1c62487a5d6db6bf94efde5989aee787c73b16b743171586746cd584124089e59c32ab30238b42e407bfbb3951497338441d3844b5e801d2bda0b55b0136a87b1cf316e7fb2afc151ae8693ca2300bc29f06b7a797872a217adf8180ed7b3e9aa45b03d91dd59a0f2d46d70986ef9b77531b9f387de4af8c59d083205131f3d7d6e1e7797cc1c8e1259a45ebae535102ef0da8c17fcf9a4706a52f768c3470ff36cea439bbe62fb777c3798643e325a711bbe873e9ce53eeddd28f6f305dca1eb2cfccce619277d9e4085619a67ee7e80fd18095bc09a8a3aa4b9c31cbe30104e77374108742193a370f063ca2ace11f1d1cda8815c2f40701d7f3c95abe349556a87223212db6cc8e002a78b99bc639cb66b2c0460abb19252628fe4ef3a1a80bd0cd336bd21d48ae3b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
