<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9f3f4eea0286836a6dbcadb08d27e65b914f0fc8c00090a282c3169c76dc204e49da2d71b3803c438092a77b1c3ebc65783b25c4229b731ef2ad0a03edc88046f64042c3150ca6cec4e16fe4ff312d6558174cc7737a8b06361c96253cc152af3cd32ad739bca976e2789a107c4f97c2e38ca031c2e4763fc8eaafdf899d1846b7f64540344c2b38fb148f85f6fd924f0a5f55f130bdbd8244ec463c8bb543e865f5e286cbcfde64b28439fba79b59c1276abe07e0152927517e98141a3d61fb64f11977b430cbb3f583d7d612c7d73861cdae4c896a0458adb3e4415af0190a3e013b92fca8a79d6fa39de4903fff2fa3bc2f8e7b059917b162799397d3d5848c1c9a7386c0bfe33235fc6c3714f73472a202e81b6cf433af6b4e9c11675976cd23dd2e9853d3e535c5a52d800698f2dee761fa58bdb6ffbccdc17610ab6090454c4258b15d2e52b3674bc07ce71ffd0886153715af9d6e912509b157e3c83e35970b1095923a3c2de5387988c5bddd41031b6c5e73ecebd5da6f38f68d69067d370bb3f04ee20f71004fcf55ef1d26d18a380aa2783f9962ac0233bb6c58a48c5711944c3cac08f189a9a92911a773ec6f9ef93a167364e4200d1c787571fea15235acb853dfdda12de1659383bd099e2e71e8651a4750d9ef79e69dc424790927c99ef8de8ac71321b06eb2bd14ee43831da898a5f3f47536d40c2f13ae53b1da3564875577de91f9bd867295d9c6d00377644beb1dcc770dbc9abed0b50a285b631fbe8a2585b94c66ecdf984158d72704ce9ed21cb0e3ac654509b781421c6f7b79cc6c14f16c3337e4743ff3d561737c69405aab386b7a119029b1b85b71cb21dff63c9ec1f51eec88932b94954506226eb714fc84aa90334796ceadb16cd9afcf9fa539804901b66c913ea990e788e275e1d829d37b7077ac6164f9b5827ca17034c66ee41c3242dd8165a945dfcde3561b9e0bb39deffa8302acbfc04286da69710a81d80662f1fdaf127c86473a8b71c5dea3ac1137aa3d602ee5f6b195d177a9181cacb549451b8ab411406586d3686d8d625980560e8eea197768998d91b11398661edc6e0221d9483551f950137b745fb8cd3fe1f0d5716aa770db58db93a8aaff565a9623b7028d3635c0ccfd6bb4279d7ff5319815d670b958d8fe1b8b804e07df8f4ecabe27aa144d90c54c312f11fcc47a826e6bce58f8819ab4693cc1522e0fcba3dcbf83d0fd3db1779338daae20442b9fc9f21fcc3e119078b50b60fcf717e0365f76ad60ccab93d08f2048fe956b03d91c830ba263685c43141a76ce206a2d3667997a4f89b8f30861e66b8dceacd326f1a4b2a8c6c765f34a2c2d021372744f5d38a7febd2975b0c7410aec7b6b074400a269b9cecc95564056ec553b82e87fd8ca356060ddf98151d387d63588439001038a643bf5f42246c3920418620ae299178f1ef315fb60f4fbec68a3624d19b275b63dd3f39b3f30a648181afcb3177829397ba82f90bae266eff6442344e47cf1d6757d39d015e825977acfdadf9ceaa8636062f46498e1c06a61c98557e5cf4e6fb66f37889a04503697f13605fbb578f7e87401a7ff901d6cc74d6d7dd6d1892605f0bc4cc32bccec48ee2d0d4be7420175e2cf9ef341d5c105553a3e1cb92025614e253121eb5c9f39e2cccbad2e10b9caf88992154389bbd659f5a55c7a508b7fa6bbf7f465464e2521d12fbd9b2dca97bcf9bf22113acfa28e24f770f8f5254f4e03dad85d42a4ee15539ede68f94e745c8334443380a3ba983543ccbdaac7e7fd1c20cc5af4a5352b95032ea754e724432e68767bc300aeb029b1ac8d760741caaf5ec821451c3d5f0d5ca9813726a0a0ca8447656a82a6fa6fe9748556ba67c1ee7318b7a4bef921c07775c4d61f4759077da55725bfdad0ec74f3088112a7bd4156c31c9e5a51c12db922748bdbca14e4cf280dbbb7ddd68344bea1b21d5bb84134717527e8ef0c6a45fe8b9617c9ff001a66b0c7acc833ded341f1a058867e2c8360bc9fd7cb35841b27328ea3bb8fa0889dc854db1985c9e78d14346131567a93eaa4775fd3d6792f7cc9b4c27de88d11e8895ae272d5b05b4cca4cf1c0037765cba259647aa037072c938b1c02c53d257f08b96da92799b59861768300e970d087a2452e5ec5f11e78b45feab9b6ac557c2f69e96199b3471fa6276da2b368d167cd5f38854d3be6091e957870cdcdf37f5a2f40989a9e7efaa9fddfa537fe894d4c8b0c5cb2764cff27f410844f8e1944a6beaad0b1168114e10112ea394172f604cda8ec1d1cfdba13d1d3c8c1f7b3ab1d5500dfb571d86d0dbb2d8f0cce7385795b1ed202d58fa3066610fb5b6785b4b255df46cdc003f97f6b90ddf785cae18dcb4e364ea3483f1acaf8436f2b1fd09784d18e35a17fb1df25e20562d37b0d6a285b9967d724d7aca005ee0160802c8f98deffa1ee72853a4d0ba1a4dc344d34e8cab015000f478384359b3cfd77d8ff80b447e3f40477b9d889c209ba3955b9c69ed5932877646a60fb80daafdf8e1b82766886becc529969216a155311c669e4dfb4ff3a4d57b2c47c733decb450eea747cb89b11f4a4e76f8d91611504176066ca61fbf71624376cee59adb878780224e48b04311429339d63e1828d40647c2699ec996da6f127c9b4c6caffac745f752fe916006f381b54fce42e19f946bdef1d8ca32536e30f9ce2d2f56e66527355e4dce5276c7642637521aa6a9b57076504a581585263126496cde4c9931d36f55724d00028b86631644b4a296f2a9c9cb207942b8fe34e0acf3bbab45fa3241ce24a65c1f3ce6d58b57c427dfb9c7f01be942efd68c1e15a8ba0ca81364c50e67adcb5dba4d89dfb67bad17d313769c65aec25021696b6da6e5695a5061ca7c6ddbf1fb9d1c9c38a62c4be2e75cffca3552f43724d568704e069e8df44fe6dd12054210eaa555ef44977aba38f6f30a59e612000773b8e3f42cbbb5d51587552034b5f02788908c57e022c0043ccb24465b5603f7c864777d8d17f07065b9237f52abcafa0f0bf3483686596785a50a89f3563cfb6d5e9da9e07e9f375558f68a879f47e3a304bd560074d55f6a9d220789a5a996ab10367bf17d66fd7b7a51a1e0ed7716e0001e2de848d6d74dd94f40aaab4c477720d1b40454dac8c9c5e9f964146fc6e062853ddaebe8698c59e229d01ad7d689864a57be75146343114ca6a9d715b1b96db09ff14bba246addcce18f0be0ed6bf431da918028d298ff9a7d698ecad060ee8e32afe91d76fe9c4b60b13cfbfcc56ace4bff6c93ad0c71ddb0d4674aa517d5b47ae04e50e1e59021927f3c0ada0f9cfa91e44f9a4ea08155e2cd7e67d75b9a991c0de15d07d9923567c9d61f974e09ec6b049ec6cbe66de6894a0dc30fc066462f8d60b85d3ab3b5c99a3bd1b380920b8d2a000711d11f399e912552a54cc8014596f016d0824b1f7eec03359ebc46a5c5afdbdb157a2859f924b6ba22eb2ac908ff084148341ce71d85c69de566db70d691c611020a9263273fbca790cf37214dd2feca11e9d226db9d81cca42f67c606a7e1c6c35dc35f73ea8c33809f45a781ca1b61fb36a4702261e3c9b8017ff7b79edf0c104cc435621cc34f94236e9256c490b0a8985b9bff9655bfa2e7f838536c54ab225e1332b3c2270da00017abaf0117f80d391b1e8add654ca151760761a738c9ae7dd0fa5030ffa17a4ee175132198888ff1a3ae168e0067416c8619ba12b899371104b61d216851202ceca4ef86a6c3162a5e8e84679fd994109fb125ba34ce3f71ad68173862c4762f9e2946e641ef4e62ed01efc3d44beb00ecc84fd61cc3dda11373b9f11100a181a5fb7de12f60516e01ccf35830a37c44ea83cd8a5c5b547d7763b1b703c064eef5944231d562715cf22e2d29632698dd1cb17bf786ba733f2118256890e5e5b0c24c8456fb0012be3abeceb2a4597fb15ecd163cb8ce6a1939d94ba8538b2788830e0899280b9256c63e4c3cf048832415210f19dd6b3ced4edaa9c9666476baa43cb6cafc0b20f773298ed4e996c8054c00a985fd1bc257626e0ac6768bc59f1da657d00b62a29a9629fd5e54799819bb25c5b58b9ae55db46247c747351afb596e99e01ce459f3f4983f7ff0e085f48b2dd6e3edb63c80d461f90a186b609652210a58c9b30ca6d93fbad38a890c82badfaaaa91cb87ef7974b6610ff61a22f2fdc122c780bcfdef61bfc73c3dd263ec04db88c823c10c4013304a36e3be97e2dd7388c4eec4b3552285ea9154c4c49bc6f393c80977a68aebbd74dfcd6b2b236d6a61783676a38920523c230cf6c69a6945551eba13e40596c081b04bdbe5a3380023e946d459307a10d930286c4164eacb411a74647f817f76e5e326b0de08f0a2ad9a302f716bb62cd6f648457829b88277c55a120c538560aa79df7473ba770332996fdab41da4005200daefef3a29823ac212b4ca0f29468b953c52d9bd910b077b517f766e592cb5dfb03a6b322c4263c1b79f7522a076dc893d7a7a35af10e331ec0ad4125f8111bcb45355bf5b938fb74c3a2f9c19553d48936cbb06cd062a2a56282f91c02f291d8a8f7a737f248f6b84175be83f16bee98f4b433b6817935003e3ebca93da0df3c79c3e38d1fb3b129908ba9fa32a8d4e1d6ed665e7532d97ef0d1b77abd9ad0cb4c3eec6f6afdcf633a6853936afaa5ea7b6d22f2cd257785fba80e7334f3eaf7650166d591b14004fe123b6723a2a96f96c3d1678779a7bf9cffff0592aef986d38cf26e02be8a5aee5ff515af1c95b47d23947baaa8fc04fc4c1a0d241d066acffefe4e0708abf5342c5bdb5894e2c3c248b955f7ff59cb93921fafb0fe59a614049bfb00bd9167514aabe10f51e7fbdffccc73c99151a4828d9b1da84f8a261e2aed641572af7f208cb8ca135e2fd5665a40789b7e4f205aa9569b8889a1535c4af9c1a4c6b6b0a9b950e366c2d64f511eec1761b38e919efa0bb6853122b808861f780ef5bd7358c4fc45f19431db40ccaf5d4be5e82621826a30bacd5b4715361975fb5617fd88db29149ccbcb853f50da7727fe883e65546bf70dc184132182a1e33a65a1b07d2a8183a4281ad92e421c9c36094426b1a1b257296bbeb4c8f4ba01b25604eea6c0468505e1e8e3610353343a98344ad097bdf280d6c5dfff2ca0eac339e6dfcc483f7408b462009090bb0b541480e6f584075fffd83ece662055110af3141ef33089a3d0fac0a3d745c0662a832574d3e755d1db2330e5a36e4ef66b54dca1b1d4a97b1a5377aa9339d291ec7f82b5a3240e80c63c3b467c996b50d236646dfe7c70bf651ec73b1412fcf1b5bf168cbd78eaf77d852f8747b2455e2993d6899563d8af8167afd91a36ec89bffc1d791ee48f5c747323b7cc7e6e05f8dc26da7ab07511191db264b471e9f586da42868f5893168362f24aff450c909279c6fd635e2b2c2cb67101072d7f13da0585c2705a92273b00a8b0dfed096bbce0d722c55853c7a2915915d574f0b506ccd7191d189d75042f7426a3685e09691b11c391ae15e2ec0179dea0fbfe1bb55f1eaba45b259299e2a40e84d3e7dfdf99f800b11159257f05101e5fdf679b27bf40e29b4563d56f0e0ca1a6dbc61106d720dd29fda397c777662da5e97090fb43d13d302443b89d79a80cc2905b1707e41cbaefd835cd182ab609b590aed9fea50309db4906742be2cee292d314ab7618cd8319b9f096ed23b86b522054df245451215cc23928b05b5c3b7d413905234444417b64b11c2a60558e79e7a8ae65c917d06065f571285970cfe360c40d48cbf741b4d590deb4e6249cce10255f14bb2d2be1fb2d0e6e8cbf484f5d0e0e3b2aeb0695a0477a0e6e79dd81b1ed22270578992415065afcb7d674ca233d97d79a7861926a43807f9beb7064ccda61ec8831e0c7c605bf5c1c4759886949a420d14012b8d4a6d8cf407fc76f52dc0aa13110a9bcff6b3c1476b1b93bc378cae7b6fe0b8543f862a30fc929d3146e414d26e602d17b1bf0eec5b830f3867bdf8a8dfc67862f4f6db7e06b91097a794ce28e28dcbcc61af4db5c05d1d84beba2757473b23c137d84c537cbec1389a66a78191ed5d2638653c71cb6e1e71c23e73849458b1f4ccaa9fdac02ecbb9b7fc77dfc30cdaffb89c42282d2a2773501e31d21b84d5631e0890e5efe3f84d1f30aa0d3d8ce9f1d954a939a62e882cb43c62b263e5f6456184418173f016737788ef879ea366b9a4c42bf6ee1ad9b1aa2643c0dd021d381c11015e1a37c878b1c66e6d4ab38e4d0f377967f64fc2c86d7239bfe8ff0914583246836da3b56ac7c68be14bc741f080e9608660d2a21cfd21a931ccd0bb5401c43263325e907f0ebcdf8267bdf715d64a09f5276db98d81bc0616a056c72b7af42d2295c910bcaf7030daf815d1f23002121e5265fabd191ad47cb7a4b20b06af866c8ac8e7a270b7185cde287202626bdad7d09172610783bb294b9017b32d269328716f9398fb43d747675368cc251283fc72e618e197fbf2a7614376986a9d85e39b3945aa1a43ce1154d90ac0e2cc15f59fe7a4ae318cd27a4fdbf3e6a7e4297c936c20ab217ff56cbe15ea623f0371432cf5b6b54a433a77c507f02b0fda04262b925852e691b5a4f301dd9056866ca5d4954cb972a97cc12a03c379d16291f31be60bce5fd530135c3bea321fb669f22627e71bc7598f61e97bafa7b5b564b458d7e4b375d8c70eb54c2bd81ad76d3016fdecb855433a4d62f2acf48a3524b0d63adc78c1c2336de544dd9d4cd51ae9b97b89744d99250b865009adc695d0a6e4d2eb56c528516fa38b34b262dbb08d0d4a4de2dd8f4766f8764f3d09641a86c02eafa040252480190b40e512f2c2e43f0eac495b1b978958e635e69e30c07f08637dcd8e7a32863f9a50dd46e1282ecd813a7c77f51f13368119cb6a6f53d0a9c1ecb22316094849ff63bc4b5f9f5a1bf66799f3b6639c7e3c0b7e8f191c0e4355f0dd82a3386a3cf8faa6ed1656df7cb281a2682c4456970e60b6dde199468cffd2992b177ac2a559024b5c634f48743a6ea89ac1dad0d4eb188152a9014ca741e3876de208f3f212581bfc96c82a3f41a0dda21592f9d820166f80b25c673d790d04007b03bf0ad50caec34fe52cef4bd296b279e2337fbe4e88555d1b0d4f2d656bba767f3bc480b4dc0fe53c8c751fbf808072cfd367185bb3647ab1909ce32737fc12b949b173df96095c1aa2ecfea8642f467e0e40a69de21479c736cd2275b75c16bb05f5204aa9fd198042bd437f562f382ad7c5b426529d3fccc6bc3516e007b5bfbf6e7c32cff477d6557c9b191de5503d14ca197fa1d220ab71e31eb77b0b3336b97c23f43ca254ecb7178f920547a9da3366235d6e20412e89142cb0116eb121cb5b671ee1b671b14f839c20d877e4fda025a3c45c7eb841a51a3cbb02acc9d450833c9e6610ccff90d8aed3390858ff32dade830f42daa75675fef20e784c9f2b9a3eb1209c76d53ea836bd7b0c332dbfe159dd81000167f7e876bf6a728919510b5b8a5ae0c0e27b7fd84f1d0f1b3a902eaec99a2bac7922abef0fb13a0f93899a5b720dcd668b3cc84033f2a217511d88f533016cc7694d4874afedc96b5bd839add6d290c8cf23c7f9479e628647d83bdf261b75431004def0ca83541e5f9bc8c0c1c3e07267c733e3b7e82ac5c67d4c3a019994efc7431879327b2a6d355c38b1f044d42214ab8301f2a72d29d657e3b5863e03e5559b0f578c2a43d579f76451a98c09ce36beada045e7013b54b03d927790980b78917f61917dd6a72a2537fb8b9a04c1676492464b32c7fbab2f9392163bf156f6ff4b8473466cc88b4b5b79a2e2227934e69fccd58ce71acb4b45461d20f6a823ea8b31e39ff452630502277b072a18ac9beffbac150bfc7d7bd870eb19e951fdb9f2038e49e2d5e7d60050fbe8dcde74b52a1f17502c95284d98f2e41cb7749fa4179e04fd2d5292a0795a000a134bf44a509e60f93e53042a80866794937e051f7aaed6a8b92d0395554ff1c00b8b556fbe4799f1fdb4b44d7cd95420dc8eedb31e53918d3f355e707c3901f917e275e1ea832389ae7cc265e6f87a763bececba009b2bbcbd89fbbfcfab6d899bcf79dc9c40055ef2b9f967f8cf7ebe61c26daae91c03db1503bbcc5af95e0ac1783eeb7663727f7359f376472670be83634ea409d9a9a755926189b1914d16dc0671ef1cb618a7c1645cff6729ead6faaa4455be65c1548016cc03f48513ef40330aaffd31dad7cc02e5b4040649005e33f78c5eb0c9183949f9ec8e7b92906ecbb508b4cfc66343fc7798146799ee9457651898d66ed3dbf018e27be4e85b3b36b536105bf8a9424a0a94a2e63e160ad29dc58037a2a41eb810447e500214a5b93c4209e7d316639bdcbf5c152aa60e9573336a29bf2490fc9195fab73e706ad9d0205fec71f99c599367969f7e49e4f6de452833e447f83059c702e07e0b91ece470a97f1da7034f42d5489f2fba3ffb700b8851766af8c76136fea3acdfb06ac1876d759b3f761fb5ac934ba59ac2f468f662d9be8cade6f601573a462903e53a1db16d8fd16af093763a851b21e8e329f23352ee953d52ed572b5922781a5e55c0e0a4013d766f7e08e3e7d27cb0b242e78696cc7b60fec5bdb86018c6afe4cdc370c6791a3a5bc3c3473839e9dedcf63b369d01d5628cfcd6c4dc1c2343834a60afd7122ac3df9eb8f6c74ec6ce1d62e7b8fa319d7cfea7a20ef545fa9876ac18d7627f10b0d23a7919ae735618e6e1f03b5fe9f1341597ee12d700dc049bd6e4bd8c19ab310fbee34849fa9e123e70f527da4546f7ab98d6ff127d73b1d8ea95b6e760f2442b76c4486764d06f13dfa9a2b49b7970154644ea78bddc4058a50a9ac0194ff8ef75d3ceb186a78e0727991a58c9fb3105f021e7d2dc0bc943ed37728fa2a796196550bdbbaf9c1c660e26f97ae575785954bba55a2f772ec4e4b4277cde01c663270d6c93c94472cc0cd2b79c6e267a9c046fb43ebd3ed759255620d0e9ad21154bfa563b0d2b72bf344b94744b2fb9264c3f8699128e8065c0e0496d2ea66bc371a528757405e74982479777a0ceb943556149d244465d00862e8681e7ef140c4fce4ba7019b34bc092ce9b38a1eff7485e0a213f2efaead8bb176e6ca527c77692c8e6271c43d7da24d850d586cd7973eb4738cb205d4fc9047c6479896b1bd8ae1593f886cf3e84733c3e57de2271c67ae49bc6c383379f9ce0bd3c1c22e03f325ecbe86d70b1890c56a2fc7f49f7c98bdbbac115dc2cab5d9d71e6e9999e0930d0fbd9f4534579ec7a437a014c3a8f921e3958c4e89826787864d3f1cd7ab9388ed441cd1b2889c7eab7ec306c841c575657f7b02e662492038dfd2d8744df6710ea8d10184c3c7fa899e43d4337768360a92d976141601950818846392a3a020f269f1af02d4b9d4cf72de76b564a48614eb789678904fc78be892d99e098031a224511c6f9ffb725fabe98413b56bf4a5129568db21f9340a0fb37befc57828c05557a2e78c25415ad8637a184701087259c68259f44a02d2893106610e6b06fba8fb5ca464a37ebc90d1799bc4f39a2989834d6f653269baa2b5772361f857653bafe536ae1d1aa2d46932400b0d1fa1d88567627fd02b18336109577675a85b2c1effba6a6ca570118aefbb035eb67d4d0c18dc796ba160dff99568c20b0c6ef6a386d3e915fa643ef7ce953fda067d6c395ce25565c3002c663a93a74072a8b79e2ef4472601f6f0e85bbee204a3d2709bd0b0e6041f316e656664fa61d05fd8378020f961dd50b51562b5aff85652fa039c2b1115e7a0a362280d23e5982e7c21cf1ff7a7042adf622368bd53180a78fa85c8be37f31fc75e32f7cdeb4cb665c855f4b5df759c36e1286a54452710e194530abae50e6c1a86922ebb11d99aa8899746eea43b6ca3ec94fcd772ea3058ad25871699d61a3a11a45dd011e6df5083f5f87537c880c017c7094df40a8cd52ef37674336cea9a84b8d201812a772185a3c4afec00a67380bcfdf576ea1bc97cd3a59203cd77424661327f41d6d14d9ba736b483c4b3301e6e40d5fa2b2792b608aff8b78073b8cf556491a8e33601b5f380f850f50732f5e7ce31eebbf7c8d2332ff3948394c88e4721ba838a0fb8e9b2928a629358f2839b41acf845936152dfa5a40f7d7cf215bea6cc30c36c559e84369e2469eaa3f47ff6b0f95d46d51d5336c71140eb0332cf0a0ea9821804e4125ac1074cdb1afb5b91539535dab5f1791ac961c2d88af241cfa20d93c947973c4f8b09819f07af0aa8b6c265fed85eb9d7dfdfde576bd675daf8b3fbc49d0dfbb6eece90ced67b2e06ce245ab0194362a4cc9291e30ea57996075b85b5cad5615cc649226e82d4779e8629e5d9b39f34a07869f4b2b0d2be53371866866b2ea421ea7184eea56ac40e49f399865c48f9f7477b37fa7a79398b98d88c7199426b7c22ade3bbb95db8a8674acb2e067c6cbc9a0ffa85cff845a51fa591cb6e5b138c9186962315a122fad5c5c12f25d659c1ed6e5858715a7b40ff76272f765f8fc761cd9479997d79974b0681f48f90e760df68de0ad4abaa3b666465a062860af7129ee23d0015edf7071bcb3ec3c24f7193a4b70f1c2f4e2b90dfa2c04a2d722f7bad3d919393f4c9bb89a01d86767b76158521547f24d8bf849db17337ea9697e13d5f58edd859e0a75a6db05f5b10162fb5392d45db74754d937733a72d1abb8d4a195a609ea8a5a5b436adb2094401f40a48afd54961347a5bf0824cea76a095e1aa1004ae8f5e683fb8f08f1201b03d418dd9f0d38412ba57df07d2b973c5b77a9cd496334e30f706149fe55fa53f22b82027d60f74bff044d061d716f6a6ef68fda683d0d26225fe891102f879ee047f13a34ff52f10c7ad40266f1794e7ba7f8023f94be9ae162a52260ea68c76ccb6cd9a3479a64ab1f3e7e4b4857d8ca3bb7cd4df8ac06f6e2f35fd137cada423f623585787eb593496cfd2885f24027742a8daf7c500c3e69c25302a872185c7f7cdb199ebfb6a3d9056ee0978039a04e13ed92b5b8bcf11df7b05ef34bc12b66cc5072df1232042333066424395a36a3aa1239f3745ce8e9a6a398482f7aaac83c0de159fa4e2cbc115dbbf18148a67cc558067c693eac1c214bf30dea5dd5fd785bd6075d495248eae10755bd19d43cb4b100340ccf7a0384142350df8be9535b1f7fda7984265846e9f77abb8cd2ef7be84334bb587327087b026c50871e04b9b20b272b05cd7a8d1781fb1044e86e85e43c91d3847fd5e10640bc69d69c641fc97bb5bd283d4857558c6d312afb174a747ac3a1d9c5e40214f53ad1aa984059a827705efa44b14f41f3c57a7c0ef7142b23396a0538b0bdc16a4b3631396330feeb76ccbe20193ed2dc7aef3cce0851a4af0558102f0ba02fbe14e9fbc7e6c4624cccf71e4e290eb236fbfb189d92938a887534f97a39241880f91bad2922b5c91894626670db550632f90e464e7d07323fe5031fdede39d84fc2006e5e413b7f331b76e932fdcaf1f9dd528785ad4e247075fcfe685fd4a52bf880da7aaa114c2b1cdc913243acdf4635798e862ec2ab0fddf619708278739b9e6aa3238a947e4cf912f820a926f38a80f67cce8710f3690b5cc00cb1441225dea7d39cdb2c2be98296595ffdffb19a6490c71ba56f9ae54e9eb98a863cf517b01a8684a014e71ea60db8904256c9bd8e82a1388f4b41c8e90ed622c8311a4f82bb55ebdee6521ec50905155765606c5956e18e8c479944c2a41134de1a543d35e2e0755f62b05230f6daa5181c9160364ff820c872dc3faca07982dcb70fd9243b7e06fe838cae2925705497bb870c46b78af361618792c9614fd4fa98e0fbb4776ae5fd6771ec3bd4616e584e9b7105bf9fa2da0bbd1c5c1110f40eaa4acb796fccfdd2535b87e609e826bd5b0411c044454fb1213183502a706739e702f5c33eb37fd4b370642da3e428a3e6693c924957bbbd3925250368bb415568310547a6e2d8addadfd347eaa8c9612a97b034e7140c57d5c12489af2f25bcebc89a044e58100724844c9ba993c7e0a461d28178d54b63027f7a328d74e08fa1bfc6617065986bde727dbdc0b5cf277598959ba139e12f57f005c23c004db0439bad29ebc80a5f989c0ab2b47c0dcb0bba0dc9b369635889d6831f2448b2f9ba8fd3688211cd37cc6312e1f46883f73a95173580ad5a87d5b463993a2540251a9877e3ead2b3f1aafd31af8e5ac1e965f2156a9ccd6210a941207593b4e0cb99470b7a2584a26e35ed55fc538d856861dc795f35229e6057c72e402d6f374d90247e720b8aed836dc2e81aa488a815b934f5b80b42f0790db0b1b04075fd6e7785e4fd093c3d8c07203e998b238b90a2a466e488921d345e4327d12a40ab92d1c61acb86ee9dd9e872fb1b01e52d091c43060b08333baec42c0e6f13bbc18cc73114bba645cb931804f9747a1350ff26ec221c81e6f434644d4ed6421ddf8130c12b0a7dbafc40843fcee3eeb67746c9b6dea2d00f2b8b94088b912e6f013f2458f4a87a7ec698ece73c7a54f01142c85a95904b8ae9ca0f29491d8d86a370cdc97d3560764b3b4a2567f9184806cd4fc3520c236b3a4938102e15f3d8433d091e66f58c2608fddb1ca6a3d1295b7ea4700f9bcae9c697431c5457cc9d2101f976df85af4370cd207730bda8f083f767503eb38e9f92035b9fd505882e7edf57f15c8d5d1bffd63f897c196bad3804784d6a8673d788e9ff313280542e7943d98a5bd864907197d674703020c0b89a9af6a8c7ec1585948bf215feb903db841f6de45faa94a853bed5518f1ef4d98eb412ef6ce7e94c7282871bec65296a08f386a74bdfa3e207edabbaafe006d0179b6ee1f6f8004256f9e2fe080cfd559fcf07f43d836b65e5ff326ec093144b718f5c8c3382c97e15c0d34c276e3e3ce8a0ea942b118274c9868d3971fbc8b92789ea712d40b751b5845e88715e4ee3b0fdc63196901abc588312fb3c02ec8fa716555c76e8560aed4a98c83967c779c0f457b1f5037c6c0b9282f92cb292a7199f42a9b502556a5d3c2e06b3af30ed336acce61b530039e51fa6fb230866e9435cae8afaecd9f7269f3429c7417364ee1e04627a15902139b8908d289cba2e56c579615a09c23d05d8beb0c91983ec699f74976c7ae86f0c5c6b73c77c5756366a1bbdc3a73b01dd53f9b972f83865a09357960b001e8679bac96c9489c093c4b8e390c0a97dc4e72e3ddbf13c82eeec68b06c14ac5047c0f772b33aca6ab6d408f5921bab1f4e795f07390aa87cd18b919deba569feba0c96b86c85893761577fe039c2d1faf3bbec4edf7b3d4a2a1ab862569ce18972e68460552597cc019356032e84e972356dc2c10f44f189f113b11f565f5fca2893f907f175a5e5e6f3b7274b6aa971ccd8303a964e62b71b3b4e58ab33109137894921106b4705ce49b12ced05dac80af8f9ae5979672126037807a14392722d26c404d8fb14b1e385d05b1c4613a62c0c309c38bc28dc6616da0adc0548f476d9891c56ae0c431fcba9d98d9063a9d22d5deb1813c5a32b6062609967968dca478e1683458e96d2be5d347aeaa799eec21679652b7bfd75a96c82467539c7e32d28d40ef9a698a21a3f73c50530ae86ebbe6de7a9c37f8afd61c4d0ebe07c38274debd20e6c6be8323a8a03be84fe2a96542eb4c356ed8c0cf03054b4a8dcadaf4fb20f164c203b017527fd538d7920cfe02660a5a7b30150deaa302ad37d0179f3c7cafa4746feef210afc8414959fb098ba77bcd1da9335c708edaa27e2fd6012283c4cee3805f508b79dbef1618b90c74c2ad83409bda65f3859642b0a5d2e12cc486e187405efe4c8c14c01f24339428019b7724eaf113e4934d980d6ec80a43fc1789674c6a77041dede37bd1cd154c7f7601864e4527eb48f85588abf4d55819d42b31e64646ad9365482ebeed586844343f94bc8d87c6293a79bf8017e146c575929cb6d42f984fb221a23d64cffe3af2d5d6cdba68d6d8f5aa545edfaee24807a3575a2b6593bd84d0b2cd10ae31f545a2999b46042b1f2172a60699ceb6b13d8a9bd51c13a97a85c767028578bea47c40a09f8660cfbcda3ad1d04eab37d5c57779496a2e8e296bb109af8dd37b93993031baf6b5719ac66a05a195b8976244ffa0c5293c03756f7fbaf10e672c037fee182908d84ee256d69de7e88fb70d2bae759a53d8c6a3b7a2b5e7218d5737689721704a1e15031e966349c3f219d2b7660b5d92324828fb7ddc437a89ec3cf9b48684a6fd68a7fd5f5f47a663254cf0504799f8878a55339590ee9b381b2acb1252ae3ccbb0e9df6366fcb36b472eb80200d50b721c64d4bd2be2f56a19ce87fd427a8f5e89f7fb5f8e364a022ca2433348e4beee86884b9c270f0c80f30dd5c242799b7632d685a5ded8c04034ec7f2ff1fdd51e1a0d3e53535c2370f099b8faca670505236b2bbbf47f77097713c4ef697a6e8921c9b648552699d5d9ea2a0602496b4c2399bcfec68568152c6a7a64b02e448d8132d8a5ac43b9804092e437c8d211f45b2c35f11e9672348f06610bc8434c91c28340bc449469fa26a05f14e92275f5f19fea59ff2ed025c30571300ae3aff46ceb9e03a786c73f047cb68f53444cd01a49a803f0c1236124b2b45a9f92e763a877086eb6351793de29ce0f17abf33ab4d376f01daf0eed12bceb98749c71f62d88c484a0e025e887f641a3d28fe5e2d9855ab8bc4ddf296b8cac240b052effeea99c268427c6bd1d961ba726606ffae2ec3859d90c724d524b68f655c22f3c89f9117d1c16d5412059edb7880421d92f304bedea0a0e8da012f156fdf1c847c89bb6fa2c796182458eb7a76dc83688fd8fe4ac3e612ebded9e1a9f16d344b569de75f6ba4792427d19800a7b2fe8589b730f0899c6397662641d772353cbf4e6584eda4583b45df752b24bcfd3868f622040e5098d6c30e5c02bd004cd26850835b769ffa1bbed0b2b1eefb4e38c3fefa28c8279b8fafbf3ed6070b10f36738af4064b5d2ff4654babb9cc0aaf9b23b83b5b48821b06cf11d74a8ce3def7d312738a91b99cf091bcd26eb81124f445692bd9f305c377777b3b204e3ec0acb120f442d9eefa1389eadb7cb9828b892176f7a7e37b1e95f63afb23213f1b976c435b7bf9bf70dc415ec7905ce0f6b5db5601a8a7fe746d2ed72676cbdb74a2e4e1a886773515c1e907a1b9ef5f6dfc611be6361e58141c3768fbc00149cd397b5dfec7ad3723d3111d2d3beb3eadb7b74ce530534d40e1dc9159b24265db523e7cd7ada533466329e5998098ed8c06cb670ab721cde8bd3c4f256ba07cbea2f225746bdd20943357c74b46ece4846cd832bb78f7368586776dc60c1927cb2b4947cfc07093938f38e28e794eaf661ce75c37ac90f37d7f753ecb9a411282ed44c554ac012570e5380f5cc7b88882f90b2ce043030ddeb47abd785bfc6ad31aa69b2eb62c87045fe363b295b787968412b2e50afb208db7ac45b1aebd19474246e7755b134a7f34974524c998bc7b63a1a809df5c81c20771c6ce98176d63fc11ad8449db3d6ca3f8966fd5cd4d66e83595bfdf5964915afda9fc49f3354e7b9e201472e94a08860dc14d69d209890304f953d7baccc8eb352d44278709728d6f6e8094fd5b6596a0b4d5374199c57e0352156fb4cfc4c68ae3166a73913fd9d715903fad8b34b7286f5cc8a2b77ab58788606aa4c6b87f1e338d3b237db7477bb17414d8c959564f58aaac82be11bba621711cdf89045995cf0a4536c5315e1d30376da262820ceed2db0be060c971a9ceb991dc28412e149be727cdd8d2f7db831121ff3ea5cafcc547426971475c7ce4cc0f4025a236e80d99d7b4398f4aab66bb33e44a80dab2ca1ac54851726871b643eae8dc5b587b8ccf95d22be80909fc49267ed7fe53c338a8c18193376daa19435bc215ea15733a1d280c8a90a481dd4d064b9416927bb7ad5d027685af0373cbe4700ec641058bb6d6212fd6e28c16d574814e07664a0d382b18aaabb6054aef3e8bed17900ca648a128f2770199beda021eae7b635b68aaa96db63ef7424dfffcfcf0b0b2bdf22368f07ef68b2130ccc7d1ece2f301aa7309448e312c950d2b04c5a2b5724344f045cfadaa3257296f96e1946ba6082c8cb4b709cd9111893cc34fcb1493e89f70d0d15cd54ae6e45d207329ab4e7114d2ec35d2e31472a20f83f051c2b6231e0f909f769344cc2c7f41b34927d27470f5edb9528ecc131fd3214eba09013735788146f3b30a637ce30b47cabf551f4ed0a3cf77490ead1e6f399f47744cf073cc3c9012e3c9bd11670a6b60af8a9615855e91ff28d510b49af3e63190f41cc1ab7e1cb49358d044748a995a0d234a7374f6ed62c1c1c518b131350160c1d7380e20756bb3a934c4b6c885ea684e23e42e7f2ec3aacb7a0ff99892992433a047682543c7cc9b259d333256506fa97d7328f47766d175f09b0872dc2a6fc650754d1807deafdacdccffcea1fff0d465af09212d57729dd848501e92aab64fd00cd1d5ca823745998c4538f294768069c35e20eabc480da07c7fbc6a3ee1c1cb231de3c31e46b913080a194f5830147c76fd185c99eb991444f822b993c61cd6a30bc396530a2b1b8a2b3328f23b852b056dc90250eb6460f48dc3113b8760d42c9c5eb56d132112daf7278d613112b4b0e3b071af9ba73213f34d67724e6abc0d00a4ab42573a686472ea36b4c2082257175f352279796d87dbd5f847686b18fe92f0b54bdd52d0dde56371c930625c9b8de76e2223fb504b44cbb18b40bdd22b9bde67b751a242e28ab9a33a46c876e04bcfd5b6033ce6380140316dd9ea3edd3d14bcaa637baacf60f17738b7be4496d228f32e1ba6a76a6e3a69384132c28477b08186cb425fe61e58e5fc812917b5b6ef07a8c998808e93585418020e217c899736d6f2512153eef1b9a03c91f1e7c118a6212701073039fad24415b9481100f6c428339d7c7fa76e9a00713ef680ecd03547dc525c6eff925c22d8a8f9d9b2393a114bab3d4df8a3144c9f8199ca0e08f50f77bcb7e663f5192852f74127444171ab999d8b55284578c146d9c245bad082cf9de4c6f8f9161fcf64958e396d8990bf17fbb3dca250bb97255f4bf35dfe56dfad61ae7a9ee380210d9b119a35313d59b4d2c4c34f622cb4abbf201b2b3db2590db400494111468b992fa70adc53e1522e70181fbb28490661a4b366eb220eaae3680e0b505f812eab131747ec24fbc082bd4902cf6762c343cda6cbc35f3a41d83bfffd2ca348298fdf7966a9b30d5856b091074a2397c823a333c999f7de9c1ecc133149215fd51c793df99bc50357b3f4eae5de1724adcad8a738ad659b95acfbbbc4b326e33c4bbaa101f4cdad4f47d7601a50b0817f10e7ab4fb598f6e0dc103419ace72f1c5fa09568db6b66f10e4dad141cf75c5421ebcdc4229a2ddee6b97e651292ef974109309fc37261f87e092c1bc115c869b9f2ad3e7d5b6f87a8b9f85b587741123d92e11d0e98d5511f48dd58498885aec80efdfd74c3bfe1d31f0b74cf91104bdc99097041b9732e54dbbe6444d5e073316d3fb74a75e6bd50c4b2b3ff174d0e2290276012d02eb1bf8ae1f9735e277f4e581af8b9f114c670b8f08814da3fda0985fc39766fcab822ba99771ce51a6bd9d1981bf976198a00b2375009ace89a2b5503d1a7c9b1644981eb02ddda4b21672e7666a072bf98314251a31dd14bcf3d2320a1c86b5cb85b171c1bc112316d3cdecf7fcb40977b5af815c5b2fdce22d17d4fe7a82a60ecf4eff021ac22091b9a45d7fa27188ccb2dba7ea130e4ccdca06963805c9d187d9846138add798b666318a73f7cd92149871b831bb90c04a44f22641efc6e5f5d3137719fb38831b5c6ae96c8282f9fd62c1beeaf308d1915437de46a69b5c5d83a2ad666669aa0bfd4c3542d88fb6ffaf85a12875a7d5e2290c2c6df9f4b4329d1d2b6e56212377a496bcaef2c95dc8b520368e9606dff39e0fd2d584e84139cd279931625cc598e47df583b73ed9be1845d0be771b90594f8c3685e4a493c4f44bbd8fa9ffa4ac4be28eed39e55086423fc944cbd120fb6c3d49339e5569cd61fce29125d875f3f4ab93db147cadabf46e85a5d01869b180446266f46304cd5f22f776e8125de4461ade9b548ee08541563fc51568123117d4a9e51f32829694d04dc9877c94153d44ab608a993393c0aaed4712dbf5509f9aa70f9297624aae907f2715dc3d0fced06aa1cc1d64777c89274ff66e6914ebd433be4f8c38203083fb3d1b1e178677edc19eb867822a6d97c8d29a7506a1403aa55bad3cb2832e8f75e1b57b357e7b1243d2fc2611cc003cf4e3a087a2457f2b778759f44384c9f871dc64189409b9c0e5368ce4ddd5de446f6b7c40dd0d21fb0bb4d2206c471c6b21f29f25967f440df4580a7eca3983394706d132852c637d4e4874b2cd766efdf32158c9cfdb5490efd07b050f6803d682d12ff245234d421ce67cf7246af9e2cd45c9648b5068ee135e100b220aa4f15614cd7fcd5cb3b64cd7486239a1db5297c7b9215fdac9bffb62912b9ce92ff3b77bedde6d70a0b40b34f506482e4c3e439e7e9b7503d6e18d294ac8b298533d70c3d3ea9eb9fd86c81605b99b0deed13d1481bd8e9f3c7dc893ebae590514802a4f090668d745dc9826d68dc09b868e13a6642d7200996f237101d89c46d92f20bffd53649131621a82e69ed1eb198c73e3ede7092f9e444ebce5f88f0920dd8a39782c7414842e21f1b5c590555643c04494fce532bc06e0c997068ad87be6009becfe2ae4c3a7ec2d60f288d5a22281247e9defb4863be109a22da99a534b58951c25342d73bcd3197e785102a0c742fa7fda41160b82cf278a0788944779b41f0be145121bb14e33aba6b4b401403134a67bcad439dcb51bb78953e725d3b6a61afe6592afd6ecea5d17f7e7e658976a9543ca219abb15e3240c3630db79b00955091157afc769498e76e8160ff8d0c12040eb2bc731b26d25bcbb1ab5766e872388035e055510992b7a7dff16e29dadf5a1c6f0092a792944b4d424d25fc86d28ba0e403f7b4e13b10a1c5e14e35927ba5b2c902d9078293b15ebfce67c56abacc97621e6518391b1ee1961cefd088aa7d62a159339e76df28e445894ca5b338417e054d0cdf7f4c9bfab50b5d996a90d39a384a51680e7647ffcdda52292566134b5065d7cf53f42c002cef83a4c82e308f36c98f98f0781734610f5b67f4663e8af0ac46bdae91bd638c9e5aa329d3210a8c9a2228510e604414a0183a715475ab1197526d0ac96de560072254f7e8de8ea2ad19e33fad191685fac3be3cd2f39e6b11a51343a9407354ffcf87691174431a40c8e65d1a5c6fd84cad640fb4e6c39a445b0ebac518c8585915ad8834bc5fdd5fe603f2d196d9660a152cf0f811b72ec70ec06d583fe486b5c036bd903a43dcbad0eb81093e5001b3adc2e3213839c96345688320019761f78f7f94302e20f7a965197a7501a72660baa87e835242b1000ffa8059fedd0abf1cfe9f57655d68b0ae271bd60aafe7362483b92acd999e95aee3f25e501f06c47d9053f13bb7326c171ea246963d45414b6bf4a15e17496237cfcb2ef1f741e924fb13d4970777bd844e0bf9b79c3ef96c89520b4e6b434bee758c6c87f62e0018ac383634d9d954cbd712bd240f3ec75fa70e28d1463f6124872973b48783f7e628be7d9a72af680baa2b12b804b748f2eb7d417d4a2e7c714b7602844dfa285ad35e1cdf062d286a21d61c64351c6403a56b758d7a72effc8677a63e634a10233aad9a000885eedd41f353357782ef79cc3236e2f5767d49b20ccbf45f0be5463fd3fa59aaa96aed7dd98aa73ee670c69145fd1d6ac2c9dcbf46661ad5d03327420bddb3c2fafec0b75c6054340b5ad5f13efb525d3b98a9a74f6c5055fac7f95239a02865226e30672116a681ba788bc2a3dd6a36e5e7637578d209e12de4546fde7c61eed408bc143ab905ee0a221372adc1c6472417ff58c4bb9564023485a6bdf23c58b372472b776226e431b077c4c4657f47dcb609b50a387c197f57a2dd4fc1a995346b81c16efe4e4171413b96ea4ddc86d3454ed93b18db3915e3f7fbcad82295784a677477ebe1ba3cb440aaf9e3a0c6b0f17275ef57d0c9a935093572fe51672184d025979bb948c4cca3d5b81fe2899312292cf34d397b802ab0fc2f2be1e69c93c7e52b4361c78569dd16aff5e6f19ef67c80ed1d2c9e8ec8776bfab1bcf28df4a70c6df99f2b74c6814864cfdc0bfaa344f5918c4f3f8c52ac03b683628e1f232dfd12c7f4f262af193e7d73f32dea223f539ac93de8bf115f1e7a4f3f262e2f597dbcac017bf6dfe574ca3760ef097a1fc5e77528166fd0cbfc24e12cdd5fc60435e96b0e189012d3689d65e943623d7f12f0b29cb45c03be9aef68c571a1c40e27d4e94cdb7c06994e2cd57227b21512510ecfe33b68b2944d4c88de382d95df561f84c41dcd5bca57b3ea21dba3abad1f633e5d4fa8122374d26f95c3dfa1cb6e4a9d361e9108db24e9903cac4be889c30e93456209a33c2a94731dade5259e11d803989d18c32458fdf93840a3ff516806cd633a4e0f33d1ebbd12e94dd36f4f805b78f386ebbef4dd7127b3d972d219cfd241a5ec271634fdf94c240bb65e271b4d3af14c8b30490b35c6ca126618f34d07c882acaad8946c3326f19a911b8426520e0fd383a9d0417a42c8c83a948410eeaa5ceebaac9c41e699fdfb6e997287efca8af63e118f505d7e5567059dddf5b4183aa524656fe42d25e1358dd775ac3dae2d554f830d63f2bab5da96784344e07b08163c4507d47a748886b02356fb19830dc541f2f37d984df9ae2c4bd48cf4374145223c091ce73bc592e89cfea586a708d229fe3f7471f2eebef77e0569130d8b67bd56a220967d6967154385efaa0d9c445740d7b40e49a8df052f07835a4c301d2195f21f1f77b92650a6b2d74e285b0a055cbe04b420eb21987e95defd0a251595bf19f9452972a0606adbe503a3adb77ddb5dac40614697873555c4afd4919a47b91e36fdb0ba23332dbca750e6c7d6737e4bb697a3b2cbec1d13bfc39f8ff85ec0e3bc51a0b12036f1a0fa423b6f838671ba9be96e3e96e2ef5b60065720386cfde5348ea26c95c1e71c00385823343efac37c48b4bcf48283cabae6c35a9379f8593e460325b5e28a4a91d76aed2d45f559e409f445e45bee33b3e1888656e274737707237a72df9f0995b32f73a79359279147aa25f998e561c099ce55493b990c23db45f7c8f61a57cc42b61c3552780306a48973eb2485ce8a4d1e509d4ed34b2b9620b8d45ad60bf855a43245c87d9858b70d62c96ab56044f281d94420f9b09e09b38b36d1c256f463d84f851bdb75fe697b60e50f6c50237e838a377c367944ea67352c2851783681f9b0bb0d7f7a44912a7db78a6923cdca4ca27b0c3c273395d5ce6a39b12f1a70043f37800617f2f96af0da031e0921f1a3fffae2cc27613d62414c314eb2b279187d43c603bda6e0a4520a98b5eca8fd168babe7bfaa4b36c59f705ef6e53aebe20a8bfc9da9be16f2e4e4b29526f559267986d737f18c3bb428528dd0569bf6bf98fca87b3fa31736e3621b8447f686839844d6141fe4c1871010","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
