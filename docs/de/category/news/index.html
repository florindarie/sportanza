<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"abfb9471db9ac77982963c76a9d23a9c5aaac1d998882e271d7075a507a7ac39c9584c3001bdc212aa177df20d99de06198adbd3c2f5753e686c63596b4af2cfd65010a85dd60f640f8773f7ab70b25be99ef02f4a24678e95655c8d6cbec1f9ac1f65eab32e8607e7329d933c4b2cca77370247cfc0d1899a8ebefd4aec925f81ba45174cce40d78f1cab8f5b11ecae321b240532708a9a89bf3fbc45199313f58ad871ee5dd4266897b2c70cfac2f189d89009c9fc98216cf10f8f6fcf6d177675e9206fd7d2ecbd1ca959df4affca1ec32323d8e7d8a78a3da690fbbc5aec992a395271edf3f5db8cacf4a176af6fcaf26df4e66aa09107be2ac5222319aaff282a3b5c11ed96a2f4fbae2ed049c31a92ab39713ea31357d1790daafde01ac32a79f296d1a59ccacfce0b488858553d3cde67fad6000c2102238354fe02bdcca0963655b7d7aa89fa36bc8707e1f4a8a19a07483e662d4bd12cedae25d875f1536cbdb7be947e3c8573abbee7a9cd2d399270f2f0639fe6370ef1e591cb44bcff2e5f5c2b3a7e975fa1100118a229a4b37c872459bed471e67b6738ff10010f659b277f8534cf3a342a9d5f3db882784177f6c945d9444e7d0244eaeeda710ae6394f0738a49cb66cc53bfd7e1c348844fb3b9d8e96635d5d3aecfabedf5d6a8ae461cb82ba7379ca694f6562a6da4032b1a02a774d41a7a27679edecfc84755123e0653374f5da9f942ef1f8f563b02afc31f34dcd657e88771b3b7092aebd947ef5fca27d613e2e16c1f09595d4fb7bb54db26bf3a583aec43c7124ad9fc6b317c2d1292e81f73ef4cbe95c0503db9fc6bbf249b4e14d9b82e92f4bfa40b185838b1c1bbb557e6208e58606e7e5f9af960fa0419025a1a13bf8e6d5083ab84e1ab5c3f15e5c3df63bc002952bf83234baed0190720b928c4839cb53d490082901ebddcd56d3bcb0db99bf2db72c5a1817bc15b21337f22b95fab9f41930d53929674bdb53291db76cf27b613b12251c66ecad181ab6b8c572a14b28f36d01b236698e4837c4031eb910942c6bdca984559826ee107a9e92607c91e1d110a29c848c8ed90814b89405d31f66fcf6fb51a51966164e90d029637786b7914d5ec06f45a3746e313de69653aeb1737029910223102e606d207c3b68e1336be9954a92371e4d0abf5a3c97c1bf3241e3503d6094b341d27a5093ddc2dbc563f987d9b2dde330faa04b440338b56180cbd45707c633c208dc3e92f33d1206d4ee1d56bde80bb3c80166e389cce83a50b0eedc3d8898cd9b47f955180365e00c70284fbcb5b4d8ef5db9b3e8b218eb3c8a87ef2be667c4e58d7da4906f7bb026b7989860b66da472ddcccc9ce1910709b6f9963f29cbe29a8719dcef4b72702672e7dba1e40846a19d18de7a1ba16ae7bc16ccc3c790ea2d10f78888de3cac9c89200ec56caae1935e48175b951278a5e4aa8c603677c293f06bf0f2288bb4837c47f203cdee24b4b78ad918a755e62cc249e2b3900869be5ca0bdf6c5f9b2bcdb2db66377ce2df7a72a86234b79f5afe2b64ca008b9d970b3bde53d8de12f64e40bf29c90d0380992b65690493cd8df5f9afc85d5f4b36bdb076158e32ba99c867569ab9bf991dd8bacf3950a1938c4936a78f247c05f7a45ec412ac0d78a3a95e79931ba1b300317c3a87dfa12a27ec4ce135e362ab08c71c7ba4989591bf02da534f6035cb976cc07d4178f2eef2898f435455c0e718316e9c4093ee69c279ad6459d5ebf9fbaa230db35237d9d3f7959fa10bed05a7da3f4383b2afeb943bf4a30fbf6c99931613b3eefca87486a189cecb423e848d52c56747aa1de4c29ad9e992545c7930079d668c9fc844c59bc87ab5a1c807c1ff07b0ebb5e6334f6bb0ccb9699a5c7a3f96d919100bf4e585b99db92a081e26e6d271f6f645f2f02dc25f42574fc073f2b21bf3197773e9a9ae91454e0fb32adc48f24001936f1d2c3c5e1dab116f9c83fa026c6e04f77a1a24bef6b7f9510cf506c778497e0fb40c84bdd505e5d89cda9ccf323505dd84887e97c635eb061de6094812443b48563e333d3f3e15fcbb454bbb3db6e42611542273d851e23428ee72fcbd82fcced25192143ea811582b4b088257b9fcde530a2d4ee6de370ff7faeac7f7f122b49a9889d245c9b757005ee7900bcd97d1b600ed889b8d68653e6cd738137f6c77995c7973af7ec374b594646f55afddd40292672dcbb2246008e9d1140c531de22c58e7ea2659f8b07805e3b6ee26f6ab7bfa6f7ef3911623ca8276c324ad9794e6766be24711770e7eebeb0d4d687d0ba2770b84a455ed218018f694e0115165ecee1962b3b0955d3f024ad232d3ef2fc11d608a57c8ec4bee016350eb6bf821394288266ada19893d150fa193f54fe9b99a65836560395bf38d3059739503c90cc00f1cc3d1591a33d503559bd92d00e765e0bd01a40fd5103d5586ec8d0b2430adb7e5fa4fae5c2c91dad7a1b5ec4bd0af784669dfb35259607a104c2fbe17566bc7855ef02aca36211a89943aaeca0e18e1de0fd561be3ea705a14c1f40a2608ccff6975916923f971c306be0888184ff92ac0206092da611aceb5562e8afa3695bdf0b89fd5e8f80e28d282efbfac5f0f077bf875b62e8a2062a5c265cee87e47271e8e0233861710efa0859d43403285c2458f87d15c5b7e1ba5988ef6c4697f32120f48ce297c6e27ad57d056d69ae2bc17d752d8a9642f9d01ce04d2f55332d3fb4ee74f4bd6069d09116f08105d3ca116a4f11bb12156cf6c672388b318312e0c63833b5533846d0a94462122b8c46b5eab8c2de14f00f2893031241573b5740a5c582f61e77b9e2b0735bac5478b1d00b4d40e67df3faa848d1229061b56db7d12f340af01fe0c4eda675cc884d4e004e7b08baf57a0f348275f1375109dac981f2f5804b521f7eed96efb65952f7dc0e56096df31a74cc3c5abb03c73e6da6d9b1399b54233743129ec309796f4d8947f9e82fccaa398c3b5e5a82d1b4f61a7880852b7473893783949a9574149a876f306a15b386d1a458f633d9f0fdcb9b8108a2401955957297b11553d9b33f8a19337945b2ea3c82ce52b66302308a708754f2e551db0edefdee0f149a6fc6dc438b6c22d5fd49b3a7f33e564f221a0cb4bc8be2bf9b3157422931d8511dba040a30e427ca0e9d16dec9556096286ebd54054ca1cf4430ce92f993cc2dab78cfce108dd70ee946d2886c8e77d6fcfdef00fd6ff41f9fcb1b6ef3fe17233895dbc5d32115f9182d8fd1b65385f694909a29589d7fbcfb0df1d867e0de8018c71bb5e43214f022649bc5abe2a8a49c4f9080f190e5eb179ed5ea199d4faa9965e07afa3b93b3be7829a71be376422b17499984952a4ea75b6200629e432342875354e2bd355bd6df8106896df49eb8531951e0bd323d9d857286f347d2e5119fbb1c83d0c0f213cc134fa3a765c897d4f92667a3ec44b7e24b02b980bdd11a7485bb4064dcaa968e6f28832507520c3c8e6c4b0e9cdaefab24d088e56d6fed479bc325b06f05eaee86050fa733dafccb4c5404e30428a0b6505c6d3e70558984ba21b5cd63b7053a0edf92b6ff70c09660b4a4d7814ea068025a957707400bd62f3df3177e0431189440f6facefc83941c27ad886a0fd27b6e642d3e43dc9b937893ee6fb91b6106b2973b0c36f6adf49beb961e7fb3da8e122f4e35b41768bf4c60a81895372cb14f654d42e55ccd3f64cf986ec221534688298ccd405177460146a53e9856a69eefb515e650ce19f3c2b420e940e656c882583b02a1d55ca9e8e193f9d7343f4381b5abfc9c70751d9e05bf850daa45a0dfa0bd980c02d8394723959d1a6945acb5ace8d86a8dda0d977d4409cb1e5c38bda801a5e5679c03c49b80a3c02984646bd28e565515d90b68c7476c97ff021a8127ff0372c64aec60496afdbd382ecc697556c77365718bb0057e2987ce9b49c1f28b9994fbf25bf4829ac9ebef9ac03eac4bbba22cecd5ad2fa43c9caf8f19cf15ddafd1fb6b8217e8fae85b5ea68683fd733881b6ee5415b73c65dd273ba6882891a52db02eaa0f54d2055a20c1d26b06d33ea126ede90d621bdbc223759a44d1be598d5494013617358e6d18a447883e52abe34b0a306b80596828d8f2d747af06c16a77a0a6fba708f6f4617d3368abbce9ffa2c4ac1aaaf45db063b60d9ba40c5262122308d9ffb7736e9bc3aeddd490127b10960793710be29537a21566d6ccba0d2cef0879c1ff32bfb22826f854fa0b0388d258384221eb422acd9e58018a2390ced8fcebe20dae2a3ea7ebabbec7be7e05badfef2e80cc90c703e9024c9db6cde18ba27ceeff10c14fef1f14ad994e367ccd2bae00d37b0e832746cc07d8329a5581cf16aa103802040b507506960193c1101301f3e984ea62cd151298fb016a51040cb3d70fe0abd6fdce2a2040f0cf7007833c81fce71ce8b1559711ff7a3ef5a67e2e6f307a49e496e6c43a247125220f7a534aff6bd6e02976cd6703ad810be937a9a552b050b45b5d1cc933f9ab456fe91ef2e74f3a80d4463fe6fb816bab7b165d29bae5d5dc9abe61c0039913626b03aebd0bfdd40fb80ff21ff028ef643963a4012203543088153d3ea328a39a8fb883dbcc98bdf9549d3c82e7b6ac45e946d28c91ac944afd04c103de05c8dc56f223d128015b81600e2eb6f471613b5dd9797a427a02057d106e14fc98b26a04349c457b400537f4a403a40287da1af2bcdd62042fa35020a2baa517edd76f203042914cfc9b92f9967280fea36957de50a59f0009a01dd12ea8642fa96940c73cf27af9d848c9de9260321a2493ef7fc3b02001aea4675253c5289984434070028cb825258db220f4eabcb7ea363087915ad9cb6de13dc2cbdc9c5bf467dfafa8b393cab641657e41341a2ffc68f2cd16411da87132bc1377f453c8c363f6c71d3aa34e34fee68b06fa10f52f3057553897a1d763635efc38d2ddc211d515be4875db55b3820c431275b150f934d3bdb9c8d141561ae77979155e66647b43689af69612ff58b13a08b45535ef57e6fff51ff68df89b06912a8d985bf31800f48c94a57f834c97a10278c8355623e80705888812818275f9cc385db9722bda45ee3fbebac9705707df2c28df97fef6db19165d2509a47670884061391a78adec4d3ed498a45b0839f3e8a0ddab183911cf99d43d85e32d8a2324492828a9195d6cb97373aff752e5bdcbbed1742bffb0de81aa568786291c4b55e6a8c0921e06528e42c59dc2dac3ff079c55c4b464a5a31efac0c975166f8ac6788a9bbb6fc5e4dc6ee06ba101e3d59e249d9ca04f0b302e31b459b04a6a515ba87d9f03d93d29da357845c1dbbf00def74386c5b8ced11e06d637f9c19987b207a15f32138ea791347cef897b786f3e7346eaed5b92841f38e28649abf656a116fbc58396bc8e0df70fdc1397d03b7f52201b12641b239bac74f753f6e5b142d1b769d24f8db3668860019e3a4a7f18b714f9bebe143cda7f3c24b010bd6127aa0a1836afca53b7f363f1f11d77f7b59793788d2880d0d61a4e21606e8804d8e73750e9802d60ddafa3707bc40b165a44b9dfca7bd9f79952cf53d4ab056c379134d4c84d41e20b520ab978f6dbbec041136ca0164bd4dc502fc732bb97b16bda9bc728201f87813c4a112196f7bf84f858cb651b9c6414da1e6217867b5cc7974f985c9a1f816f430c7aee589167ee40ce913a30c79c105dde2a20bdc13de2938a561a5effc7c77fbb6ec05f42cd4f4379c2251b7251220994f0b281d431b69afe0213a186bbc784c8bf637272b1c23695d7f339e888ada298de3913222046809ae55ddf26508674236adbd2a61584b02fcc7817dacef6501b9db52d2b8e1b1983c9a7ccd408a4700f9364642eb51bdbac95dea83b8b6c324d452b73adc101ab5b4b34f46559240f9f975d062d652b79a509ea4c257df30d690e1a273d0961cab354c5d0ed1ceff9ba5ce449870665281455f0e0a2aa101f1536e24cf62d742dedca5a7ddf0b7f0cdffb13e86c5cb71ad2f05fa87e65c88aaf9127a24d6656e741dbb8825712f26510301787d91a1c38d118d6ecb31a500006b2b9f8119a8ab7ddf7fe3a6c2be3370f6d206b321fe585bc08f89d06017359017b854020165f5c60cbce2a2654c71908209971adca39fa9f44a029ae9e6e3ae8a882948cbbc837f429ac726485c829f0e1d4be2f58c8328d0d7460fc823a466117003bcf635012d38f5711590319a2f884a5808aced78272f729baa0b5f03ce4ae5293f099404967f9ad895bea5aaeeaf5e06df5bd7f6bbfa7b7345e5a4bdb00be9650a63a8d759f0ed7b13174feb99901c0070d621172121abdc40919e897cb2ed868102978b37cea018322b60f3d682687ae08e82741a7d65db2e4433063273fa73839121a6c98e639d4900e3e238e03282eca72248f8d40bee817cca5e09313c216eb58d722037422a1367ffc5694c027358b222f99567373aeb40fd1fb3f1fe18f36406d38d6ef7c563ce742cf8d36f78edb208f254e6510e419ad08317a101b3a76c658e4c3bf48afc82b3f33655649b3df8b5c4eea681931e25eb4cd0c5bcc07dba6b8a3d643c860f5b9357fcf1ebe229ba285984010b11dc3709b025b186f569d3f0ae8ae7048827985cc1fc4f2241a38b9e9059772af48943aeb4e78b7369f12b30889ed8be5f7d1d7397db04ac872d6adfed43e70d1a2d60cf097885ce29f34ca242a97852bbf8561008bca281ed7bde17cc917ce4f90f5859183192e562c2dd171705d5eb9e728ef02867b2a7ac11f70cf2314d4ecac0744385c9f630dbb78fbcc2b0a11f610504f9818f9d0343f9b5c417016e6c33a1f54efda0fe1f40c234b8fdf21bc1652701d995341a7791694722eacaf42d44a7f9e18bcc5482c352ab5b335261c79b93b327f2d277ae35594e5b2f7f80566973aa050b0b2d6c1bd761b59e1d536dfacc7c96ec95110eeb7d4df9b22c443139458d33c11d0858b408f8173cb99f93629607c07309f503d0866f72cf5daa4630a9ac85a78dcb9eee40a4ad3068e47db3f46d23079f4c2ee44c63579d8536eba2f5dc86579f10aa45888a42aadae9dac2b86e3dfa666eb00de57e85b10b84fb8b4110a564a6568600ae0bb05a599c455ab69327671a8bd6e3a6f1c789523e08b61f4606e9368a38dfbec2f797154af1ee2b85c791b373d4bd91d3866621e86b604f709c833863d27473124db107713978eb6a698a7e40174bd13a160c1f5670c451533b9238e80ba3c06aa8c3c992e2f63477c7d3b47ab8943ca6f6d70ba0ef9842e2308ce4b1f8255870a38626fe77ffb5ceab392525a95b707183576e038e1f61ad65cf728d3f9d2a1481a0999d3d052b138f181937ea6530433071951302769415b16b073f442d338048265cef48cb31a6bb407020bee60d2787d48f623d5e1792518147ba6fa50ed0558866f9a5d53989262422690b9615772ad95f773f1e408cad2a4180369c348d07c8032af1d5d27b81a884fa2d2569ee304f7ce5622a885844a0ee8a77ec191d34bad09d1d98ba8a7758ac583f4116c5f6d58e0a9df1eb8c8383a972ab7282587f407828d233a3b4e4f6c48ef8de1df89e764332fb38ffdd712bbe828d78a4917445534309d92de4b53a420fe999409f744e6549c7c117d6056f56efdf3d978176c72b69555a3e169694c8a5cba4cef3bb224f3b0b5bc5c9cc107cc080b07c9e1fc32eb8d3037e2aeccb74b20fb8e959f5b6a53df268133eee162319b72cd3fd3a73375c8f493bd909db00a19e1371703fb42d2930e93b7a940cfe68f414b81652411363cfde90f7f6d04ed264f3ecc09717a75423304d19f8cd39b55256b3aabadbec0400d3435a4f3ff8a90edf12e009081353424c803cdc8ad515b8585f72f055c18a33962f85fd55dd6d3da80adf893071e5932080be22af6eb70b8df93f5d26dde8212aa55e0c56d78a176eb485e3fa23ecb82e30bcc1db73b422708e472f069b7e924a3a68de5c7b500cfeadc7e8b4fd7254f67b530acd4a0befcce1625a636f5acfede9c6d9456fb9b0505b8aebcbad820fc90fa7bc58bbcf91d45911ea902a6fa1c5969b9bca628c235628cea6f7559a18d1239e70da72bb0baf416278ac79a8dcef235f8498ba7e5e8ab711b8d663dd6c2f1d253cca208de910006f15592454ed65232d1bc645a2db779c8fb5ccfbff953a62e851da8befc5c1fc38dfb0b99a126c904be9b28cfd3eb43d29faf54951a1575d6293fe7785d7c577898b74210cc10f954a134684bddec2e846b97a0a5f28fb57d85d50acb796e3c9a015973baa89ab01ca1aa1b2ca3f14a6daa6e9475d2675dd9c0517948543cc4b36129ac80b24059fc17ff426d979ab0876279e3d2c6278bbde4534063817d41fc240c2e3aa0d00bd85b3c0c28bd42646c3bbb0bbac57e75a278492512852e17ada99bf5ba3489299314b4ba2306cd1372793b7e1b6b919b20a536aee2b704ebe661b25551591a32e5355728ef4691aeafdc55cc5810ee64f9ba7303bc3e22f02124ba126f9b9b6914f52f091233140c5e2f40122be0f69b1a8ba970898aef581eb0cb74c94daa024d45fdfb3ddce8465414ee6f16eb867f057435f4d75ad06afb81bb6b0dfc4480ee6559f7cca5385e76c828215b737209769efdde0b70f039816c7cb03332b435aae8ac71b98d5a70a1fdc3843460e92396443dc1b5b94acb1ae6350fd1d9f9d74f4349361a3b1683834ad8a01711f2202ae19586fbdc03c5ef1bdadc92fa961884841d952af0b38069d09d60b46077903b67150d62e6792e528a31e3f729e91158abee01311cc113eaca8d6e9b72bf9ffdd984c16d9ba2e5cb3bc7f92ca291c09216b29f797754d732b4068e7bd30fb21a9862dc09ec28fd8763c75f75f9f4e0c47502800edda3895422f48bac8c218f6856c0bc36d281a745540b72bda630df0153644ba135d614d1e5cbd8e872cb622222cb222c991ab339ed78a1db5b5cee71d1faf678abd2f2ceb327062b77b607d19c017af5c5c849efa79632599a70e701b13c323724696934d5be4087768cd4258d6c9f8b0878056d8da13e9ddede180fe45752dd56c9de0fb09b0a70f55f74d032c31acc31882a2cd92a41315f2bbb4a53a989bc3643eec40d9ae6586400c1b114f93ae895425393b8df63b1670f3f3cba914f5c5d8ad60e1094c879022165b2ef3e66aef2d4ce803762b35ab7fb32d6e5a917daee84acd252496331ba1eba8308ba189e325286db39eb06b99deab2afa31484d4c77d1a03a8a8f1992091b40227376580a41269cb341fecc85c56fa803f56cbd13d41a36a44b6eaed06a6069f540a030b8fa9299f250741aefd8d0bddc3069266e8ee5b62a6d4b0bb9010d87bbfddf1bfe2c7d9a5cb389128fbd1073f6d1caec55db83853c3dbed0650cf2411f3fc28336d5af3723f504fb26da3ffd125014234df78a3a635fc72cf052239c0bbabd28e293c0f3980b252b1a029464baf77d8cae3628c9b2511fc8561e3f364b246a13e9f5b10147a37d9829744b5574400875ffce1f733353e9b5c495a26a72634fc29fce112e88569ce36f05243a7e658de130570c87e522f27b913512cf5c0398007e30776c76cdc473032759c39a1f84e8fd30b237457f4cce79604b1e1f4cc4fe1e12030240d1f1af1ea8a95fd98ec77876e3d788e265ebd4db66df9daca153b60f13ad7386145f2f2a499ec341b616d3083cfe590228c555a0177d853d9a347f80d3e59a5a3eff13d8796677ec79a2f804b3feab480850b734b65840fd92aca76ca548d39765ad72ca2a36c9f26e83c095245088716c249c0ce45ab1671fb07957d6baef8e526adf4a84b9d32bbda6b22a441e5c5d9fa537101534d7ea320c7957faac15901ae951cbf99c40c9660b81b39999b0c6359e4172169ce8b98d2eb3d77248793d51eb02cd59effe68741ec481b300ab93b9ffb96f3af9444ccc82866fa26281ae00f8333059e2454154ffe525090255495363850f3e11779b9ed08205b53e4762b570953b9233c7cf914e949b468fa7b17ebbb72f9924ca95059e65dd91fbce915dbd0918ca40ee60f4bd0f8dfe245534f75c6d3403d6dea37e2c9028bcdddc4d0d3e4f9449a1c3782720edf85debe5920776a473942644e3f0c406ac08f8dc2767528b1069e575f8a2d6e1cadf6fa9d34afcd2d99d95acc6426a95ab765d96a6a2fbafd5f3b9e7e5afa0aba1898e01ef6a098a212c99f7b2a77f29b54e14ec352b115dec4fb6781e37abe59e028e6edb7ea6214d82ed4efb7f8b16edd0bfe50a26cba5d5397161a55ad1276fe66cbe54d09a6ec7b0e8b0336377e8d6d92bcc3496b4a265e60aed7d2a0af895677f5777a85ffdc045b9dd750f81d752cb284f58e040b5f94ec8f3f7c606a12e63f719fe23768f0cb462a5d7f1fc1b5c32cae135c6d73fb9b2244d4f3eb4f0f58a0e50a7bbf2ac63c22c0f3f4546a5f5de21f32fbf9f01de113cc2559a3206f6f0448110c18786a18eabad5f2d3e34475f79b5b5bbb5a8ba5e824052cabffa3ba5bf5648e35807225a4ee78fc2d6f1008ffaf35bfa274acf8bc2214757b35cd98ad584b06e03ad9c06fd453733cdfc3f8705e1be96000c7bed6b18cf1e1aa2c0ac73b34261dad6955771ab14280223c86f03019b456849589871a1285c031b524f61be00e8a3e6b3378f76c452ac2cefdbd9c0935179780b57f275f9dc59473acc5d5c931b9106c9a7fbb2259a69eb829bb4ef998dd9f51ec36e75a666b0a69407c8bba89435431e1d2258a27cb5bca5aacbe07232e6ec25f55b6ea1bbf4bde9ad0a61b1c7e3c00faa77edc5d3102a1bf2bdd5d0c220ccbcf10a81381d592a5120d09587171b33e57d6a747a2f59d7b52d53d677350127ba3ee6b2b8f55eb6fc7eac25e82a91bea9f17f43389b1cc16fc6099493a2062bf7c681bea1522ae5ff339d0177289a1f3232e90fadf6d4d585dc63e6a0176ad7b674a42a8bdd5cb83e10b80e5070b54e708e3142b6384f55f937db864306dcdcc72a70bc99e971a1e20470df2aafc483c47eaec6e1e99aa0e539224142959631466c979ba4d0350fe5dda6bd61b462bdb732c5800a575d829a6fa961aae5b782ba1abcac34d7853f8d927a7d4625f403c005b545a24f0e4035ec22c27fa5d6944d7c8cee2f1e875bd5a5c832075c71c28f9398557ef47a098a1a8c36b98c541b6ce67fbb2b9d5f83f1ce39b5f97c975cf79998d7c86aa1684d307d036279866bd30253d4c6aade44222f2e42e34947ec01371a94a81ad41880312a66981abb9bdf0711c522d27ecc66054263b53334b560b383e9744c2d13f24684cd18fd3a8c6e1bc1cece081f77c61eaaee5966252882cb7558d72a4192f3d58a1cc12b1c3babb89af3b15029481400985944e8be970255664c1ba21d3903ef0ccfa297b69bf78f74c1326233676ea03fc0704f3486ec5601d037ab09e69f53c051eb0032a6c783b430d5c1fc1a087362595645640370637a758ffb99917bc39e6f80de3c0f07545c1df18179351f2cbe8d444d8948f69e32e66c7e45af162b904663be8e6a42354f464aeeab2221de181e406c1df381d450891e31e575521d56f9b6e143d774b3f594788fe8d1ac7c732e8f4f18c2cee96927fe9333680cce78a5fe5ab88f583d152c2dabf5d916037f4d74e1dc77c730e88a1ddc15dd5a2de7c39767531e42527d268e06c75b3924197ffbac29fe7b9154caafb2ae674c7fc762af72e99828b0ae9a0706456e555b4cd81ac515bb7131ab362749239c726ccfe2dc98501123e69d1af9c570bd1b80d5988f29783c0056cae5e4a782584e7fbebe68ba4d2bdc92353f4345f70c36ab5406deb83d0c4e6ad05615444977f524269e239e87f7b6e7d63a51109ac9309463e694865783846a9dc17a60efa90eec3444eb47cacd2b8cfbbfddbb4639f06601363e26ef3dcab7094f1ee64558b20826d141aa4e4246bddb848df83cc99ef8c205993f63d947137970eee63675a364babb2ad97b15786501e1e91036895fe91e328902f208e33ac9b44190b1e653d8ee67341b97c9c0982ec5174739d4ac25fd9b822928b9add7fe4b61ed59ca39faf5128301403f86a1bc85aaa9c9e7a57024116971a599a3d0eded18f1d0278faac49075ada318d4c956e63565fcdc1c79798108bdf673389afddbabf10568af48e8a38661402a24926010278170ea88e69bf3cb49cc64e3c3d53c8a281bf776ecaaca7959aa0f63fd498c6aec9a4b339e4010904f9477438a2125deb6dc5bcc9fda067a5774b28cdfa500789fa8d3028f4f805c9ffcdcdb321c7902fedf1b46c4a6e66684eb8c0136c349239c3bd7c5525985abcececfccc8f9fb8cb82e9fd212cbb752bea820407ba9aa570cf21d90751e7afb0922be0c3db6b17f2d4f822302afb3b78b5886f6744331fc8f2cfb2df819bbc8ea837000bea9c95bf0306ebefbf2d17347cb1738beea12fff6bddf395c8c7e807460f9f9b45bba7924690e312c0d51bf0bb26806142417f80d5f35224ea9ad154d145a8cd2adf4441b0224cda95ccaedd8ec51f22606b24c8eb2fc0251836cdc02e46a4f48b84897b57015b6187de367a40d7c0370708c49377bfe687031acd8ed908a74eb246218369da5955dfb59249d9b9940e6be5bddce9582d3a75645eb1025a34358f015e7156ef82a4484d55b9ef88a2ea923d8af061c290013c307bd9a02e0af515d12cb20eaaeefb53dbdaafd958a73a91003833a699616ed2ffd35cebc276901a6521f103c459c534068d6676c47591021c99a97b6b648c174a29c0e95f619421f8b6f3f7709011c0558e961565909c1275a70bafa6a8b0aa975b038b0f92d94743927f77ae27740aa0d28d2b5b2dba231f96758d8d2e80af927598cff9ff381a62ec8edd3b315e0279de0966c6c456e46e1da92bf3718014d15bd6d07f9d0c90bdabf0e5bf1719edea1802472e932415532a54d4aaf3e19b9b5105829da0d5af882a3d1002358d65550f9ae84f1e351e50110c464f395d4d97d4a7907121c60886cf629e339f4fcd7311d2c037046f4a5109a1264c3b38cc6247606e55841fef64cda31a4036e615797dcb7d74531c15718b7eba6253e05721243e0779dafb1da842512da9fdc4706995dde09a86f399f96342757271ffca4db14d5b7f55039e5afbc4fe242ac63a46109632b70ce38fceef7860fc013c4f5f73ae2742ebb36af21a7e0a9c7461831d6e93fecf90c9ed0c173bfff8a13c555d651a43ea06452d23624572acdea935fd3e9f8cfbf21985408c6e2a2b8d1c8874a8dab7499fc1707e6f444a0fd6ac0202de1d8bc079735240803d02ffc93880a7a54adde1207a7e4a321bf3be7e40f8d775704155a9bcc92a8a305cf52d95ff323ffc96cc250dd76ab1771ee1a0b9b2c188868e6559a211d61bf040dfaf27c8a4be958ea8a9d5f1ba5c3c1e2a0efc0b9f38393e2baea582062c616fc95e4dd30fdb000a62f1d4fc7d24297d411e284509c6ab49b61d8300639832a6e4f63c44fb6858cf60e957170fd5ee9156718269a291a2c89f66d59ce2c84c942e3278a7a48929114d51dbe9adf21d45df15db0363341bfaa23c2f2eb78d858fb69bbebadbe45fe0d1237081f521a332a5a6a1d1ac3bbf38706d4140bacdc1521828ba01a82e9f5ebce8aeeeb14aa4f0b13d0ba9fc3946d70ce73441882bbef5b9cc6729ad6d0240ea7e4c11fb79062fdd1249fc19bca3baabd69b3133d90794855846925bfebafa0353bbc2483c4ddfa92a5788cd4c2bc7024b7172450e7db0a42e6a0cbf94d16c1855c061f58286b768c35c1be156bd6460dafdc1c36a17b1f8211a32b76f936dc622a0f8e005d0cf4650d53d824252e81d38febb91f9897691b6cff04619d2cde26edffdf60da998e048b6f4a93a02d0d0f8ba85ff1115dbcb4188d5c217474a0bd5830f15993c87c447ee6c8174333f94d118f6ba60d9527566011e78782d70fc08febb804003beaa092ffa1325e77af3d999176759dbc21ba9b427b9e4d593fe2332115b751a77143f55cf58095776943b2714f5514f8c2a16636b57014406941cab21863597383edefd5656d9b71eb783f16f05ed44b237814a1b5c6cf658d29733eabcdefdc0a19549d80d93970d1ca0bff7c71251c610fda5015b77347186fa7e9f1342ea80c14c7b55f7e0d7afa6d166c67781b65d7edc17de406f78d02abc9c75cfb5a2f624e958c380c7f516f0a08f125ffb3b67d17de891ed0d9139d5dab876038bfa427bb840db860c2cb93080d9ac2a13c19b82efc10f30abd196e649ad00c6d905b203acf0f1e94c098e4e6e4072e9957e6f6f3e4a95a34d34e64ce9bcff233dd2ebec589100a4bfd406fe31290ca7684005f1aa9230964a22acedb5e098a816e2e76d6fa57be7aaa39f0eca3b21370e1dd73dafb16b00c056814983c3e2ef68290816ba8cbd7d57cd6ebdea51f7fc726294f9bdcf609442877507494a9c5a8fea7151560d291491544f36bb15f4aa3b992b0d9b70d476dde4062302f62019b2f84ae5961faac0a8b890bdd31e6bdbdec57058fca6e70a8ac20f00ed4520d0661007a4b57cb09f560285469e2fc91cd75377e1a8cf2584c71f85ab12b47b45654a7ab8bbe8ff49b3505d274cbe4c2ba6f203e2fababb4a06d37ca22c003344b5c5a0685406f2a6e1a9458874c8412796d559f5801fafefce06d303a27914c45fdb61739082a6990be905872e418de72ee5b0d914354184744b78f7bd5656a0eea83af4edff19f8833caf41430a4ceafb931947b0055d32b00db475b4f504dc7ed8ee33b6972b81f1b2a325331b99cfe98219ca7ea81874d86c50cd04cae6a6bfaece40630297d9c578ca5714560fe6bb3ff22d0f97c3af3f6ea798a80325dc42ba091d3dd3352f2897cd5318d3ebd74c2b1ff86da8d3cd50b2f7ab83d9efe81d8f0de68da7e5b3e29f1b6d6f2b1f06a1ec8a27c5e76d335cbe6b5cb67e42e8ab9b4f83835a534096e75f77269166655c3372fa7765ea6f166d2f6b7de85714ccc086270de1b1892aa84625cf1bfcb1fb524773a321ea9adfeab6b64ff3b7394dd70c093566d2d5ec813675181bdcdccbce5a639b1a64d6df080304c785b28377d1727a08c384ce9917473b8121ff3046bfe9f9a0c00cd2bbf7e8213dcea53194671f127308b540342fc091f1a6c575e11e6858f993a47566ae4fdd0067bfbf393fa425beba7668b0c8795ec6d8a9fb108f4f930ff26b5d6e2e3e0d9641909f69ef4cd19a502cef73a40def9ea894162f8d936dfd9837353ad17cd47e6bd0e15d85728ac80f4a0b40e77c8fab8e96c722aa7fcf8d61bb64a4d7abc9846a48875f6e72bfc856326e2f5640847b7d265496ace686632e449eba80283c555ae9ded17bbfdf85f8839399ae0f4d2429c880b768d9186c781f662669adbdaf30cc285a1cfea88769d102c3379ff3e3ee7d0b868c2897a2764cbf071378ebaf456b20121015d01432b68054e65bbd917385f9a63f1948921c03953b7411c5f1a2d9891f366e98057efbc98d6537cbc3821a0d1f3f2f1f71e5f542f45a489779b8cc952d0f53ea028ab351ffd9e487d10db01e7f9e9dbd45403e9539a96490b5f99cf7716c163ba8f56f76bbff07326d2b713059780bfa39a990f85878b2633460e3ac1e461a83daeb4a7b8580709e3720bb0b34c5910ba6f03b29f20f85f69c0fb45945c873d76e353fcb7272ff122b17eb1d9ccd5f4f3d1b43cb5241f34ff81ccadb02f869ba451eeedb607210e7bc4e8b8553cb63df765712c998f3ac35aaca8432b71e59c0a079c5c8e56010ce43b3e44952f67dae9fa1d6dde9dfb8b78a3e31a829ae94a26f1796e49b0da427f3fdfa3640c9a25df8adfb68ab10326735d8d5b83dd7832c4becc4c193f6d8bdfb2227ad7a51b3802da415d76eaabb4abce2ab9a122c7650aed2ece6e8832e5b58e984105882f3dd4d931f4dfb982b9a68296861503bed80f4e78053615877de4859b1dd7e8b2407246f5aacb4e49e08e42cc3256628eee14b0255a320b32ba1f881891402222c347f1f4d338d171cf17f226f3cf074dde1b9027875aaf6c2777ea058185a2fba1e8115b4dfe02cc10d71a63a325a842e0ac69e3b59640ec72431d9e9c42e28e0010d57e168fc8a07ae61aecd8a5c96b2bc1a81bbaae8042484ffbb20aa61992b846bf0836ff79ec8ec4d0e30cdcdc95fdbccea344e890356684c50535686807e8d5984ff522700c558987d637efdaeadb899098d8116b36ebb1746989417c290305c3feb18a0f6959d693379843c6235300374777c7ee874b4ea0fc9b8c4f26c9e323bf3625c4e427e80e7d95096ce63870b93e51a6542db032c6a80dd2d7ca48abe7a8030f9c88fc53cb3dfe58596a026ac9105a9b75fe1953cf8b2fc1c92f3541c2316d2588bf5f63c22b9c2201ef108d3d54036fe3a2f93846fc4fb3dff81728507e007b6ea3f8458ff67bc4cbc38e8568d77186748a3fff297e06628c781ac7351f0bece3fde4f122ca1c5537e9fd9da50c072e15c5d204a888e65930faaae5012b82abe362854eb83012b1351feb5fca4f034711db6dfb81e57ff08bce69db4b8859193af799a1b5a3676aa795b944ed86aaabf508ac20d6901fc529501c4ab51e713b477e52f6fdd83c9431ddc54dff52d24ccf92a81df62be36f89f33becc5ba5f389caac149c602b325f8349100f1682ccdb67e4bc80fc89424b884e06cd9bd63ef3bbf7924327d7890ece47919c561f031411f96d6567e1a8b45186a03de33f24b5b52dcfe5cca3d4bd1f3b7a75e0a9a2994ec641b0a2b8ec4ccb5425e743103b6e463ab614cf0ae896b1e67805e8c7b7dd29a95a103c692599630b25ef2f1f47991fec31e9e272f28acf9e22904a841b709e6687f3e1a4b8c2f86a1a71645eecd1dc5018ca1b5e3453b77033c564e3f30e1311b0e9d0fe61874c02d4e945704b060bbeb133385f0be43bd91bbdd8d862213bb9d9fc70b9e306308094d2885c65c7049a14627c4889580fa1977a5ad46eb606b402eb32822937de7805b22d8e4f0bd49ae8c2e0a5e40027b85e551554aac93ea1680b24d695dab528438a6289ca73b6102abeb73edebe6f928158471bb726a24db7409a70090947743235d1640ff6d29fb9aa2a1f09fdc10876c3b0b275021feb102d64e9c4b4ba66301870e5b07279744cf483e2d73b894beca175bb62f771f02bb6cbd98eb2ed4ec6d649889c35028ddb6679cb762e59726e9ae32d8760f439965ec37a42eeaebe09299ba23f1409394da159201c27e7065ba91033c684d71ed80ed8baf24ae15c1df1eeb7b54c9deedc19f4838c655fe4da2d38b7469c19008fc7ec3a1232ce67f900333ba723d4dda1606cf10503f40aa3ff0e2335e521fb2a2590ae23c332e5351d4bffd38a5d4e0db02d0d01fc3d364a84f1117efe9420cff58e35724c92d87473a610d79e0d91891d1749821e597f45b5d87523c5c4aac43f83c65e9f4d831e30ce496e6449247a3a46f7028af6ba9588ac38b8f7b9f152747e07ed9fdbe1e88e9c7b6fac5ba79920738a4b3ac5e1874710b9db7ab3d736ebe23eb80c815cf3d59dfbd311949f970c6d082c92705f1d60d98281377fd7addcb024a391aafef7b0e40ddccc6c2e2b7b99b825f6bc254feadad7675dbd31388f9efb49af1a0059cfd803841f36436c93bfbda551940be6874a2806c9b6e7f5d3cb19acd80a278907c06ae85566ed93b807c69d51e20620262c63ebf2cc851a7b77fb81e85cb7a17e277fb44b65affd4a6c81562e86d701cecbd3532dc9bf9a8703daa874ba4f12df190c0e8f5eb2f740e50288f766de2c8f1755687cdc905bcab1a17cce6726d518d5119f6c2a54278bf458d0d66081d2b19c6e14acdb23e450a8ea4996d7423be925c16f3a2eaf7d658750d7ae9837c541e73eabb3315f2a91518707bfc91af3b290696afa2289b418b832f650b143962800a89448ef771215dd1351ac78e5d7e31cf92fb75c40cf3f7c7f43651401b827344c217fb9ea6164580b5a7565b8e56ab95cd5fdee52f7a6f8e223c1ed8598bf2c6ce97939e7d0d535162ef7efca9509111be457fd2f5ab471d33023c0c114f50321d2faa473225309667d877617124fb811d903469c8e2d09d65bdca528ed4f9ddff368968b17e089f0562c991a12602fcda4da348d38e1a5bf18820c70065c95db23dfe10e61c073ab99e65f4c543ccd1408c40406001d1c969c13f1369947be21921007aee9a4b30f4f86b7684d3a7fd05d6692ae6aed76cf20dbef6f39963a0c224298300f56b34c64d89e0a35c06636a121f3327d6f85ef9231eca5906531cb7bcfce92c925842ad377edb3d57ec69df18a7fd544b1a3b462099b64d2f48c5ed3d642057f63ee17313316e96f12cea813f1dd70b5d13930a453fc6067100b8412abae6234d483287a0fc168e51dea11eb044f333333ba2cfda0c497bce379039c1248b7e3f9c2cf240c7bcd8c76eb576dd7fd1c3e943c6c1e0551ba0ee36f7d798cc969d2098f324b5a5b5f63c68db84b2a245215360e8efcd5a163de1a7aebc01644683952c791990eb7b79fe29f5f5640bb83b0b200ba8966beff6d505c4f8fdaa6a0bb7a637541834f7366ddf16e5227cc20c884b0bf46baac420f797829b1be51cce2f0b73aa9682f3abb401ac9e91cf68193a409fb895a362f0ae3db59a54878450035d22b4fd1cad0168f9c585d1cad862cb6033aa2b79aab4b4ca39fbfeff41516b33aea75e313e02200194ae6ad20335dddc9415581eb0109d73c6ef7a27d256bf03f05a5f1ea410a398f698f699f45fa06e52b6bac340caa807b8c3ddaa54a0bf4df2ed66757a65300d980bd5ac6914d2522ea2d43abdddbdb5654a8f2d40561b3dc22c1e9fcf7d037cabbbb617f54b9053144005f1ac15b285aaed874ae4ae9e454a0d9b6c2c6ab5e40cfbcf0ca5a92a08ac927b2e2a852d32f0e1e0740c7292e344ec27646ccac5c64d496c12e2b0a4efa00e46ef740e4723c54276f1acc281a2d004707110eee32f976b73929aae33161bb1d1868adef737c3072224dfedd72b9552604f25731e28b42e2a2c15696c24ad75042c4593a02c805c1fd4f02ece90d6623c1ce3bcdffa196be0c6e2bb705924131ca7ac8938cbd8127e0e51afdda0718ac4aa96012f0615e37baf0a57efde9ac853e5583339a657fe325e5bdc9538e8256d2221747afd3ed21cd1713e05eca26310506c206f4250d13847c2a175fd8cda0dc72df338bdba14154a7f64a26e0b1052bd21cca7bb4bb2097633eb4ff11c2815fa851451914be7b87e91acbc855de4728336724c65910dd6359edae7c3a301af02c0f5166749e745367890ac98e8cdb1ca75d89b0a25c57b8ffc9099f6ebf823bc04e760df38422a0b480ef24706290def65d3463f117431eeebe46d125c05a6abd1b279df23b488a50eeecce2fa736dcb8978e3fcd735cd6b53cf1d9e2a46e06e425b2b8357dc91e15af4795e692add240c319eca823f098479f07db8f374183afefc953aaa025971e99f6aa57f1e51faa2c73b33fc6aaf4039c28ba39b712c3213c96a8b4519711f86d7db7608619ecebad88a6ed6c0507ebd3497da1d88f249b798fea7d57f20322d2348c78c9d5cbc03ae8e7a25a76c54903783704711a17fbb18d09a0428def7e40f1d0af4701b9d296501da43c1fcdddd11377e863f4154080b05939cc42e8864aa215276489dcc361f3536dbdc2aed4411393a0d745e6ca6422263d01debe8ded9c87e95d00237c89a62a1af205f6b361ecc9b5cc0e9be0229186b62d53ee64c2616184dd6f0ac952f0c3f9533168fece0102f71e3d34a89455ca1cb50f9a9c0a88636e05ffcfcf78341bb0cffc34fb5ed87a655c19aadfc565c5740795accb8a64ad047cbef30c99c1ca9b420295cc7c929fe96daf331c65750d4800f286b1cb8a6f7955fade099a4e940309106b0e5f75c2fb2784d6e9e9f256abab43829e802c2d5ed310ab399cda4f6fb9007ef052251db1744d2e983eabbbfb36f55e8cb389c836f1abd6488b277af68ee1a85c0c4052e2c4aa7ba37d7342400d82369b1081bf8dfd5bac31a7485924c55c378d62e46b6fc7ede464cb2f3afc09dc78e3b91567c6186b4526984ad51e8f1bc700bdb5c5d7eb84ee9a868c2dea3ad2b89abd7ae6a178eb912bff0f023dea71470a6b00b7c05c6f74a108fdbe0b5aa51882a891ab146c22a0e345b997444e016e671fb34e50f8d397ed937ad3e0712f76ffaff6237a35e8781fc597ee3bc83004c0dba9fd65193f02574b9fffdbc025cce04f29dc7248ff1b72d33a4952edb756e76504854f34ea6ab5e9dd51e22a10a3dad4454f6fba62302d0d0a48cd1b65ca8bde5b329b9017e9c4f3f1af9189a269ccbc91f112a6538ac703c6504930af68fe891ac93d85247904c6117f732d34998d857ed18a8869cbb4c82a81442d15b0c87f1ffc120f3121b3a103e5c05b7b0dc6517cc391bff2b7e0acd25240ff5437d746cf5bf9472494f7321a4e27b782a409bb3ddf317152b61a96305315a41f5d78f88467b024d9b23cb7c43909a3904403b8c24c053787d94e066ee4cf27330fcfff646ce159da937bf6e75f4c9624b561f400fa2a9cea1e7acbff7faf6154cc7e656b2d97a056a733a12971d0015945e75284942d00bd2bca9f8725b4e898c3285a1cc7c199a8990262e6350e54270227bb808af22c80180eda2eac4eb33753a3f8deef4165d796d4eba2764dbf3601d0ca41848232093320478b7c9149a4f7572881fa48bff7b02d3ff86827e1c29fb9f00dfcf70e1af0b2a3a916f16f8511bf8976826490ab6ec0293cdfdf4cd1726b01d2ba69e8d20eb6102d65ec82d6da79ab141db8c424d8ff339ba43f3d6a50666b846b0a73ae5efbbdfa20522d9135bb4f919df353e5be569d09eb68538150cc73d0949b8749f94a401609120a31517fdce5685a72d34281d45dd3194a914c3c850e0f4372a830fdd3315b3cae906d8fc5a4319ba3b1949e9d0e37949b3329e4745dd0660c425b8c75a32893e0062638a11f7b7ea1a823e1628e252742c302fefee75483f779a9966e74e7b020fae3a34799e11e670bf71ea30d69eb359037f2ab6b3efe33777719c25040f89c1e7419a8f6351c6de154bd7a8824fe89162ced5e0f26d334432d688dfb7f0ee4ba1742ae199ecf94d15317c95517577b58db2635cd624958b291fba7b9510dc80014c813cd7175dc3dd551c378f8c6bb04a72307536805e6cdbf690fe07940f284890ac3346b1fc1a5855073bcc68bd04712891d10907f01e0968112fcd4b7a43183f4969f6ff889ed7ff104228332d413eaf754eddbab5888a9ad767745f28f147d2a8e5fad7c4d2470cb29e337f51485ca1e959bf40e061c880be539a568597bf2332c90c9d5aca5a1fd6089a75bb46c15a116682a66ba8d12c5c9b81700fe35b89845430eecbd6745e6ac714a540e8aca1500b76da924ed69fea44eae2b4f2a3f60ee0d77e6bac0b8377c85bbe0d62f7a8b4ca9dae43de341798b6859f4c93d0845a0a0ad3731c3f31760b9ddc39dc653d903142da31e76fe6fe92535a022c46855e6722b63d8275187e702f8a9e5b7515c6c38f03a2d158f3af7bd8117f49dc6d21d5a00ad6551213219709a42cfba19a9eccd930a3d3ed111aa43bf28cfb26871511fb7aacfeb56d49e2dd1caa1b2aecd8fc7b71c4ea6477667939ada7444e8299010242fc254282a8d85dbdbe20251607976f4f8b23e4106e66f866c0584d63e57c93e4598bd9e4b36acbeb336eb380b64b7443341406b81fdb1adedb1f0a6f76cf4ae0c9fbbd13f441050aa8f58524c447a4f500058bc4b62383a64f16d61801dde58e6ac8640c18447e63448039f664c903490cbe782fba64dac341cb61e1013b0dc807f0038ea48a1623bf8243d0b6210107df0e879fa200fb4ac8b1bf470deed3e30db906b7cb557a4dec3f8c41ee693313db3d54d1c87b2d5c51a3c75a482d09f06ffb0f4d0571f9491fe08cd133c3ff809b8fde054cf53c942f4feb9b86029e0e650f7075468b5073fa4d5828c1b7aba03ee055c024d63fcb85f4f07448bafa23169ab9b7a685f6a26b7d54ebe500aa54924bc38cbfdfb18b691db62f2e853b4ab79a352cab7317ea5a00ed9ab114851ecde4f809648c164adc3fcbeb3097dbe87bf0b5edcc87890fef484f8c76c329d9d4dcfd9b78568ddd513762d42d6dd6624087a0d6d30fe29d10c341bfe9806f537be4e297cbdae2756c9171e6a647f858f767ca70de1edfe8fdc4cbbc0ebfd4df2251399d129c78b2df1c443c9b0ad3f898d30d323257487dfc0c589fd8675fcdf1e20b58cf88ec372972300fb146e9cdb72a99169eca090b7bbd460d1cff859210d4070b6b343bea580546012afe82332d80c485eaf031368987cc6a9b90f6038b031167005a8d8b24868363a2747e1368538bdde4f4485affc455f1f186afd660d39ec161e7a96757b6fb25cd6abc251601f4d9cff9b2a888b660aa293ff71023ec7b4e0776a59d7ffe88f6e6ab509ec12ff2ac64193c166cd654d6ee96f5884ee6f529afc2a1f7855540d3bbb34454c7811ecc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
