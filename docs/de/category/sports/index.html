<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"865a268a39a7727646c8b31890e63b277a387b06c082402977b081ea037576c7821dea06670b3481a3fb627db04229b3a25bfd8e73305ebcdcbe3d5487e6332e39d8c77ab0824f66431c389d5f8a4102a349e3822c69caf546703e366e0f3bf19c2743cc07e2570a13edec221bf4eeef2454a47749e326e4269110d9e3173609d48ad391077b15b9bb70d9e420647720bc0b51ae3c7660f61ced317a359aeac2f322ee6ec5ae39efb402b8e06fdcecd9c33748b043fa2a85df391772920cd2613720d55f94c6ae7543dfc9e3be420ca975b6f5b26f647a6f2073b9d93ebc622eeda620833934d185b4e9aeff65ed72ece59819ac4bf518b49962de6e884ac16db6bbbcb1e8df57059e4aecd225055846124ac3dba09ad9cdc23e51995f728f07b20f115c9298e3ab5df15e69ea98cbf0e91e357bdff30c901210d0f5b241a3f17cbf6edd70a52731d71a5958a8051d8cc653af6bad5ad57af15a19d675c9ac2e8f7032acdbfa0d0ba9219caa3ec78228ffbb3b63f5ee9f097d6f90ee4c1991581b653594b604c000ff8a0f700d7bcad2a14766195c16d98cf39b0bc9138dbc90afed4b4d2c3a4e386b2e57fb2c04af6cf3892f15c55fe04dd6174342d5bdf52932a5840d4fddc1c047f6bf04222bfbdf5ba5be11ff131dc5d2160efe471a2ccf161ca1961d098975ac71106d08c0295df3e094d6dedd5b1083a0ce678dc4175ea9bfd6dfafb5567e4db41b3db7c5a657a01d7d5e2439dd8cdc001c2decf3a2d09a73fe5e988d9b7ce80f78964c096c8c70c196a8a81979d2be9ec593a8087a8f891c97f10702db191fa87875a244f37e4c82906b21e1bdec6350cab9d11d63ba4f3088db4c3cf5ed8334562ede11d0fa8a1a6d37d69c42d4e24c216c4da28e68962d1f6c14e382af38cc198e56ccbdd71d27000d9234298e5300d062037952f0161925aa13a1d8defde68184edf601dfacddadbf662a0844fc11b782eafc6bca327809070530551d166cb28e08ee06f1f09b1f1d0d7b58ffea64dd1d9ba81c3b7521804846bc9708a7315d49db2a5a0b5c3b2f880d9b42a978b8475b73b3ef207e374391c148b5a868ed5752803b04b46e33ed390d35f7334b210daf6b5a45db88280cca1c6f36ef91247062f5e599cf1bb2e81bcd0cd0328609a4832c25ab321d34da6927c7f47d903598931f9ad3480ecef22593a7f563cc4fa12da08154c19e99302148ba54c4688ead34702b38d06beefd443aec22a428e98da6f9df433785d6af68379ba4f69c4ec9caf4770c69e3360f7a71c2076db5e8852e323834dc1689773c7d559ca61d9cdc3e2aaa675fa0ae5d83aa437d968b4264e4a135361554e33a6a6f2c26b47146e7d168b3613beaadd4a69e88d30aaf87adb61bbd8ec48e028cbd3d8e3a9bb879255761490bf630d8a6c9de20488fa52b0501612d6c1761a5d656ebaec74b821fa302b10a3d50cc679ad9594b117fa47e9b4a2503268ab29481c8ac1b936dd3b0a44f433713c55b29835392ac1202aac4bb238b73f4fece58cbea8b8fcc117b3e04d1ebc2408d04ca8d8afbb759427bca7046a21b28d8861960ab9afe6be5b6eef4b02a3c7ea3626dfa258ab192e9ec33f6f2dfe5d32f5af2b0d61fd0b309ec2a8ac958674acc356d5ca05f7a4046d280c94b09b951a03d47ce07c082e55930798fd95059f50ac4b616340720f9bc430568e7f72d5eda13e8d90ec05792485ffa323fbd4ca4a36fa6e680d5c8dae53f96910382593a82a5b8a9343102b61727ea327f3bf28fb2fdc5e405ff00f24fe69bb59276dafb0bb1f7641a425d956af3d046c50271329ffacab69aed2895785a4131ba64e71d69f1fb62cd3774ad89a12bef1d79ea6712d7546cd8737d5b6ffe194e2a7e1a9bed248b698defb8332c368ab44a80fbeb35460c8588ba3d8cf48b9a0fe75f67308799916a7f3a06da5404a9fc6ead0b35cff2a837644426bd6d27bfa338f11c9ccf33ae973b1066b3633d4755fbfcc060bc6aceec3eefd079d993f8d02844c7a53f44531cc4bc1bf307997c196d5c1a8878c5fa99068efed6ca68e34f3a361a05e3f5ff22bd7a6c8d5e04807b2a9c40cd71d67462bc728247d63999f50ee4a6c9f25d8abc8c8cc40b23b806f1fa5afbc9126a5c645f92e7b08c6ff4689bf295795980138ae36fd0b84cfa9d6ccab964f2cfa6a762b7ce003d5846f79f2027823adf038c8c7cbdbab5d3ef29f6fea2d1c5723bab410d47b345ef36c74be4463b49f91173bca1352f99542a33fc3dd737c7077f1ade8171c61238c1d613e89d4ff57f1ba62e8b504308d775c5489e6639e7eb0ad6bf99cbdba603a5daf06b27a561930a18333c4d6314ebb65b822e905963d302a8be602763401aee98546ff611873acfe5b0c486d7a9c614a1e0fac4c237ef3303f20b755fd40b739a1437bbf5c94beed9a463bd2bd5cf677a2150679aff4afe64554bb42aeac6c3402d4b8970476a4b25b050028cd60fc68d4463fb10c4553753d8f44d5a7e258d1bf901fc1830b1cf615c0ad06e7ff4f866db5b5300e5e1f1fb1ec47feb61c32c2e8a364e66a5780f45297cd9e1a380f7005929eb45a725a57f601db3da1a370239fd835fe396427d01a5c889b116154f5ca28d5bcc936d4c8fe9425ad830beca561022dad28d45cc4bd8707190737014f3206bb6b9a4054f2e29bd75eff43bd5e2266bfd028e0305a4cf0defa792b3c80ca97a0382a15289867d242dcf53b20c65ff3129b1e87ee5e749f74320c44416e1afc7dec7a0101507981731a90c174124ab6306d2131eeeb9add3ecaef4fd74e796be18b7a3d901ea004ab6df4e755961ec181a59442432f3ca4afd2fb6735752f27f6ecaa8e4230cd9470066304232f4b9ade9a94e74993a912803087357262b2aeb1e27f2b1dbb784021d94983839468528ade21b2df5176225afe211b0e366e7165c58a7e7d1607bbf1ea3363f054c36b0f13e2832feb0ad19f481756fcae356f7b42df55f4fe93c860128807a7a66e60e35371fe363df9b54a7ddea9412d894945472afcc375e78f9038612b3d7c150e82b25057b6d5ab6c22b1d688ca889e3729097542250eabc5f2651ad62dafd694d0c3c6aca1f42bfeb72401836e715b0cb3a66534581e78fcaf95ddff3c4d061ea1fd79e0112368e96b7c39068d9c952e548a72f4e486cdadaed0b488431ad5e657d9630e38d62f14f021016ea6f8389327181dfdbeb5888b1df0dfb4f9025a8ff07a074930851c118eb270bf090366155c072e30983955979a0bfcfcfe10e88fa724539d22082cf844ca98836929789ae24bc746c79ca71ad221a9b8fbc29144b9e8ab6eb17a3f431a28f48941793963ac5653dd5d9ec5851ea3242967479eca010e9b6e5d20a068caea95e150490561e3e7b995641a6302586818565f4ae7a642b63ed19df3e2412761133a6d5299cee4d2131492610a10d92af8538445f0045846f56413e14a5e4b713ea73aef23ed733c2b0e74f71b9213dc33f1e2fc23464838805c7cbf3599d1023fd4de4565778b19bc65423dabe6f1730706f1dc1a4e13fe27ec00fe34ef2a5e5989205d6d9e841d1d9e2115190c46cf9a025af0ddf1452681ddee63f980a66af47c52326a02fe0c69bd043867da6209d0ce5c4cec9918123a3ae1de28d67ca4e450ae0e470341867f1c158b7bdf25281b7e3218aade4d5160ef57e1ef65ecee8135e6ffe65f33aa9f2f5372b5e918c42a9ac87f12a5aae43813cde103609320510f6cf405ee4a8d0363c346e7e00bfe812bb00ace377d7a0aeaf4f7e063ccefe8ac24d3c7635fdaaa54ddefc812e6daf8cd7e177eadbd11a6b6d626e30bba7cd838834e61b4d0894ec2bb5061ca07642122ee13ee593f959c4b9e06ea9f66452d88edcd4e966513ab1ab56543334b04c70eaaacf1d3065423737418e0b66b45512c9bddcd41478247a0ee37c785e28fee93a0141a3f190c7d5e6701b87da967a6d7d199589d7e07ebd828e62685f19a4247b31dfcbe37690627e15a4a7a6e5918e356368f84e57c83ffbc96242d4967c6feae679c75728ff41f2f1baad927fc63899b3b278b4ab8436d6950c1c4642e196fada855c9e11f6f08f030ae5897249c55acd1ef8f7d396ea1052b9cfc77ae141485036b8aa6afba471745a109f184054ba951d7b6075f30e160428c1a04fe2e00229406a64c7cd2e1be8cd24341ccfe2e13c48ffb9bc77668e4853af7993b0017ff5a3a553e56aa675616c3635ceafa5a3be6f717787ffcad0a20585e4bda4867151599325f65c35968a21c7fe4df618581f234342d4427d08cbb49b5a037ba0f32a4e0324ad946c73ec8bd37ed3c66d43d6fd14d2e4c9588a714dd42df5a9f27956f1e63a780f3d9cf3af35eaa410fde44b9b73c66035b03bcdca379c0de5c75bd4c8050958c959cc547005e1b3b0ae9b4543e900297bf7e940a5c7a92745f0771271a50f8015a37941f155e318015acd8b5a28e054d3bd057f675203ad023370dcfc23fa8bb4bb3175f6c17767dcb7fd15164a045fe2d19a8cf4303f594a58f322d8f5aa55bc640c117c7c562e6c6012816f4cad6e6d1ad9847cf07625278f8477b688a6d280491b0141878f5aa6993932d3927589a8db489164000f938120b2b05d42d210cb752a5ce8e1715a0b004883391e0a3cca5072ebea827d98146f016783b9b80fa2174b08255ae6f7863f6149794e4befbe5384c615e4f1466c452bcd2562881464b4127746c687e1a919e8743626c5fd6df566719f1a75c7f869c89f9b519af1b4b4dd6e4d3d689e230e56ba6bca19e75f7fe65cfec2050ccc455d23a9486398ac6f4af760ed9cbd07bde56d0a66346f53d7256378938044f04995190ef61d4cda7eb86cca76afa75caaa3a00ee8d404e01235cde2c0b404d046b1554505da221460481a12a5055e294cc958408632d0b64fc674a5f86e6c598c834b227cea20f2313dd8976a06f2b50d199c2dfce3f70db0a7d26a604251553750a0a908d3b5a7204986f2ed6f8cb23edcd6393d0764de96b4451027d6c2227062f5e4a4161c9c20643f25f16f98122afe62a1b9b3a18ed38df8a24a25f89376192e9d394d4883587e54d42caae0cee9dc40082c9f2efd6651779f837d451c3c399382b88376ff9a01e8828fec43bf6ac486eb48027024faab1f94ff56133a556d1e07e22183470f33b8b4bea03e018137263a25820207b157199970ac2395dc087067c369278626b9e84753485afe0c90aff5f7aa7fd4409945e88f7b8bbc56ad405fb6253fe83749d99a94ede8b58ffdbb8d0f34ec97c80933e29dcb8504f880373763f71a665c00452d7e3fae11053e0c4a1b08f016dcf8a7618d693114e00685f25d70f8bc521bfbe1ffdc0a0f506d75ba677e53df8336501466c5b850b737ca971dbb1b00c647aacaa52d019254c770d8ebd6cba06ed030ce126e138c6298717bb73544fcdd69553babb6bf45e97bed65f3f1d1b7ccdca43c525936e984d42be669786a065079b8098779c5d64b61dd09ed32edebbf674b197ed83f39d217fa777a39ede6fe148fefb019265531bfe83ff9cd154ab83dfc47d22d9591f2499b94544b2ce56c981342ad5982aa57beaa1a9fbdd713107e43faa68777340bd47859e746c6586b52a8e8541b7ddbdc755fd145fab7db7a4bb520d14ce54e21c7b36fe9dd710705092992b687764e5b093e1a0e327b3b867de03012ef890b93b7e421dc5966796943c853b083853860e1fe6a0f7468ef6b2c9bb169478e864040abb74151e2d4d754249b22b0a1c578c1bbce58b33cd16ced5a6b32c9e2c602da33f2469f95b793135069d11f3e3165957b612199022355a364dbeeaa7d47c7059685676e3c4dd19bf9661a8be39369e5bdcad2507842cb35e649f572c2fd97373d430b8fdf814e4adc06cfc03d5fba5c0ce9acc8d5970d2f42e5ec59583112f28211a74a1edd9bfa1fb013efb370667c617b13cd914a6648a66d52e285a514723146edf0acd4c1a5b5dfd3ce5d0def940975729384babd6ad52203e81a330cd0e5bc11c862f1381d03146ca201bff76b5ee33ffdaab720b11c5eb019ea7fa4f3d985a7077b8dc3adebd16c0202bf594a57321421143c1a1592c971084b7e168e24c519b5a969dc9b73be50353252187503dae17b4bfd46bed8b339b09269dc75f2971d1a89d4eec0bc7e16d705a829176c620f83040dcb692b3363813666a307b79042ef0f1e5a30b656c12d110631d368e8ee5091770f771bb2e50949236848d8839ee3234d5a5ca0e82efa4541a374083b14ba4f0e95868ba6dfaba0bc27932d8a9f46d29cddf6c3f5131e138f744e1ddc4b947c93c31d7ad5f48f36756b4955a91de94be3772e25ca32212d42e3fbbfd9164696fd7a2dd4575f04578c626b73fd46065fe94190c56c9b0b603ba7d2bc32d7a737f5df3f1207e0b6432dc6c2eba9f8680b810e2f523d04154418f17a2b3ac9b7c69c91c14c28268d666562c228b6393585b47f3a4d77b9a575b4d108d7a6050eebb74ef94bca47fff8be532f666f9c7a330bdb676afee06dc9bca5355b7e1812d9801c885ae87c8df14849852a34207fcd358ce8135f87f57a457d85828fdcfe791ba04f96cbe2f9b8aa62911d08e649f4b1acbe042fae7803f0ac9a6ea83528f2f8471124aaf19d1bf431a59d9e24d7e004d499c60aa53c5775511297e931f532dc014c9b5192f441f993aa63b61a770bdddeb788bb97c47561bc7662a4c749954e2c7a96bfbd8279938c6925d220889666648965ffaa0ad3e86945b5c0bc95e28307b21c41a0cac33264263bf180943e032f1b4e92e9b8b37cd69dd4227df8fc5b5705bdb6cd8dad494299ce02db0c7001224e87db52f180ecafc099a91f910c404469615b90d7bf8130f466854ea219a3bfc93029dbe4779f207d55e344241723e8b13d287773fb0cd46d3c0f4ba8503bd75922c499e4d5c465b98e1a26c5e1a79764b035de4cc85e0120f8f0bc164535be267f65d44cb5326500192e911e0ad432553ff2ea6f3b6bea77aa4e4c08c8e5020a6eb5c26c22d4635e931d8a2e89cd9d992e3d030bc7441ca1249c5f1ac9c40d1cb9f48b6d4e9041193ab5db5f19d29624ea642f8695c06abd2fc0698237e7cd437d337f1a9d83e974022d364044828d71a8eead16d8f19ef236af4f1ea7444de6d41b76320e6dd251223adcea1a4ca2b4b724a749a5a35c6709830b67ef8992fec8be6ef1d208ea8b69f46e22c9a9b09d78cbfe92da93af75a63e0a3bf7ec6c49ad75511cf1b658234d27bb0d9751d37770147d99276edc9dd117d0dc187e27c0805c73c2b4552d8da72781543cd16713a198340eb75e78d4b9348d57c04f2b08e0c57ceaa054591205c8abf1825cf29616b91a6f76b229617a3c8c1438307069bc79d7f8682b8e8c29d1ad38c8c73876fc7b464d1f4d90771c542739eb44b38773592e970b926e4ef28a92c4e1097da867a9f37d288b3d95d8cd0b08e43e10cb834f40309bb7aca81cd86d41c637b1b8bdd0e47b34ac4226ed040794ca31e32d3d0558a5c39e590964de4a73e8a324ce3660649140605bab5beca4e005fd95e1f1aeeecb2744c33cc5eb12a5892405937e6800b1ec53e424ad07b96ffb5c63b453f2f542dc6ef9e88c9ee9fa03f8aee7f83fed0045c85b0988e13394c21c3c65e4f82dce830b78067cfaf5b01c65f5d3de101ae0baa23b1177b6976c87706bb306522c3cc2e766bd670b96af93c3f7817d1cba9f3d6fc4adefeb8e7f7790ecf61cfcaf018b5b3341658dc76a6ee4804f79f7ec79a8889d3055d964d2dfab7abc9097cbce1c48992a5f2bb2ce2b5475ba425c1d88531ed213e4de5ac99bcef5b131044e948093974523ae4572d22af96440bad9d3429b252ce6764274d9694636a9f282083c4aee22e9594ab6cf511a829a1fe77a48e95ebd4f107643bff7c875ca6e9adec2ca4cbec4fa6cc1e63d91908ecc980530bca6a0ae6a4cbb06adb80f7829875a9a1c7ee65a8604dab37219e0c9843b638aed42fe6f29c2feacd38c4eabfee88d9d21a54e1c83a5d2276e92e13225078df87538450bb6278739fcfecf21e263491e66d1aa119d501665ecf67e24f5f3c41609dd4273919d13b10e64bdf653905eca24fa4841e2308a9083caaf6e3af876e221deb6ab6cdf944c7bc75e539fc9860812a1f8e4a99f6ff73ce3948ab5b098abf4231ac953d8685a8e64330fdbaf6547341c82e11a0f51eb08e965a17fdac89c76c27ed04aedce95d01f672d161beccc9707ffbcff53ad5c6246ee870b3dc781c57cd36e6fab3a317fcff38eba4e2799d913e36f8521ea6179f62a60c407466d4ae4bd16a081330deadccf381bd9f46ceee6a88b097f99c873be497923482667f09e0326e93363823c7d5f9e1ea97c46d71bc9153650a8f332706abc6beee489f4170ec3ed9d8e8a44a017367884cc7621ed1208c4aba1efe280fc8372f440710ab594ebf72d374753bde8a70031dd4ab722ea8ad9972fcf7104cb2678deac22b532355ae7a72a04b41591916bddd64d4af05a0da641620dde97897256fb45c5f121d58a3f45482a316b0fe3eda2ef6093856a8fd253665f680d3da500229b67d1691b67927772582e8b2f236e9888f39669415353b3771844de15b186ee12f4abf7ad2ae01f4b8bab62961ba6b3aab9fb4f2bf31a60fdf0e5262a3492167c2bb9a990a78636a0e4e9e830f1b0dc2bafee0fb300c33234535e6ea16f0b5c841f5e3f9ba7f0091dd9feaf984a39e6b9c783a3934c6ba5ac55d32830a58bfe70459b1e45d3c34c2699ae9aafc5d66ed0acbc9ccd92c9991e1664c2f638deee3221c409bb33233e0433208cc1ea85c6f4c701721f874bf70e634732f064ec19afb28256e656694c2e9e07b59f8a75b4e3f95f8e28940ac72a3d1f0d28e3befbee142453d2db989ecb7ff9091436d1974fd7fe4eaaefe216f5403efc40d4f8b66be92ea6d76ac99092b1dc4fc9e349876fb992be827345cdaf04592679cfd93459fa6d95f89bdfbdf57fe9705b67038788d03c359b15385117187ea2befe091a3dc148791267eb024f6d7453ea5db17ffc284115465e302fb2fa8097504c6b881f0c7bac66b6264e93871448759302073d53debb57c17e9decd49df19f53a5d6d7e2273cbb125308c3048cfe8a3846c724e10d770fea3eadf8f479194e070de52ec6ec4bc70cfb47332efaa7d29d314f9d74e6f2d251bca8ed9459ef24bf41b617fbc7ec924dbd7b4959dd129ad3e2e9879480f0c7a0b92ab75059a5757affb94436ad82db4a29d7bd5c66b07c3e77a063dee506a41151e686eff67f81b3affb7e444a2f2ea2f40421077739780f9f7935ad94fa44d3b2d1a93247958bb4d418589e5ac5ea17ecd287353931dc3b2d2b9924cef8ed942929deac644db7eee9e8b4966080f88f5428abe5b90702abaaf8bec0c77ad45a53a1feca407b6804cf9c7422cd208118aba4c94f613be4f534d8f41f702277ca4605fd44918343e47cbaab4f6dde990bc9f2038187cc62fdbd9a3dddb0cd7e12632cbbfbd3a1e53f5822fe3e94fab2feb3576b0853e1bfb6d15665e15db08f2ced905eee92d981fb5afdb1fd9795144088a4230b85766c4257cc8dba7570f300c566df3bc731b13c6551389e268829615938dd19be931244f2eb9de5d9ecca116ae754da74e2c0117b7ad02c10a86a929105a1895ece92ebd244373ed6d62624ab101ae1d4125552866e7115bcf64d01f355cefe2f0d20e73aa5b64a538574340f7f0135d0d6c2c35a0eae59b074203607ac3fc4e8e5c91a03525a86e97448b605a80bd156125c05fff442a918f39370da655813381edeaaeee7c2ed4937db75ed98c180c42fb48ce09dfb3eca0fd6f9d78b73e65552381ecd4625fc79f6239f9860e4c7fe78255219686c97ef410d57c34a570e65f1ddffdad23cc7984aab5f9c0017f182465e83eb57818cc97b25ab4f19ef3f69e852a2a44d7f0be001c84f1ce0a99583cbe2b67a3789bc9ac7baf3ea07756991794af0cc7d0b3732e1f9423c6c8a8f995c9ce00bf29f046835e91b8104203bc781b74249ddc5ed7aff5e971e35ec7ee6d972781f4126629eb673dcbb1ce2a4b8f6f0d74041ba33a6c1b17fa7c07ab7c56e32e95cb1497cfacc5c8d6e2520b5f8298279f24aba2078db4aee95a465829b4a9a3b566196bed9c60a4b03cb41d9ef244be134d2c472c8a3c813a24a1b95a7e6e3295c7ddff63ae053018584ebf1594967233c18510bbde53eeb51f5dc402bc576b3af579de8b7f12a6eb00763495fcfcdbe5876f4cf9185ef5051d4728de1566cd4ff7c3d78025325aea393d288aa44d36417043a5ba6299aac251fd5fd20094081efbd27d3bd851eae96426f8c34d7656d13b47327966ea8571b7fc289d14c39fc0a9a5b12baab347d2da3f61c0b661f6667a31eaab785135a6e75682694940db01c953459d218c8a93a0f000424075d89c64d5d087de33f24edb40fbcba1a98fe6508dc587408431d0be2db85269a7dea51c5ae95d50e47fd711053ade72b55aa42253ce768626c15d7f148344207cadcf82f7be96f8a5fd57d1cc0331a5fb6b886dadc4614eee08c113c321ec9e4993a289442217a426a53fbc9aab17f52086241d6c21eca2ee42d01860415bd1844545cf5e97b119a4f1d9f5fab5c15346043d94fc234cd7ca33a06cd7fb99ea130fb242d13b25f3f6a5335d77dcf7a3fd8c8aeeb59ceb7f3a372c66a98f7755edd6228198370f1f03daaf0c328edd93a367ce2b5710bddf292555fed031518d5ca7a779da533cd696f7e69f059cdc6ce3e083343bec396af156adb2b13353edda18fa5d6441211ef8abee5e0837d164035df24af4488dd41e48f9b13c4b2b326929c6d67d49ed56c47991479c121a61a1920f986cf870c111b4c81f3fbc9abaa5ec6263bdc30eee7bf308df6dd4e13bf9bb7ab3c68ab96f5170d8bde2a50c5425413161e1d42043e68004faee5158dff83f083baa114094abf5a29cbb2dce16bfbdaa69f1ef1cce7647f5494cd8112e16589b40410459bf40453e2660c2ec6169f63a5fa5871b5426fa73cd3914ef12cb32eeead3a5249110d9eab2b04c6ad801f3dc09e7b8de8a57ada97bc4646ec80be5bcdbf72b540cb6937ecad6f33bc3676198445fed2943b71906e8bca238bf264dda5210f4422ab3cc7a9aec5c0b04c35ac9eae29add82b7ac8b6b2f4d8fba15cf1bd8fea49d2bf5d67be7366bcd10a58c04d69ddc2641d641c0c19329aa321386d0c798f60a7fc2198cd189663e8d2ef7c4bf73738e45c788e20f7aea9ee5d6a6aacfbdd5e187233f8f50172373f9b78f895f8f5d1af307e3026828144ca53e7396f16f9c0f2bc2733fe93dfc44898b764ee547352aa9623ddee8dcd2b69eebd4ac264fff9576e47a061f5aefbf5296d271bb41540981fb2d92729a8b175f915eb67b30827d1b12c707c7136ba12b5aa73407ed7c627d11f2970566683c5950447c374efa1b1d821ed28c1fbbaf69715b6fd02cd400a51173fc56bc43469f932fa163e94fe4298dac7c899c55eb3e3f3e39afe2a852b91594ea1ae799a87a1c6bba165bb0312688dbc681bb65c27ed672d2664ad24c1c5fad85669a4697fe35680fce88c2c5a15cb4f3520a78975e1d1fab7769688831d472e1ad0405e7ccaad56fca6c579b5f285a30bed15e53e37fbdc683b5ced579544773f265f9571192139e0aac882f8d26291a96f46d54d51d3af8cbf57550cb1e9fe62f989390c7216ea283bbc77d0cd04ec5a3425dec35fe3d166d636fe527c1574179f1e6bcd14134813f5ec79a800e78030db0da918b84f94b4a551c499827796955c0011675a5cbb95df45c4c8680ddb75c1f4ab5fb1013bdc084d5012f9caf8b36a0dfe4a74018894d559503ef42ae6be0ea796c7215b5118e2bed6a2695c1ddf1b8a4340fbbd2c2b676b81d7fff55b7cd1c7428a2af5f491697b55daf8262aeab9f27cdfdb72bb8c087a4a93207abb68b6a51626d2669394fe0e6c30b128657a2b118c4f326269c62363aa315803983b471db6768c9425a08b7347a55d3a37e731ae5b7013ff4519c8098ce7a0a01f23478c7c792b559e53c8a7ee02510f7ba955256243875bd040151556a497986172bd36fa845a5bb74284450c7a1417a66d5c7b7522f8ee94c16e73b8157b57b4ffdadd792c4f2f32e384dd412877240082dfe7b623135d5ff70f48e1ab9491e22bddae4a52c426e00fd6d12e98b9a570c26d4a035219097cd99d12ab1d63951af1d35398b6721bb375fbf8b48cf61ad099d910b0c2b7642fae745e48e3cde17b3e3241068218f1ccdfb8c117feace6bdc7774b5714649db9fc88c48c6e3035dd94df9c98610ea58e30ca92636a4be2d62bcdafdc0fab0ad4b9f824e609223938a381de7ab057536f3a25592c3d283b0a349ba3251c9053b01f24b42a9dbe8767471879a726f113044db45757acafa176b5b5d645c1b7f7ec9fa45be98cca7aef640a1eca6387bc88ddad780a4e937ea33bc798996dffa7fda0cdf7299b543ebba75d0423961734a94e1fe01850bf8b750042536767d9108d401a9f4a75649a1c3f70ad76c7075151592050cedcee412712e6ed73694f43d7bc9b75e3f607d419c69472b7db0267c7cc779108ce0925ec8474631d6b91c0e969329974ff2fab0a6579dc7f364c894e7d10cca92d01563a083bf3150e76e8f0143d9d1e84c7eb358cc1665f181619c56215010d05c5538f489c063837732a23b6fca25d2e6efee1bb520870f923939608f54ad8b4aa269cbda333e3dd1123cd8573a411f833debc4d922a26001b9db5b60fc0b9b461bd2538d35cf89eb6b93adf8d75bc9ee56c90b54fec19a9761b0b574ef48b05b87610130d237bc6be2ea43e18e6521301a58400c7acc3c407bec8c5f23b4527e8ebce40c78e7e0d87cb50925d7bb25b4643f4829ed6575dcf515636c088cbfc7409b29237760b53f9d201be77349d1e5ceb6571c0fbf7191e28ee03ed5edb766d07af411c93158a5c56b97cc0b70c4fac236400a48eec54f1cfcebffc3c379a3dc16d02709681784f49a62d3d8140c72914717ef09ddae40fd08644950b7c8e9de0a22711b7e0f5abaa30c71b5581f38137fdcaa1c3e1efd3e16a88e81a63fa3ee673545b798671848ccbeec62b5e0caf4ab525b05882457e7477219669c4e67c59728155a9fc2812f0937b4e7d70560128943a45d9c0ea04355a5daa45dd5c2b03ee32734073615657389782ed66e1ba690ef47df12d3335b8cade3db4174ebe030974c7381d95d12a73128629b439f58b90298eb18848465c487c192f4ebefc468f433224eff724b13a32b7ab736a72466e85a40420790624e1e09279d0620c7538517371df3b60e320db1b04ae6084b2601853dcc141692219dc52b965b482dd7b220bf8f60ac9243f4623fa7a319dcee6e5d17247c2c942a5dd140dca3c2a75be856bffc5abf0ee3b3f57f14146e5bf64f3d2d08c9d9a1bbcf4c758f601fa644e492bfa6ed23385d54d24d47cf387807ee57cd71db121088ecd4739623678d4af3546c9a0827366e50eea92cea4f580ca324102b58a7da9ac100328836dc1cad7e4be1f973da302d8c85d9ddcc1338dad0070408c2d937298cd09840fa2609acdcea4ef07c8e4b07052cf7997cd797fcbce4c1bd10658f0e1a4a6c22a68f70190fad589d8e1464fa4776b38189a6cf2f1e4e708cc4d04fbc8137ad6da098712ae9f1924157880f12c3ae6b0ecdb1ee623203102bf82d89236c596bf08ae0839f07f8291e72d9b825c99a05dc2f8e1d985f5e253ae3875dc41f75eb5fe58df85e764bbe18c8e21135ce98508e6ad836318ca4421457abb674589d7ac921a9a53ac73d07ce1aa5939932b35676e429845701cb544dcf39e6ca37513fb2f312386362c3ed847fa2a590a5e2e3f5781c8e5593da0ae71d11b4fdec5e32a5a7fd3bbbd6e77fda8f0afb5e2629af80b3dcbba32d8416f8f93d3da446bd9736d9acc64bc9b9ea3c150930f09addbbf5d71f8f18f683d6cdb7125b1203e69b5248cdad6c4a3f69f7af458dea26887cefc5232b3bab0d1c7c2e68e72742de48a319150dba831690fc7e18ff8844b6738f824918b4bf48fa1d8e34215bf5c6c6877f5b29ef76d0d4c69f9af1634c9dda1fd4b2c2e885cad68165839f248031d1d9bb073a29c0d7332135447810ee47adf747ddd41af6026d4041fb5ff342c025ce5bcc410809d805e8060483a5d8ed45b2e83cef06b0822456803c6098eed25358792b6181ae17973a6a9cd26fa95c8902ccdb4f3137c5cb5b69169b16b11049d0c7b1c0b02a01c8c4f677ebf42321ba85910207876f7076b24a6158fac5dfb73ae5897decafc3d1f81f94a48df1c28d026e87f749531ed7a912b16f4db4fe3837e214d7dbd55da17307ea5bbe552bcab42ff7cb4fb8fb1145a858582e6e676e3c678b070fc27ed3b5046d0cc0d51bb523b4273068c028e23d739969a534443e551428006dbaade69f1d6ddbfa64ecbf11fb81af2685932e3f1813b9c49a5ac100d42ff9d1048f84f2381be928bc9b47fcb41f6e68c3a0318056f7ec77a21700e8a205a3c3b259a14c9fc1076ca099ebcb3572d3f44ea7745eeb0b3b83aec7c883a493c512caba84854378c9f86fb6a9126c1271216baa6603f68099ee173c82298049d47c06dff38e46bf258294d3e18107a62672d8347fe721d9bd51e04e994929cbafc79a04a1ae585bbe0c023f20153b2423423384daf6f3475c4a82ca1fbad68c76d607f450b00b4716be18d80c25131a4fa94ca85eeecc3d5cd04fe4e8634b0e49133cec81410d292297b52371afb0f00b6cc12526a394057588acf05bd1772cd2d97b47f83fac4ea31512d7cc3b4dd39b10f20af6a0ee903adde67467ef40d029557b05b6d8dbdbcbc556a62e05c021f26d4f97b4139cb4aa2361e7a0d444329cacd71fd15215016e3a47c76dea93e58ebe6c9af77ac94a508e8f4e2f5bfdaeb746efe5a0e6957504118cb544b837d9c07152649269dd66b4a8a463d0a577e23ed20f952f9b3a7b32cc3941ba78cc8f4054855312232723eb66ff5eb3e28be9d7ed336f8ad26d6953c3fb6ad95ebfe9bda8a046b7b078d884bdc5540225c98efd99a636e8900769f08292d7b0360ee9173b5ef93834f7af2e9ad4472516540ab7cf932d92ec8b2ca7909172d8672f078c3eb45f3aa25830cd834fd688ac7808c97bded5352939d95a343c46c6511002e152e40a61356e8ef2bb305d2950570cc2f12c1c342474086af2df85e4c21f6eea53a037a893476fd171955a36cced3ac45a8a9137d34e670080a9f2db235e07a1df7c8843629762bc9f6fbe6aed2b0c2145af843d0ca9173618c66a9313d031cb3299ba84c25bdbeba77452200dfec374bceb2ecd0625b4d0458c2ddb52480c4c45f6c650a36bb7a403ec80578fa2d17be56a9d5c598847b252d5a6b4f02cd10b4dd9216eebfe75d7e1991cb52463ecd9ad1e30ba1a97a5da5256833722b3541662eb04b6051c3964802be4e233e3e8aa6249e6a213c05f709c08ed630d534409c225a54a93a3dc4d35f62f324d057a7004261d4cab50cbaeb52735b1d67ba0061ca805326ee83b8bee09a1ca0a452c627b904a58660b9962420553bca5aaabf68643b7a93541532df7a1dffbf317a6c9f16ef26d7621b082774e63fe4b0e6599dc6ef5cd5235386e8973d9110d8b004616eb3305e344759cfc7853e87d5f9d591d30e7c5c9413ea268be63de546e27cbcff4191c60319aab13e928eb8e924a4756fe7b97bc6dd0a58f0f7864b0a949dfc543c9681b2bf38f54c328f29de08d4f35c9c43034d6ea0379f51c0d0c87bcfc915953ab3c286b78a9e71df79e953da86ed5af5ee4247b5cdaacddd72bbc594adbee3bbd23d9f90cc9cbebe0e0b1a72602c329d4251defc6dd64abff257b608e11792a2c09eee34d7bc2a35085e9ca9b3af90531c404b63f3b3486b09770e02f01919bf6e48fd0a13b8d60b9ccbe47d11bea37b1d2e25b749dbefda6dc4660e609fafef318c10ae839a2a68b932a9bbb90c83adcc4df67ef11927dabdae4904bb7c8bc92923123910184477a6877df41d03fad4de9a5eff036797bc898817c0996aa4c16f0de69dfe8df512cf17d9084a6de3f403833add0907dc8b6279689e9a056dced7b50faea18cc6d1adfe1bb26af617df49386820c549816d07681398f1d37f7214a181f56fb78d78f5016bf16ef9d257131e9fc7cb089b7939fd84492927811a2065f5aba357d10ef72adcf3bc8822aaed56fcba36a5d4499f8b69032f36813f1c78ffe810c26be98e968a7120d8912245f2c72012c8923152158e7b8a46e5303e6ad4ae678fee4d3d7304548ca43e6c090257695095b3f61bc9f118894e10f2d2ffad3e8d92315ea6c2e5619e055d5b213107b1461b049fece5ebead2a992a11e80b60a260e7937745027702712e9dc2e178f0002778a3edb927b047f6f2f9c374a73398e6a3ebd47f7b3bf16564818fe01a193ec160ce1617367bb914da9cefb8267fecf3707b37692b96e55d70889541239ec80480c26271577d97064186d60b316544d8674b7551c0f785ed5a929497c2478306c521e287d9550178b8121e6e33d126c0e7a950cd8eb241c2dba9ccb52cbc4aefb9d0d22d59162154b06d7be598e7842ee5c8710deb8fa45504c9a9c5d98cf749e2f8a4da585a75aa8a771d646e7ceda1558979958b5d52cf2fd042c0792ba19342058e9dfcdbf45918ac93a743a441bc263c2e19bfc3aebb26b0266c16a4335cb740ab674f402a23f6c873ee9b9d6801c4e357c08fba0765518ce10ed6c0185a67eb16582929eadf0fac6313013d2a1c491b240c932822d4814ba67e78a805379fc717bf08f7f0f138fbad8bf2c6d9fe2831534976add1ae355fc5db0f8d1107c18befe97b034b516d4791d2ac0462de9bd000add604a57fe1d990cd360243945db41d24459567abcde763f6fc8a44f00679cb207923734c14246bf113a7803722b7c7610e69f036d92e1dbde11b27427ec30e083e403f68951f1ae64cd6f754f3320ceae5a103f19955c351b50b8fa5894c56f0c2e7f71331b60927f3a23bca9dc54a06081e55fddf7c49f0729102ed1e6b645f20413561957d7a9cb17a9a47fd7d16f9a3786fb854e50ba70e988220b0559d45236f44e7c9ba15d2bd8b9c4c7067e6f218d773dc6d83c05ecd4ff9ef8656adbb3e24279915937f49fdc292aeab0c379d710463b8f4cacddf63da31c02f0512f90a4d6e51ad5c4f647eb281b9572bcb7702ed089260f0c90280135a052c64ae3bd9bc13d078f6115a0e7c0237384486e08395d5d72021a3d307d7a68888c461d9c2bd12c68f04a8fd624ac01833ad8e0fa9f8e3b97f4b6c0bee3d0ac33c59c1b9ab295e583c94483106aee565624ca99f08a61c67769b6938b601198a2cea535a86fadac43ab6230df319471f885ca7112a4c300caadc003157c7adcf63fea8877af62162d3ee17922fff9236b87856dc7852fa0218fb7e8eff0f9d35df141262cb31e884633831e6a0e65695d27f0d956ace52174d3b647a982f4aa2835a9033a8a07c506c3b6741077cccc81439508e353014d2db53907fccde40230554da8f51283a305300e0c823de2ec0fcdbddd3e38705c2cc9d15eeb9bba9ecbf55d852b8122675fc731a8457d6770bda793fabd902a75444dc676c291591cc7952a7cd4b58d8b0bb6db23efcec5542a7829a3be1c19fff7d76e1ac9b34b2ea61551b56e0217b122c2ae4b362212ca2f0b230fe4e6b4f4f5cdc9600daf1beb6d5446bf05c37c64a209d29094b08df6c45537d0a049b47b55aeca0a62c108d3443a44611d146ecacbb345bdb3d0d665371a1ef4878350f670476ec4d70a727ab9c8ec4fa6497ba1f04045b59a1d65b0a82dc603427c5d65772c20f943d95ac75281a194abc1e665eda3306d76d3a5dded96e223a2f49192c3a1afabd85d332173c63bbdd8b0995ce43027647b577de0387c0b6cbc2bc3fcb355700e8806d530d1c3ebaf0e328388436a956032fa8cee03bf9e9495a03d8c594ebec64616cb7e42a8e29abbe4c9d79418b9aa0d5264adeaa0884b41de3ff7e99061a5d85ae0b9113a0be262c14c4407e0642760db9ad7ba02c6229800d55db7ce8a6f3264f18a7f586d2755b0ac54bf607e1ebc06fe359ff654923b6bdfc2ff2ea9c82198fb3061d93f57217400045e819028fde2bb4d30f334b40e0ed94204c6e51aacfd2f22f228d5e0119525b4b04837312ba7036d78091380332e7243c5b4ce4be1ebf3f8855d3069367be4640e77e61ec6c3be4bc0bffc7eb3e177f6ce9817cb07a3df9860cbc591f1a1e2afc43600b03a94c9d1d3c52514ff0729988a6c7d28b46abed54a5e685390793856fe5c7643bb551294e61f36a6ce8d21e56636f130bbab4dea7d00a57197dcaf032ab90a537a9f9b39891ceb51452064950c91026de878e5e028b0b2da011172c54c2f54bd2a91f24c5a9646d11b44ad89cd7ab62582d004834bfb9a3ae41a6c1e0d02b293c2b5cfa9a0c1de7c5a52f32864e9348c0c14debbd75620a5623a7d807bbb8ea1475d524720ac5267b60b8b969a0bca7583cd364ac2539d85aa71f7592355696678ecb2dbb22179a7396c90fe758600d43f2e66d19024ea76638a2362be8eb501c178a211a12d7ea6df30041fed6561f5a72d21437fa1833f54b480a067fa5542fa294f9f09259c7152a0f2bd371131c25da9794a962957f90740c68c178dd8a48be5e9a146c8b84b5f9d4b38b88949ad77eb02a03b6969f02fc77a9b6c6e23f597485ce316eac849d3234cbdfc35e19868fbe4704878431d47fd812dc2f5ad7b07b7936a2012014b05d4cebd8544e26953fcda9c9e5dd900ba612333caf3eb126acc76d611199910859ca9e451aafde32c077fae4b4b5b4330e882c7b97ded076aea941fffe1e4572bf373df1c0065a22e5884f1ffac0140341e1fd8b95360d1e94e6b9287db9572c5986edaffbdd8bb7fbd9604aad41b6b15c0d585fb85ec892de06cdf5b580df77cf4958c5d28eb479c39c67d82fe07546daa45f11eea1d7278385e7233c142b5f37d86f15f1b0f2e4958e2f05f970efe29b5be12f44c6281726a2c07af0d990643005a5827f6aab8b1895b238d93bcb58e8ef12577d5154dce1640a58ce844d4cb77820b7dc3f38dc79bf92ba555eb792664b412494669e316412f01c0ce69b33d5dcb989c484ecb38ec085cc62448b70af545268197cc889a49fa7548f0a20702b0b17968d2bff483ac431bbe7e446f234bb24e855407d39f2bd7fd24640c16c0c619beb78c2971292a4d0ce20e1ebfa9425b47b8c40ed02d8e9ce61452a65e63036e00863b30c9536887d8e5a01e61d430157afed60231a8d7f403d6d304c55c35bcdd92dcc45729404a8f80dd144eed837bb74dcd80ac34a3ed5c557723b5b7328d8820851f3be96d7e10f7a77f8bce310fe30f92a8a6ea1a742055e5d8a657834321a4e1c6ed8e39756763ab14c2284ff9e1173cc42f3927c614e648a3771b3d18ab7ff582ca2866173f7a62f27f15641f280e7ff69fc40e7e874e7b7a7e4e1f3a4b09dde642f45d0e04101391e83fe281c1ccb4c2fd02dd1861734fe572f6a0d8da3f72a5e19611a5c5a743ac0d4dd41181410469ed8a6e67ab49afa7d3c1d7c5077724ee04d054788f6cd7aa3901fea869d1109420d5f4290971edf50b0d5888a5d935f6213e2a7ae349a7940f730e064b0790852b9b294344cbadea7167319e5606311514edb901987ef6c30663367d529a4ed7a38cddc22b69ea9cdcc6c2760ebf7f62e75e3ef8f516e61c325dc1829f8db5e588ebcab4a6434de73d6b25c67a9171392ee56a1637171526514778f0a3f1bdd671ca26f012c3b8220fd4a4b2e4dba383b59f11b0821307aa88b11f8ffe535c572e54243521af02a0238f3acfd0e1c50cacda0b2118cf4b8f0e0ac615f2930d63724752eb07358393257b905b95c38de60c539138a8b327471b0e2ac4ea5a64f2d02b6b73efae5ec1154126bacb16bfb436c5bd14dda51d85890b7d798237faf89915febd286b21a57778dca3d6600ff5f0bd71b9cbd7b0ffe7990d16b14e063f0809a724fde3bd496279a112c00e288cb89f02dafdca891e73e4eea1363526df796d9020d232cf8b6df7588d2705383ee1427d8ef100ad645420dba174316157d1907417e12f06a53dccf22cfc6ee488a043f04eeffa1e50b1a8f71057c7bff83438e406a27a830b4db015dca7131ac4d56627c12300675de3bf675031f584ac61c383c454eca1da399e3e2cac6f1afec8db5a1dff4a58a9360b15bd04dfbcea73bceee8d0d2fa2bade3636b45c5a0b2b1f72eb8a5589818afbab89874ca8b8bde27735557d8cfc4e83576088248ade947dd92092727f22b63e304d7153d40293b6ba0c0e851a21b0d48a50d70cb2ef702b57e2a08a1da3b66aec334a0f42ff2750e3e74569f7d4e7165f33e7bcb5efea40a4415c39c479fc92ab32056545d02cb918164f5cea40948f4e0cfa52001409afff605d1c846091caba01bb7d5464d768fe5953df7705bc4054c47def2fe5c3a95ca2543ecb8c24ae308e14bae695a9c75381fcec7749bdccb05bc36b060bcceb562b57f72f9358f1166ba8946fa68eafc8fa1fc8d673a2d88c030588e2ee845d07c90409518c1e86df03735942a71406adbf880c34596a29cc7734e413d5e841e40fdc58b8cc1df24f05f90e988dddc07d4d26bab80aa19103dd1f5c96aff4ae475adc9675a3c35916310fb3bfbec3b419c21f970e6f744f1d9671daf96809d91754d9db35d0c33ee1ae648c8756048ba10568376edffab5e95f2b6ae865c463cf6e94a3cd6d4bd0969e3fca370109505b1500c685a76f788e7ae324eb6a5fb5aef8ae21bcad19ce8c1aeb6df01f6e11415ac4b0265219373619e6454b6790dbe0fa991e67967c02e453ba9442d4b8526b10af9b850521670088cdbd07f5cc8654d94953d7dc696ee6bae67106ff3b53f53e0beae26ab50f7b3cfcf34a9a9dcc066dce670c7a9058aa2ea2f3e16e77248e0734e706f59f0241f361bbf3cb59f84d533b0959777acf532e48b3b6ae24c51a42c56961ceb7c0ef2577e7c1fd60aaa4635db68f2a05dc96ccff677540e4a691041702525df45f9d0f27173ae09c5ab8bdbcc0f65554f1693d367097b5637e0289c54da0b561fa65ce80da6b549248c78b694e5626334faadc4dc22220e3caf170d614c69a1ebf8bc8d93a04d5aec7676e37a2813026b0746ecf2b648d0f0cf7e8aad2b5a91108900c2b230701075637bc85b92d4ec53883ed3ff2745ff5fecfa9e1ad6462a2383d2cb9404b50c5f7dcee90a0733323efffa710dbc848fac889cd12e7172d4b14edf54c931b2d54378c7766021fe6114e2ad9e172c15a22873ad1b7a6b53bd9fc6a6393c85c4f02326b9df1c5d5a4270bad91671a09e90318e3566815c309f78757ae330fae6c2cb2a1a5a93ccae5972adef0255105973833fc1b860aa050107d7d2f604b122fed0b571e256314eb1c7cd0c3d55e35aad47d31f67bd81df82c05327d0b915132f33b61480ee870897b75f5da6c644b245e7ccddf502817f007e437de8f813e7098ae44a378f7f0e2f33d7b18e578786da6468bd52e9afd07eaf87187436a5eba852cbcc3ace18c371834c08d7104d28760e0b06dbf614801f77409c43a6322258b36b69f7fda69fd9f6c950cdcc997c289d36808db2eb6bdf20f99ca71d29985dc2d2edd2177dcc5057549b35aae13fbbd68c8d13c7a4b982555cdd52fc01cd27e004a7674ee216819533dff67d03845ab31586f01822da7d74c5fdc9819fbc6278649fa0c500f5c350a717f15759b6b760e8b9b7f6ba95dd447a6e6b962c7ae8c48d2e3b362ff3ef096d745284befefa7fea48b5fff980f0d068220f9d8074a8c26fa90b387a1ea9ea21dd69e98ea4c4abea3d05a3e4cdfbd06a8e62142e4ecc30af7afb0d6f5c559ad5c67282ba67c6547b2b0b371e4c2f168ccc279846dbe6b7b1e03fe63eba52ee83dacfbc31aaa90ed1471840acc188a9715da2ffd8323dd5d9d955b9fe553bbca381fc07fa2d67c53ba3ea39429bddaf5416046f391644924b14706c1d793806996cd91b4ad5afc497b67f63b6c612bd72e2fd72c19f075ea8b52cfcab638945429bd9f90fc4f11904413980567d177f3e2795458017e9f28476233c19111f54a8ec6a954cd71a6956381ed0de0ee1c8ec98898b923945b707dc4aba3302b6b7c8d450d2b62f6a77abecac14c6d29109be852417c5af545531a72b4d54838e1779a46880c0c264527bcf198b3fc41502b34a1a6c79e23d24a687971be93a21a6aad2b56e38619819312131aa00b76554497dc91abd1516349a267717c05dcae574e5522923da430e4e3852a2f63ee8956ea7569f2d694e0913d2f0c9c5a80667ab611cfa4ae23407a6340c8fc2b2512e5a91d03135cb314250bc9c901291a5bfa5853b29195c28e72393eab8962576933a278cff2a53e8f698f3145d9235fe67be522b0a42e0e3819fb2c0d5c122167f2a482bf301936625f84d1121","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
