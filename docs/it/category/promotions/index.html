<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5f47d329f61a0efc64afc2af98c3871656f41560d1f6b32880d0a4609dce76125fd1b51ed4124adebfdd1a6b666845935d7fa2e7556c91d4f9cc34754868424a2c0404a4d23084b56d32875f2b9c3c7167eb27dd68dd64390807a95810ec2b534b14a9dbf64d6a1b621640445f20b96fe835a62d308a8469f7940034c7759736d46617df709c70950c8fadff69bbdb25f961ac9baef2fdaa27f035330ac1d1a62469a65769b0ed1e918c17d1f123f657d3f2b998a5d126f387456c6d6b5d11656639029b7acfbd70553ccd552543567bdaa745f6d5cc5f8e39f07915e72f14b581d18236c90726bc52015a0247e09a5394204818db6c4e5e8ba709db0a3bc399aab5274cf59259df3894257d9e69b32608767ce6cfd8fe9aa23113d2a9c344def194bf7809f08dfb6b1a205839fef9dd4f1c437a577b100501d2d1a1b4384acd21272be31efd7b0b71c6e26bfb9a9fc4288ad6e04fb56024d82d3d70c67fa28a0a8cc2a9a115d399bcb3ae6593ebb4a1566216ded6d23f8eaf1445bfce52c023b7465848913515536a46e1eac961939f07ec91c8497f05c0a271255b6bb6954839c889aea9501f77297962d4a0ef48e13d2ed768f873476d74265d368b8440dce3a28e344bd0ba5d761f352957785af0394011f3fed50159295a40b30ca27cd2cbbeda95c03eec371464ba350cdb737c6e79cc1da3e4d2dfbedb76236fbc4a2397b9f364eb21982ec538b3335a09298cebea11a994e1025cdddb10fada1cb1d8647f1e7008d6899c874d81e4a64bd15a2fa5dc6873b71541ee73189fea03cda1eaf6339ccdd022d4b1f5f1290c83a04d559db8469a5592a353d6b39ce81c02d79d3f35943f9709275080f418472ca63d431f967f525ab5fbbd79ce872c4eed86776ec8b969cf396d3c2eb9116611c27d87eef015a18c3da1cb676523e07646672370758a1d0f98de1e03f208e4ce06857e4a3dca0b984fbda55e7487da6955b18d5a1f18e59c976bde954afafd5b7d501e9321a7d9ab887f153d2757344dc01d5b38c2d3dc05441fb6f4b3e19d4d051feba10996660fde7ab1086971f21ddbfa5659aeabf57ec94286be9ab80179e6eb37e760b7244b0f1dd7ea7cff9015724ec2acec356265cebca26c22624a029853af6cde14a29028fa847eeadc8b9deff5fc5e6c48b864c1c8f9822fa77dbaa29b8c3e6b0e021c64ca18e0e9d18021b868da5616418997dddd86bd6288c6824e110de4374d17e97e0722e362ebda342ef060195a35e8bca233294a3f1a8b0d9f97fb56ed41e42595de58fa9a2f3ca29cd0dbb1f1bcbffbea2fb0576efb42e8a4b0a0f568c86e797bbe72d8422c0ad94b604592b4647ba2fd7a0bcdebfb77a955a728c527ec51636273bd33644dae9850c771fd3b36d902743bc5e4d21add4bd3fdebb2c2463286096e750bb0d15b7276670adaa6fcd35df969422baba7ffdcdf2a6953057141db4928a4543e403ad38b75c85ba8a8ac6f122dbe74dcb2c969666d2aad110de3241e22b34e4068322599f30bb5e15c0d29b2a12f0e31ab21180188f8a0b3d78a76341aaab1928ea4dd95f4ddad4328f256c3f437d9294dea26cccdd7d227faf7269e430013f3e21b106400a764182c52925283402add5a6dc646574c298254a5462b45e3a4d68d8de45e952fca2609f9c2620eff4de99764461e6c841aac4d3ebd4f64099e08cb2f4d5b86397e74fa8b0949eb5e1ee3a2159d845d3dd2868e288a4d91edce76769107570f3d1fcdbd4ceb8cfa7e08f37eeedc8646be8e33749072c959f875f05b0042d483461b08a37af6ed4fe31a801cd6f80970ed65cdec80f58be108a7312e00259f75ca7d6ecc254603344dc11408c0a8a699821b63dea4fcdd296215fa6368c05152d1c34ea9ea71c87e760efdbf51410327db3f011247fc1dda97287a8d7b530102f2721b2f5c3724531249d9f2aa9d1674adf81dd9ef81eafade44ef2dae5283f8f9b1333f4a99c78c1d37a6f0712e8c88876e99b205abc93c8f5bd13a82e8af92882e09eb3b2affea010c47f3edbc9d9fc1da1edaf97a13dc556c4e26bc27ba5d6d9f3275c60bd62781fd25b87a9b06f669eb693231b3596082d24ecc7b637d40dbd51cf1bfe0516a10096b5915645355460d389f80058b570aa42e2c3d74951664ddb2fdc6f7a981b6b291a8b4b1ee3e73d91b8fe66bd694367fbe817ae507f653b983cea05136b5fb17863d75ef99a4b03d34ed40d0d1b1b5f02431af20040a5e0c27f1632d630376538875a9c367a488fd5f77d7a78e57176b5c18a5dd23434984dbf2de36f03f4381ed1c4d672465c3b446fece517db5e3d372fa001552f682b6b05f44e23e58851813824b88d57624b3b9cb13d763b5766fe91c6f3e1aa69c4f303536a12b010bdac349460f830479207fb894577bb30a8bef05d31fb916105f7e93356b0d0e8a7804729846dbcf10816cf3a959dc697613b3ef388703b5b72756c7fecdc0126e7ba5b845f3daabb840b6a6b8e72e38771d5cea8756ab27649e4f31fed5811563fc83b50a61508f271ca7fba1fa4c209835f35c29ab72a40e10f9109965cca29b3af8e2d504eae1c8255722a80643d6195f3983d604a1659f8f2cdc2b0de1145c41a67b59771394d551f28454aa5bf62ae4974f105383634e2e1978177836e287496afef1db22ea79ed88523dc71e78d8757e7dfb94410cb3e588a5de0a4a0afe96b40c70e1690b84e5f3826843574ce68bf2771e65eb3007db125de5904df2b55a18947058c9ae5ce85ca39d50c1d1cad1dd2556896010329976f1ff421424fb1cd4f29449b8675a4136147a0bce09cec4e070a46af8a7361aeca125cfd88032ac523d53e832eb520e22b24907ff49767fc3753d0447d3078397dc88daaa526cdc8d6aa148ef07b3b0174ef7b0d1b1c9ce0ad0b0e252926123c9e4941f3d36145d2e1f2a15e80166e08876f40a69a6246d31f4a2304d9d40aa142a3d85f4cafb052b4b3c12901bb2d1ee4f9bbe8d166d6023c602dd2cf26b35690aa67ab7b6539e0e23a573380ebd10fecd2f10d80ca3e620224a845eef3f193a2c3dc022c8ab0b04ddd2765f59297ec70c1a2663adcb322fd2401445bcfe5ecf3fe352d37c5bec822941ac6f25abd117a3bc53d97baa20923dafa1d1dc21a9f5004de62cccf6c44928d68a97e6c13b9222f3f5531d570821bc27876641029c725c8138e8f9ab6475cc4ddc5373883dfe7a469c39f5be108486c066e0686bcf51ceeeb422e5d68c81473e785c030b7681b6b4752261504cb97e9a81f1f0c07dbb5cb03703c67ba466d03f987625df6ae93b503002e2e9f75595b575c6424d4b7995a2a44f1d99bb57b58b687517ad067ea8ed630e9cd9ccc617c8f64bc74b59ee949dc68042ba3a90342187df5c802e323b93edd961e455def30a945de76bb7ef0ab28ecc68aad2aefb042363a993c7fdaa6e4f5edad11e2b71accf99681c118f59f9e07cd1c0892d9d8d12f267937436bdb15effd418d1e79fc176dc7a2a9c8b88612aaad0d8427b6fad9c43b54681009cccd6300c8a29c261a6d771019753cad2e94e0e78902286e9e15a73f8d402e6f282948a6dacccf27c795a2ea8bd7ad48b004fe6d1ed2a97fcd0b06fc8d85d2167dbba413c3e45879afd3778578df838f8e9b4e858e3647df7ecb11f55c71469310e4b7656c7aa8ccc46da38e622df9910f451baf030ffe8717902a96aa7cc8313c1148b827b7cf258b88f67b642b330847256b5d6612fe2b8a2b2ca0efa47de67f5bee8aaa0a74d6d735e2d8b736288ed0924be7062cfbb0cfa59ae5773241f5fa40bb6ce7865b54d87c277973b670734e2710ad25547169072125415fbf578c0bb8e5bee95899607594866bd0a8304c2679547d4ded8f415fabde69dc53f8f12afb480694c6cddb2b5b8a48da2a99cf47a65b79641659d8bc9dd48b6389354c9d67e98adace0c54da0cf746c05ddf33d7876781dabd658424a4c97b968146a7c8ba725df806accb201b1ec3b9916d8f33907a958e33185439a011b057f0b2b4b9b4f9380201f5c94037e2e238fd214be37f8a3f7997eb2a262de60e45f165bcf2b6b6290586b7d74b9def05001f4fdb2ed2d7e1f836388ea787357f42b78c8031c19f3e9e68b0bb56d076f1e9d1abf796b6fea062e319af1d748c2e59a994aa141b5cfcea8a68f019561f939338cf75ffac7f77a9ec7e2babdc502d1817e222d92f19221bc139c2358da102773360986af8a896ee9ec392f4f2a6ed0f8be46a965299bc6f5ebb7fc799aa787f99fe1c8b54f513105bcd7ce18dd8d72c6243cab050c18bc1fcfa4554d4da01ac46cc47c0aacc89ff3cc2decbd4ce838dd6e79e1602547945b1261f0877f8ce49930590f2fa4aeeda5fc103ec98ed5250318d1ef219f6aaff9ca3b06c97356afd6f61ceb7b671b5efbfc4620d56c2e47d847429fa75d3a748a211d4416c1473a3e1893f0269d874605724dfcfc85af3b72eac000604375f08b125140ce2b87d6adf390558da5ef3fcf515c6b64f270c904669f8d26e6a9075d4676b6b5388bd9fbf2b9ceb682b8883f2882e91a25025462b958e70f5aaad09edd80d91959e123be84d30d1f6a10ef62e1aa6401f3fd49b1c3d55dfe17eb82d37105bdb8e8eb660385750b3f54060e9a317f3a37848b9f03180941bbe71ef12f6af8406bd5758b4b283cc9f8a976736e420918f9738f429d734bef8ea7d1e298302337cf15358eb68003f54f6b0ac5f15ee6da188f0abdaaa9dcdfb687a6ea57a019ae374d957402e8e03e2338829f84e36c6cdff931bd3db66f6a56270dd5acd4e1cb941a6a8e1d5c51e72f89cecad462e0f758268cdcffb1dd7ac5d54012ca1f74398839dc90b86713afbd645d22a0550c01d8d081babc6939e9224cb36b70bd0d8bc924250735054f0b92d913d620ed5be8223e22aeac7e07953c8039c5ee3bf715eee971b3ac4087ef7115198c0ee68938808ecc7e105e86d33c6a387254a59d3d4c71128755a21d3fa2e0e30fa317c7bfa8dab11a9dd1c44fea5d82eb4724be6dd18c72cbbfe72f579c7816cac33a41509808ceda9da463b2ecd09a15749ccb6f7a3f0770ea4cfd4dc9e11c40c7a6b6b3b1439925fb9a410214a29e0cbc372697ab7b02cbf85da83b644f3f4d0846bae35e4c45edc2c9c9088e5536f98ac2bdeb9fd8ef83aa2e71e77656d27bf2914d94f7b82619f39f89744b1c549113274182a1212e0001fa4bcdbc206d2f0c8c265e75984c8c665406c5526dcf50d7e5b3d9293a9f4c5231ab781d44ebf6500b3af1f576b2609c6910260ba6bcf012352c2384f0a970e98ec7f58bd044a0f4b5e9206bab10c97fd3fee3db038fba9f1cbe5301163038da51179b72920763fccbe54e9eaca9a5bb60d3abeb35e874a94973775a6ff0930f1b13ce2177a0dfabefd330b052a68a06dac493506c9a9b541ab0df20665787d5f008da3db9c237e10ddd1f172388d52f35fbb6c98f34bbf3ed1034239981c2abf70cc3656b00739a1aa3e9caf40a566b8b0e23662b2b901430e15a09f6c9dc1994ab291e26a07b1fa6e00493ef90ec4880b28f7c5ff1eeb56878f22e2d63818fa495529ac0fb755bc942bbf4008c97c494a155ff9205a49be5ec0b223f68a5aa0dc42ea022300a415a4330584a94cf45f55fb50ed4188f78b7d80fa88fc72bbe23440c4b01d621bd9ae6934e6c1a4ade7a9d0cc00e536e5f2a7cebe30a129dd79435d8e9be10e1d2d4a8c28619aee640f43ce05179e648ac66ab563213cf51f572eb7af39fbe080773be60cda04ad3d61c049fcef43043c257e0169040645505852416bb6023fd17f7dd8b7b303d46bf10255e86d0a923e1a462b2e36ff54c21d007123699227344ef0a54113bb9d4ec5f2fa648ea2e342af69420781f3cf96ecf99b7b8e38e0c551fb7816fa64ae32988919901f61e8d306a6d09f6f7cca8f840c266a315e244765b4d20aee16e343ddd8aab4517d1de845ede54dedad0d0211ae4aee5ec2388c16171d1d23a363f99d0f21fe7ba62ae595b2bf8ec5d62cf36b6b642eab781dc9c127f8b374e220ef89ca23367a3955fcc9bb608023c14c7044a8fe141186c9daeb3ff70564812bd3ff07de9fbcbe7f221fd5ea034cebc295d61767d1b96055d449eafbf155a432237a8f52ae62d9a4d9be4e352ba394bc4df36f3a7860aa7d44f1431a290b9603afc4aa95c6965742cee890ad81dbf5dd854bc44193ef5fa300917f064f88ecae4e9a4a86a98575f31a0a8d7e37c7ee54d12d2579560c379cd90dfb3b39dc54531b1729e434fcb0bb98542bfd7bfd6b72c03c40dea558421d3c29ba180c4f18d5b58f9be3dd0a56063e7831afe8ac37d30528a40184b3432c890a775c2ac12b15b6cb0d42b4aeb204787e78268700ccb225ff24d888b6d710d90f33b6efc53ad2ca6f7b1581b2fdd690962d547c17f353808970cf7c04e021257fd731dd8e85e1a074da8cef94f62d20991aa0114ad5d5ccab9abffbdf781446a285646b0c6e440ceab354d9cb86385438855a4ef3af3e9b445603b4f05926972854c2487e90e2e04b82771ada961013f7476b13981584647ef04a77c4204681128e50bfc0299723cfa3c4f8c33085b4aff4a0e1c0b896f3486c9b121afc16eb61dd32d61c1cd03cc8018f2db190a7e1d36028e64cda1b8695b8ef8ccfc190302b8654dccd6580c0b80da3928d4c349c9107524c5ab2489e083214635de36ee3c30bff1196837f5624eb69c64fb95192d33c8b5a4999dd5ff74093f01c0b44d4ae6f52052ca616952705b6844626237beb7e46b7691860bcd4f6d5a44df5c5266843620449968cdd31f5e51e372e330ff1c4d676ec98e25eff0f98cb59031e8f673a25a0134c11b7fec8aa85137c15c628738243e82ddc80abee99c17ece4731979a7657a4d47ae9f2c36a7fd555c7d426b34267a91a3b25fd3ae02c699862db3aa95130dd18b3ca22bf11977d87dd445e645ce80a5284287e2997bf2c27ee3178e6b763e32c2d8da5df1c16e7561118ac1750661c97f007468d9a605d1e166a96efb2a224949abfc68d9b7b4b9f744ecd35c5974036d158a707ebd44626e083b448f3b9c0775894de393c9f8962c5e0ef9f441515bf62c273b060f33161046376a30b4d53652cb06f70728b6fac1559092b02e86a98cf44f40fac5aa5d0b426b852545a54feb13006f31ef7abfca8588515edccc6c87d82480ffa8fd9d3b77d9a3bc9273664c8a32f05a0ee0005c5f2f6b02b5c836c21bc34f750c266eeb0473f37de012f7cbd63427142f0c40e05cf677a69a828292a21fcff9ccafd2d327123f9ceba51a30abd1d810ea614e17e49daa54c963bb8fe0d86ff97644ab4750d6b20a91025a2617e50ef66431f63583fda7f6a3f6ae707a294060b29e023d2278a1acb8b84c1f0da0ebe4d9fbd400cfb3a1c914346885154906695abce6e73fa5eb5a4bf3369f007fb204e76980b19653c979fbca66d455836ead9a7a7f9cf17e41e7f6a1ace16776a03eac090ad14cac5e897328c43a32459582316ca8b248b47b65a2877a1e9a5ddfcf5c303ce91a6853418308774c9ad0594087d9095ccd03ebb7a1844e30e9ae46f196ceedbc599cce44a04d33d5c8d14d00fe88a280e089cecb8f924e9f95dc39433024d13a7dd34f03541f1b40818022de7c87b584cc90704f089a24cbb8081d575362313d89e52497e8c8e387cce8066f2944705c6be41e952577dfc7630d8f6dcd007e5b8fc6874899a1522f537d0dcb5fbcc509d14c72e1eea4c86bb950e6375a5d0596cd6aab70a82b2cb5fef1febdca3f4edca7c41cbb301d81921f05a53166f0339b72fd7fc9a01710b8b744b60fb57829738fea091123982bd026baa17b016d6df76735d4b4e352ac27633725ad0bf34c2056765fbfb5c516407c5716303776e16323e67ff196a9bb8c91ff83e3403b319996d43426c6be032d575c36148959b417ef183c4346d004471b4259aae6ddb72e3bb82abb34b91aed15725d4d008aa0cd6f154f040873c6d5c544d0700828d0dfe764052fe09278ea7de680c728c13b36c9ebb5216b9de2f6fb1d8abdfb449d8a44ca4a67c05d44ae592587d760ca9da82a46d5d157d3c1e1b4d0eeeec55c74d778b631ea6547dcca0b50b4e1c2e02a169e909c1880c93f634209a7d061d115d1a7c013abcde2fc0a19d27dfb3f7f44e7ea72cd114794bfcf2f7b65e456fffe2e5a88ca4958434a91f4f8e4c853366f3b69c0356ccd0278787002f0824492281d854626ccf363ce193180c2daf488f615a5452db1395a6ec0ed22bd50f3a943c2bf87b69d07f864e2104ef3a79137c78558db08fab20f0a2fef1c7a9fa0646bbf591582fed16b14e85f1de16cb6f020435b6e2e7f90bb479c3925e8d3f64d696f79ecd71b1bd1c9cb36e49ce6da134bfdb12478edbe15c41e7aad5934a9eb1a7a904f862cd162397c481410d9b1d5c5a6fd6949078b11f0d4d297e82d9d3243eaa355bfd3e60cd88ee42141d140c759b5be795ab6b2a40cdd9374b4b1376f14f2f76f007b801b7feb40e27c94ee2a1487d66f006bd4775a7722e46259c368e46f6ac736bf4712678516ae2d25b14089f076526d42afd18925223b39640679ea8703e8a1c1f0544722b1567e12c9166bdad4e08148199a862c7465c0b2ea9d0d98f15ec93294cde9e4c94c08e8c95e28c9eea26fd58014211a731dd8cedd5408e5d5e7be2fb087985c4927e9c0976fd3d2c3217ca52f1c7a1e92df737ae8749e050a73836b56fa052adc8881ffc059b899c01029d3d16637d177f9df208bc5e101bcb7a58a8cb06219247884c7ed158161e58008f039ed55dac5fedbbea69862eef375226341c38d85dcf89356bc062e084cee5cf2868a29931ae61a024fca6cc42d53380388ac1d57474ab37b53cff7d173cc008d3f085e60153d0d41639204aeb714ad6fcc5d823779e36dfa2219df327b439a85013cde800cc25670d269f987c4772e1ac95090a415290b45e0da39e949d9d01e4f32a3b9ebee43d2664569735b1ef04211bf57fed6b809d137efc09d01e0691d347a2300fb17bca8aef18147031894b51d5245d735cafb90c5879daebf9e8d5e79447a22e28c4db242f50af3a8ddc52dc3b8f56f879763af77a8376731e15206602344c21658186e42f5e9ea28b101f4976d07399eb69b995634483ab2726857148e314b9e3ba00e00e193361f7955d366ca8d40fc126a3d73cafc8ce450fa8ff4714afe0557fe0eaa2d56f17eb216b8421c4d4d379537b112ae32596b0e39fd172c38be4f2259d5fe4250e34bea714c5c20d2540a9cb9431171418cd299d551d1cf87ed74e27b2a73cc4e7fcf2cbc00119455271cb0dc4cd6a131926d20ecda4873fe08b2212e5e6e2cdfce4ee31e0b77acaa7c5aaa78b0289ce43cec32b069c7058918119213edf593684216298e004107f0a00c9801bc5b91f7690dcbacd7cd58c182903e36df5a5e57495a42ea0d6bd8f20133cbe4b8f2f167b33ea0d4a9465ec7edff1e59f3b85064925204cb336a24a6c4133896bb7954f78c92b07376678d8656f9049013b316c175c8db103c0584aa596b28890f1ea662a72e6f152ccbc8c89311cb4555e1532fe4180dc464dfb4f471dfddf86d7b78b63dbb18c28548b65d753b6bba8e8bd6501863edbc6ba0e459006d2134f2e8b454e14921ac0b0ca0cc0b0439356505121b6166cc90853c759281be5611950897f2f0f0a05f9f0a946a64618c6c1da9f76c2dd949f23655260bfed8b8cc57678c2ce50b35fe7c259c54ba3afcc651e5c8801e64b00f1bd87a7acdf4ec8404aed105b466c96b5ed3042d3380dfbff4dff63a47fec810f343a6da2f9c8297c0ddee22c18685d34c4b6bc30d362c8425956f1d97dddc2f32185376b0f3f9c176395f6d297bd1a3ad7d2593f191cd51d83992162c7c838152ed1ad4e2917e3f2aa39c6e5b2a52c9091fa086c092b5ea01884180da7d6580eb3426d43976b48ebde7ce6931edad47dc8c282a38682ec23e6234b3ded87c590e534a418f537db793c1d3fb059a0079f6210f11227540bf9b8351c2df214b23d3a700dd3dfd9e55b1786cfbcbaf26efe3a3aff09449b9a8827304f97825f3880ac79882c0da4e78c90877c9205bc0371b1316d3deb0688e24bbe5b4cf8a6bb6891e8e74e0c87b0393206c0c0557c3d0ed394dc199c7f881e5aaae2772e42b86cd1ee6a5cc751376f32aa4a6c306d94ff01f5c85e6f5cd4b10b64a1504012aba7269c3267135db6805a849fc470c4b1a400b3d3ebf3168ab4a0921dbb0d41ccde223a2eb4b15eb81588cb98ca51a6dfddcbd5a68e3b9896a76741c7e20670ed6048accd6aaa865280d288494918a9b6d6268959fd3d5b155cbbce1afe90953c3d55e37cff8e5b3ccb764915c67bd879623e70739c549877dff2a75e43de78f5429aebc1cbb5d62584b30813a07734524be64ec83c0b1bdb1c5888f6a36e257f7d53a930444a30ef23686fc2933056326f2198f6c670e88903741eb70f470230cfcdc160ca2f0301bd90646e0077c9457a0b66ecfb1dbed0e7fdc1d48b3b047bfaffb2ce4daf1b2d05775621080342380b33e985d87e0a8de0cea67c438cefb1afba191454b403f50c783f356ca6f24a3e88a24c8a1811503ae1fc619456e3f92454ec20b18c308a6b716b8f5f45f928a6c6d665724a2d5845bff916cedc34d279bbf31ec9cf012339d388b2c93b74672014ab3a54c05d4a269037274532ebbce5d31b4f34cd0a03d08314e4188e8985288c2d682ea0de1e4690edc2450c73c1b536e55355a31702ded1613ec6c0843277d7da7a4a247228d63075d48d3f34129f82bef16b8ce32dd0532742702e4dd5d2fceb33e30644b39c14fe28079c55969f4c035920c0c3191fad6ae500c3b4a57f774ed5bd935295b7e2eaf4fd41b4a5b4fed6ed3dd32f9579ff13b82fc58ff77cbadc6107651579f626907b9645789509e18ef369891f32dc88a127037f700db1aa0a150f31deef264662b728fe48821124297968fe5f5e997c46e4890be1db91493e047deac212492d9e05b14967a31824463481c6d04dd33f430f461c21e0b1e9f858d6f748ff92ef3b8fe22d3132bee77767dedc0f68210ef4e4afe188b953cf773e4bb67da8982cac59227265030a1afaccfccd740f8014862452e24f4ab21bab5a4d215953b86f9d632304bf029abfff4baa777c8cb8e589b1ca7d99c01ef2bf9d3fae81b1fe10baf2ca5cba818253bcabe56853cfed169cc39e8e0fabebe1c74f913f97db6db03c4321a6296bcb90a238eefa472f0e707fff8f6f1c516965d0900aae25d9d5969565bd15d36fdf22fb45cf79d3274175a68777aa6ec06f7d1e382d0ccad69214e1f6297e7e812b5d3c1e112c9d62e172d120e2447b43a960f40cacf7b93380e19b1f2c68a6f13beb29c0b73182c478a63d77370ec3cb89b70589983f88a1acf67d7e12d832c4211bea2bedc1ffef413e5adc1b589fe9821570aa12d42209041c8d06cd4d140fc6067a4b5b538126dc3e04ce79c8d9a6f1a521af7e4fa6e5303c036c275f8aa3ecc1a42bb795c8a33fa7043c453e2bf5e43a8c704697c9f506dd1abef581dd403da0053950a6fef72ebb85b124eb069aaa70c4a9d1773cc19dea9ac56d33fdcf398b7ffde070e683cf787f2689f272e822132c197eea7fbdbcee7d5dcb0baaffd447640ce276f1b6ef0c4807a0ec721f64d4cc350e6e4ef311361ead621e4807d8a9c63670e09834971754fccfbc1f55ee4b5afc226f655c9e771c787efa59f3decd06b231037b9c7b9042bda80fe03a6aa052fbda4a82cfc175624ad0fc3e48784e95c75141b65fc54953bf8e559e9d27c3d2d11803a6d38085a2f75b48fb359e673edb2407df371b1fbd7545d2a4f1b05de6fe309a8a47592e8fda8d8bd27afceffc8eaba0a08fb76a89ede02d76403c1cb332f9ede14f49f3c3c51a32de1e37315fc06c3ed76a1aeeaf6cc8588da2335f44e212ffa0a3286a2e577deb57118ae4fc6c2b3c08fe7f924a6895aa836685c810434abc235fd4f37a69b01f459443dfc01975ec796d9690054c1febf46eb2397637d94b1ccd7e427adff28d520e9c2ab9589e8bc3fbd8807d71003cd5d69500e44ac0fa1c15414e46bd3de4dd3f6d947dc09ef6a5926c28913d2d7492f5163cae62ae1ce9418ff613f6a8f62016d2774caa8e211c2ba22c80e900c41f685833a15617b3ceba9607a5926215cd3122ef1467f571d866eb1fe2a707c02884fc8d74088f1bd1829f9149da5906589cda436168549927e16a38fa4243aace3e12d577440121380c709f727956d47a419f5c85a778b11ecc2556f9771fcf475e15fb55e4e81e1ce4f6f1759cfaca2d3540ea0150b63f649c1371c3ccc0f4c8602d2eb2e32a5cc7a1f9990bebfa76772153ac6500e1e4369421027cf32dc3987937f646531b0c872f4e7a640787e23c6cc8860ec4a3a1dd0c20c57954689d3072b181977a41724ceb14ed0e19f7028932a78b6ec063706913e7952c9ab6ce53e14518f1447a52830a9b3d8290fd1f8bb2bb0e3a24561ec75026ea40aecff89a94ddbdfc8c1c8b9b9fbb8212b969a86f66f078855fcbfa146693cd257c2b3208d87a9843f9d45fbeed5a4ae7480486c28ddea30584dc1cc2acc3a0739754610080bbed9db93062d09e570c235a0e6ff8bc98ac18616a3da621e78cb30b856f585e004ee883d5d5d14ee281ebf819614f9db477db072aee251df1b9cbd768762331ca14f1181548847af8ed3c54e66ec2a1a24340da87087201df8667e19d2587dd0b5c344aac3b83e8ed4a4c0461a922634c7740cdfec21cc199b293192b6f60bff41daa9b725eb58ac49f293d8a922f4e057a8e7cddd77dbca485761bee97e4c842ba566a06656a39a230ce9d72f6c425c7c8fb36e67dd34391bdad0501af3be596bb488f4ddde54e896fc6561e0cdf85120e68f8c6cae4a938aaf88d13f764e899044de19893814e3c0369b77e3dff00be5c67b61fb72221bc116e22b3a1e78412ebacfbc75a37080b79fabc4892a3432831af15604c234cece186f6e718f88f6c5bde09c1dd1540e6b319d4752be23aa16ffb5fa3fcb26e40aa6f3ec88d82ce4d8479808307594f3194ebc9564bf75dcfbb1456195738fa7c323cd52cf5a6bae5af6d7e7c3ff3b58fd106f93b9ed2b1d1f503fb1b8f47e014daf01d0abfe7b6086414f8e682825121a38cb2a8af68c58b1d71642f915e2608035e2ca70998ae3214c2553c7b27adfe6eb40ef5c163b1e0a95c402a748cbe3daf9326b513e20bd5a0dbbb25ac6daf347895c937b30b6e655edbcef353077893b1147b96237870d13b1da124c630aaf86577bcd9a40ea13113d1a377d5fb191b7a2b47727b8227112c5fb6a06d1dd98d2c42508c4eefa0fa0d4369aad168e06caa031d3ed4157eb623e184456f83bcf505b83107bff5f8018cc69fa02c099f825682135230654b7a6e34c032de52c53979dc952b0fdb38cbf3cb3634a428164d70f3e75dbf464532da1dbdcf32c78f6047e2a20819ce86a11ff7bfc7dd5896c035dd29214170c28229af1a4bd4673298b06a0334acc7cf724714498adf0e2bc281772cd25b58c034b18494e65a2db0dae8ed190e69c193ff03acfbdcfa48a7bc8de348b88741ef8c848c9c807ec275f68c3a3c1a92b46290f9c38aed58252d36c4f8fabb7c7f3df7cd0086d464e8018f4f7d8c9b0b11370b7f4b04fc991a923a70f13cb0e92ee78253ed2596782dde10bbee163ea2dfffded16ae8f02e66e6e678b8e7c88a1dab6d612f37e3c909936a8c1010954080372f75f58d1443507b271cc641f1f40d33d59927c1ce3ef56180da6a26b9b9a0c6e29aaebbf777e68be8eb385aeef86702bf5eb7c376728e1554942fd2eb96a68bc4f504641ce478b0d4cfe3251f5f863bf2d083d3cafc54ec8c2857db708494752894c569595a110cdb779eee2a6c60021eef6a072abbad30fd5c51c81b5a684ac5ed4adc360ce4c10aec6fd6c4449ee92e9da1fe9bbb06b96b773202795aa34d70e87e42e6e529f2c214ffbb3feaef332d681e83ed29f0b2a17ae7dd42f08605a37e3913945c479d7349c7d9da289c7323bfde1f4626dc7fcfc9bb6e00716f9523fbc84f54fc8f9fba939df2b7b961e46b555dbb4cc8609fa4208e183926b32bba7c5752f755acd0f801a648633c66bf221dcccb9e09189fe3c016d25a83ca2789b26023be24b0443750648c4f1a377f1e4f3038e1296d2c4b191853cbac75f41267e6d57f4730eb3b4d379f25df370d33a5cb9ed7623162f279d912abe0b500e13e3a2110439bfc1a87d5f5f0fbfe6951f340d101c2ff3e010cd9f856171eff75807ed9d97ff088f170e7bc467fd9d35f66eb5d8d100080cee8f670fcfdd2b49dbeb46b5fdbc7c9ee3752cd6956de8a079eff0ab7c5a971b1a8f655f99b6f1e2298f5f425d3a75d46e2ddbb43cda7a2883008ccd44ca4eefea027ae440f3a70b636ac2cd8ab93e7106bd1bd88437baa11ba0779abfd58b91f1707c313e07822bab6cfdf57e696423be28ad4d0bda23b7f8a9355b2d522298765abe82c979912bfdf677719af4ade29204a86c3a7da44d0fa8f7467e32c09cff21056b4c114dcd53a6fcf4a31c400144ceb15e4a4286377adf605dabdeb5b8fdc72aa29921f16c71a76d98e238cb86dee14f9b9495c6029a22bae67bf31afe26985a75b2205ab2b01272ea71cf5044183d4b756a9f8740208bc6e9784c1ae118adeca4ecf3c17ce2c38d7cda096fd945dab4f5d5407dc414ab78c69476804445c9e3177e2333437dce7b45c4122d77ea2d502a30de5f80c2075d672daa7e9e3401d8c881ef8bd42cbe31df3e2ab32a49c88fc0529ba6ee45b2e196bf3abcbcaffd9a0c89f3c3efe209daf3e9f8ee92361877377fe1ec8421dcf06cd32130a41cd069c5461f9141d51410f42bed2ec2a197353a4c25a9ae4bcfe0526aea4cdcd0830ca1daeda1d332a70688bb548de7126d6bfda35ff25c422ef0c1cb5396ccb12f73575273672414c26c7a52ba4c9049d6fd0d6d341ca7f05764b9e5ac006c05d1df0fae910044c9ac552e2145f1a571719eb1e28564a259a0f570aea469a3c108561b152c033fcf28f49c82238dc3205476eae8643d1a875fdcf7c3255326cd4e4f721a838cc20f4b5c08840027dfe96b12c570b4da3ddaab6a762c684a772c536ee3c27e253e78a0b0a1ab7a9eb7f3faaa48b5df28e2c99af35d128367abdd40222cee2bd41f81b5e998c0942d65e875cd73fc8ab997781eabbe164b3b168aeb06d707e22724d93bbd1d05a64fac76c9637cf1e16a67a540ec8c90607c3e8020b07fccae44d8c4e93ecdc6a3a2f49b2eaea58003d7f1314eecd882e4a08d8c06dea4053a08014b1a376ed64ca179fc978f5480eedbffdad98749905d39b813c796a6e0207b967c53a2d8a82b0635cd7d2f1e76672583c1099354cf5bc6a2151ab1db12959253c7cad9a9482d3720b932b2510bf102af55e73ed8efd3d3ee5f0367252d987543e5266e3b84ee32b62938a01fb0887ac7a305ac85a36b1a638599b76fa91eb67840708b758009d929dedf7540cb2cfabae4e59d73ff0226dd818c0b92c0407339e00c5035f8454d910fdd6db12cff99853a13de9a113a66ea709610d00a7b82e50929555cc631bec027cc59b9d7489f08c0f408a218b23a092203fd2b28fe56c7e76022941cf88edd18de5f1474dce917694c1901281ca5acc59b229d53041ef2af75dd935a44ed44ee6eeb5c25a5ab0a9f51dfbaf3896de242ae4b4b7bdb467e978e67694e50e2f0572ba1afb962f3abd07ac8ddc2f869333aa125620040d600d088e96fb4aaf9f1e64f055689e9b4de6b819d445867aff44cfa9dddaaab965779b27cf7b1c8b1c2083df183c9da25407c06ec560ddc0ce268fe29ebb7a4ab9c2543ac42b9e18ab40d5f5c397140f57840a6c30052356212907d6c8a280b9a7db2c3cfb0fa9ab94095e7ed71e5d9e49a1e1c23a69c57977703df991ba8f8a6a9d2aae54b1bc5982f15b52772f22057163315a9781340e5446487db62625eeb2e4470d9cde905fb8033660e26950b8265a36be88c365fc2e9c07cda74d50ec3385c71d51c6b928241149c01dc39e1edde5b1aa1f56162ac6436361fc853fbbb659b3c69d0364bfa3ab0ebfaaa0484b08a8274f3b45b9b0724fa100fc0de81f8378061cbbc8f141d5299291f1f10e4f3b900488e7e3c3e0d8ce71600012b00577a60e6ebfdc49e2767e5e2ae89cd70ee1c52265316089436c99a57478a4354704db4c75472322249be4e88955db705c8ef2aa31e8c3cffa7e41f96ba4e9e89be8d780a723046918ddbac09e895cb1f6bf5f7923a7e930bac2ee3345ac8828a6f57b7a525ee8d2372d2fa1a0f073b80ef20b0ac91dfc879e88353033b5150f0fe9504345cf507bb91c171ca2422ca929b5f5a159c63eb10d88b42aebc0fb6febd368ab759c54a4641c3e00cfb562bac9dde5e97e5d1e547fb25bab0c881af21375b1287133c3343255e7564b2c4e9791fb99d9cf0128d5beaf79b4b4581cd548f5c21c2804a37bbfd07ba6a35ab6826b1c8c0f79a06caa10c44fca81ecb3e8d6325f8b680c120bb825d2b76e5aa29bf243ebaafdaffb0fc042856b27e01ac1542b4f86eb03534c6e594778271272565f18801a146c6e1c0e1b632d92edea6d45cc5962ef546504a131a974941d9cfbb99900519aaf3e6ee866f1dffc61556d07fc6138cbdd8157f6d40e0127c1b69550092063997306f57779d21c95215038942bdf3a295fc9b8c0f8c1bb535216e3a2180dca32cf9bd53eed3bbb73a465e35f85ba0d7e5b25a426bcd43b6bbfba3be8c2c0b3533c36b26c27a34e04758acfd26c01692b826a403502681255c30f6052d0d557522497d7db36c4b25bb5205b65162efb504263a0166837e8dab8296e86ed1401cd813526c8f1101ab699315c93da2dab2187b0dd67d2c5b014f98e518797bd678b30c11bd9c63e94f3e75b5d9e497e4e8d3c007c451c1729de9c322be918707ae4d657bc12d51a6edf5c2821d63e918bc300c8a03b853bb0d83a9fd336b5723edf8524939fd682a1247614e0887016717cbd364650dd0901f92e2955594239af70f09058241db4e600f4f88b6f47a4363756d547adc36b178848a65ffbb36f6370ed19b9a733e76df126b1419972a4ae2e0f79afc00ac653f7c9edb2dbff88b1a6dc6e659a92086c9fde5f09ab5f5855813acc09625822207ecb70962cbcd5ae3ccecaa4e0fab2187fc47e70c303999a7a940325225f7e8172db0ca5f348f08674d17add2bcc72c6b356382ab4e41186acbbbf6a068c4d519062c5796c27946651cad86c9a47d0be5bfcf5c2f2d1efbfaef7b45fbc4e365cdae90e8bbad3c571a1d1eaa5f3fe219b06370c48a1f0133875f5f33ef7909d39643db540c884afb98a877fea1c0d3e4a39059515d52a53f9906fbb6a2a15516c544d5e8b75242cd84b37a4c391fb731f613cd7021f2970f25b71b910c9308a2747ac4c44db45da4ab0d662275fadbdf996fb4c03c542ef1cbfbeeba7d484747fee36125ff42a1316236e3d117815cdf5c09618c481a92c6be722da2c542b35915058a3e5d30d2fd7e73e066fe86163e4800df05f5fc102e4f7f674e085d4afcf4162ea050b1f1b852ef28a41ef88144aa4353ed6ff54a17b6b79a1f4a4017cc22c172cf4e60ea9af5e14573875b5222501bc3b9460ab03272e86ea321edee0cadde82b7d3b5931e1a70f6b81bb8129aac561eeed9131c474ee817069e7796618bcf05c84ae49f7192e25612f9bd39304875c6f4e4d3ea41e400ab776430d000cf62bcd1d633ec4a7ff499ba7ac3194a9907f08f5d90760d394cb20ed65277092cf5d9906be7c682f97ef7a699f309a31da78c27c8a7833c0c2ad58a46bd188633ae9901887e6c8b3c33b217613187a2fd7373f56b811f65a065da005d1c1bf0498cde7d9d3240050c7029b392ae750c8b9af544cc23acf0cd9f7f2afe1c4d4a1704d11f5b96b63e11e4de7da1d83eca384359bfcb3c26658822fe779a6e81b8a33fbb6f6a89cd9de78efe8a6a819c3a2569ca793c52f02bce50999149264c4f93a5bb6d5019c4701e6b9b8e67562e57fc8080bb110d8e1770245bbc1a9e484bf0dcd2c0354245aaed0a88d113c25ae5cb0942589a1ffeab259ba5871f1a989dcec7c6867ecbe18835a524e38cff3bf82b6f9fffa2b0c11e5624d8253e73316e0cc849ce37b466698131c541e763927f16d329c555ac8e6eac35f0a9506e01975c5e0df6aefdd1faa08c1c58712fdf8c8affd7c0894457821ac13e14db477f9f8b6e0b75cbc8e7c2764a554ce3e6245d99215ac826437c58a0912c7cc6b691691e6a8042a1db1e80132122ee54b77ff90b90987232da247850fef83d7724a56e1f12911c46f3d59c86456b1c655b16ae21ab5a33e716f5098bc2a57f1086a0e55399e8e343ad7de4c080ab302cce1bb14f2190c3195d4b6f298198d4272752cf73ef7f933942b54f862b519048d78c3c6bafded7fd100da1c57c8608db12745786430e4aa12dea54dbb0030dd74794a2dfbfa65410336185ff9e3ea13f1f5873862591c9b9c953a97348cb3ca00ea94d3f55b16726bc80f3e030892593c5fa9afd3d1b25ee5e4071b34ab64a74e5f4bffe4b72ee90ea8fb917b6973eaba216becd6150cce5db8db7076d12d38037456ff410fd4b056329ef6322108f2021fadc1521d134790185188682b9978590af4ffdd63038a7d79b363a120ee27847b154bdf92374f555d87bfbc4bee432a128748421889f404cc267ee10433f2bca19eb9527b56e77c2bcccbdbe0629c319124085fe859096ade61ffdc24d6f29a3c463cf7e0434e5ca2e48e7f6c9c4f749b531aa0304e489ce444e93e5b5d43043c006f7d6112decf54844c69f6f7366be9cf6b475e9c0312a96348b97b9e384a0f2c89e09fa9f7f7d69a1c9aab8793ca30db70eb836eaf45e412a79eab1c7494e0e02d880301906f4c49f4828a3ddf804af10fe5b5cf0bedfa948419abf845dcd775c88729d795fc8e2f0ff9a9bc9b8f2f8c39b9ce3278030aad43a83b8dd8bbe411f69d5616ff424d74a88a8a5833b13839f9f5ac912726eb92a02a80d726fd5fc7560ad2746a6d34dd2ef3a8d5694b38c1a9117b0a102eb2f7533bf9dd9a95d085024522fb7577003a289dd7846db67807f9720459ad74a4767a857cccf15225a87348cd4675c6be2640a1420df9c452903871a8ce9116475152bafb83f7c390a128d87a58bdc3777956e6606b6ce5f8ecf263940860b6bdf9fa5564ca5bd5fc3418df6e948b41f5371c37e54f3f9eb50b45ac49a1cbc4c4e87bea869960665ebf99c8be648212699d6b79dda1808fce4b9ef4354bf8c76d5dfbbd79bbe8d9955eb4c0169c28223a2206f761fffcf3ed1435cf3b3800ccde7e5ce40f64165b1a936c466d97b2397c82a8b13d6d368c3e801ad20c22f17ed34c9b0e6af5d176666374238d486789fb38ec41867d644fe5ab42177083d60d98504bf922a89c55efdaeeaaebb009035bd2113f1c68e33ccabd8a56a6c1c925848eed77019d7e971978ff80789b2094e9eaa48a37319af4056c1938106a27c05fa53d96863d1a1035a3d3d9a28f873803d76f3e5270b0dab6a8281004f6f6af4dd3a4133fb63947cad1c3736973f073be7d917b79ff37b08c822f1e2a9555d1873c752074aa6ff58ad45c7c57544402a6ed6668ce54b12a30cd5603465d18d0ecf83c42246f5f7b9b01b72773912875d462e39b5ae9ad6668de47c2b302051369deee53a2d54ed32f114ab5ea3a6933863be4d2586ea8107152e1c8212e1d1f789c9ad694815d8f88043edcb9ab44e10934d89012340bce927e4dfb77be80a44892fc15b76138780d37fbc01f6f73fe5ec8c96701bc4948c43cb21ebf2ac9708337a3fa4eae18d57f9638bd96acf69cdcde947e29758219084acd0d643cc8323d579836a8ef649375d004785236b980d0e88d69eb4e1aa59a1590b0b5e610ecb9f8d24b3aa47281cbf17809b4365c19145f43d5072b31e2df802b9737cafede2a84919c5e199761ce2cf8f1c81eac25a9f0cd2e696a625a70c7ae505478d36daa0f2861d34de9ec9b536914fad2541bc4f6c2dd21a8bac7f733b575fc9cbb6486ffc9fe669a5329b9d45c751f6316d545a8e9c52b405345674dbfac544317ed1c9fb7779c85f4c4c57b16525368cbc776f80865ef13116af626656d2dbf10d8c550641612adaa39fa7f65e181146fe8e66794d7583d68f0ba8eef0c8a34ba62cdd3e904169d239aed88828b77db9ce4e87789832226e18f50026d0d721735c9f668950c069b378750fbc7708fda672e7a5c46fc1f1cac55211a65cc923ebe688d6ce7fd06e6115511fffa673091bf1a64f47059da78e8452587cf86ac8163bd3853fbb72d1377698edaeab8f00db69e24b17ffc0019ccd263439d02388db0ba4fbc62cec74f5f1d3302c2f47614355fc0a9eacd04edd7835d115485110406dd17346c9eb2000b1ff632e00885444e6cb27e73337cad6f8dcbf561ef799a3dd27590a7e28f6b632c546244f7bf3156be570336b77fc5e93dc652a17c19f5b13098b862f0a982e2b8e5bfe71855b9534e704d11cc3bd6f7f262e784d005727d7295556517fd0a425d5f0e5ff2811d9b9c768f523f9e7e4810da6f4914bb2651744b1a5ca574a120cd7d035a69d28adfb789e9f8d9cac7ba7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
