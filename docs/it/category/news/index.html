<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dcf38dbf3f558b56586e29aec17623fa5f6a6560009034e0f6eb49eca5319964a53caa4ac54d3a1f02d23b39a17026a9b7cdcff69f35679bbd4c3e8ff874034de4a6a7694c6b75128d6f7d7bbac17238dd0db57e812e76b83f7ad694be94f8ef052a1a90c8f9c9ccb2054cb01c41957458cdea022bc0e7e02a13a42220b9ee18ef6740b8c1908318c0e6b19b18bed9a5796e1ce31f619d63be4dad20d5792414fd1c9fea0f6101a4e9de8a035b69cdb0a18ded074307b87d57b9731cb4887998f6aef64ee15aaa99281f55b68ec9b2adebfadfe77e6f7132a3346555d59dfdd8ab590b808a6dd2d990001830162f470a7dc24ca86f71936bc7217c19783aab5b8580d2026feb8c4fb24d19a801223a50b579a4d501128973ea4cbef4443f1d941a5f6bdeb022383e0848857f681cd70c45054b366fc008e8b3ef8964c44dfaf3260a432aa2f3c84d399383921e150fbc3aaae5dbb3707b392c3ea7d5186e0594d0907826ddbe98e1f0f95f5e8fbc948eb0c2fd9ed6783556c1f5d2b8eadd1be8ded77b3b3a8c7acd9a617695e28e122d435f9abc45e2c9e0b6f01b52c68c050e483997a7201f07efed9f43114ffeb45cb1684d6487d1e2aade25b625b9eb717e8bceaea5aa960837d8853f1eccc4e046f801f850555895b258e8f60e03b7e43681228909efc4aeb7ff327e09c5519c04e1ebe011bc0e99bb8dcc3847fd9b28395b07e92f731a8c6cf5b6dc5d09d12e631f6108a862f0d42c5082af7f3d27d51926829fa1f2aaa03867760636126d84506467c4784b586791b49634f6dfc749a697ea74e2dd5cde8cce8f158203faeaa33207ac7995109278ac63b2b75c0206e3ec245ca69f7d2d916a66f4a3b0c66529260aafa932c176b45b0ef30b8afd8a60ffc9a43eabb5e9389d5d191db2b95e2dcd4d40bbd2dbed4da6f6bbc1e770d70e5b9ea1c88c1ee292c410f8747c18d1cfe62ef751ee4876f2c6880ebf81c93653990d8cbc5df56deb9cd87d6a61ea72ecf142644abb3b7a16a1f1d22abb081026c5732620cd4f44cb4f0b9a5add018b41e0f7756e5bedc1babeb6f94aa84285f4b427ef72c77516f656908b06767fc406b57b0c2565017b43f6a3418950a242de1a0a4618b7e47fde365922fef4773aef0131af4bef3584e027e69c71062419c673fb3b80191952cac36678d75783c5c5daf6010b7d9b700c136e0d741888fc5bd1df5ca76d999d31aca9a4c15f2d3bdd4d92f74a2dab9aa051a10926cb187da2a1b92d02108df6bc9a8067e63c9dcec9934d21f62f32cf2207636cc2e4a4ed4cac661aee33380a2b8435a7dc78d644f093b1ee8cc11026342363a2a042802384366c80f2349a50bc437ec9056631210014c94321a4eedc0f0ee0f3a434813abf23e863be5e4c28f8a166ad9973387f609cc6f9f50277375e3db43af6c88d9916eddd59f2a25d506098013f90b4d9a5db9d77bf96ad849af8b50dd8030f85c18be20256abbc2ccc82f65fa3d652419a6fa3549d3fe97609c0f8167d92ca46893f22c518217434accf2c364e3e240fa1d79ef8b2220915d8bf46d4aa16234f96d207853be4cd246b346f48a91802bbb9cdc6a5f1fba91dbeffeb5d01e464acc1216c2ae556281023013101cd8ff2d088f154f2fe83348eff62e20270c3b57c09fcd99786e9bc607163f36f4bdde09072951e378cfc02a5b4ddd8c7fe9850d1d2355a6dae12467e11b4c13331a279bdf76340ea22128b78f1c0bdcf1b0967c2d804d08e0cb9ae6cb04d02c1ede9be67aedda25b328b46225e44bc89848ed95feef680fc4df68573ad86a1079dfadab328510586b4fcae134a7e807e38a94a86671210f0d96d8fbc5e4a7070171481db0acd311c164dcf9dbfaea3f784235838b7dba5e471eec794d2cff6db27028fa6585f90873cadee21e7f2cda791d9c2b6c680cb791aa6e884070b1c9e2846a9a169fd093340d212b574dca786fb6fec84161a5bfdc5a6e58d8f613f419700cebabb3c6a271021b465ba76457016a490dbd1dfe3d2837ecf6309327396337f597eac15a731ec1254e6ef58537dd2e5b8ff330d13f5ee7254ed4983c7818789982683e110b6b7473c5d41676b7e4e73cef8bcfb66092a37a1337e35030f8df1c4deab0eecc85bc2bfabe85a88ca1469825275f695def363c75963ef24e93b1df2c22eb842cd4e32a1a537e16f3b94b72f734a3d91e92d1fc4e76468b552235393e97c72e6275f5e5f8be566418ee1dd535a45c17854ab9e8d155e0680b3f90f7ba79acac6d90f53709ff1356692be95883c6134cd9db4655a0c3f95ddb950495905f4c592cda6255446925e02145a97b976b9ac90d91283c8077bb619bdd15b59f6b64a2c73ba15086edfe61a5528ad7573f76bcaa5154e40295751a13ba49a94108b66d6eb4d1bab8511e5ea48321dc3d2ef2dd83400039ccf3b54e3570a81946ad6bf631a81e43b1b37062e341fdec31fece3371d21ed625058ef654ef7d6fc364ec0673e37f52c8c1716889e33afd30d53bb53f8937ca61266cd02bb392a01942c06673592e447f65ca80ac29cc695f9a98f9f1fa0f117de4a3531ac508f11c07f2009cc02a0f19a330ce8bfe5e505bc8793b74921e90b7ce56568323de7d8d5f91efc76b1a4ef67b95bd6aae054d54998e371906efa63723e400b8dea42827c0d83a08997f9a763cbe565987091b3e41085ad3b76ff31fd3c1c7dae58f5ae4b2ac87a25cf783fa9b3429d82fc00a2d47cbe5a24aa87d5f8b2fb95b2ad890f82c4796a4880aa3409460eaa6922b597d2e2c85ceaf9793ee2428767bfa1b2977ed0ce19c74801e9f9dca8f9d7c8ea390d435e14efaf4a4493404d90c6551fbdd9f947febe1c4492e5633c72cf9ae89cee354d62756fb451407fa79f3265be45a0e16f5f2e8ef8a44cbfc320e685abe59e3f63ca4674e9b53fbef3f472a80047a4b54fc5e384a449cf15dadd771b6ac448df3962065cf0276b40446ef958dc2bee61d76a19f5ce13bbf86199a190bb9ab1051ac3f1b2d2eeed3b5783fa0b15fa698e83768635e7c776c48688c974e458d43ca1716a6c78a725df76a1bea3f46a3f2ddb363b628776ed57d2c4f581df9b159346306a082b8c9757746ea265dcf2ad9e5601a522df4713a2210bbe5a4146e2c2f2fbd04e73c39b6a8a6ef6bc7a54283e9ceca52dd40ce83f533db69f8ebf7379e0a770d87c89ac0841570948de9f9a350d4a661d2482912e5fe261f84bd30718ffcc63acc057fedfb93dc6c27054c64f56b1048c20b2f01119c63375f095194c00c5a4414e17cd27aef0025b21d1b33cc6a31efb2b952e585bb0c060a9f703ccfe53696b3c695ea3c35166dc0c7750546f7a57ec36c8502412884682429699a95f16f3b493dc8b6fd3a1705a20771541147f8f61a4b3069b8609429fa0e352e841eb044702ea1fa459ed1c2e87edcffdec51ad319810e774683b27412ea63a2f8517616f400f42fbf876d5d64fda7675cb6fac0b14260d437cd6af66b0ca8b1d6d1a6892387a53312b92d10be59e12dd66e5eebb88db17456c9b7f0fb87dbeb3d734ac5086a455155f7f95ef637e9bb6edae6105b502f79018b464c069576d8b1493cb6db72ace774b2529d876540ae5f23f384ce29601f9d83c579feed2647bf7cd64438a079b7d1e738eaff7ab2f64cc602d10b7b74c3a567aba28a971e284100771f43ef8c4d1029b67d891ea66f74d673fd1993a712287893c412935d0cf3748ba2ef37f814c3318b59033e67d8348212482c0ece27204b6cfacb9fd98e1180bec9942f45ee57f39fb74749f275a207e370e6220b3e389fbe04375d7eee515cfbc427b8f4047b2443ede828ad477280855637636007b435a57e321ee4f7960bde3bf66f48fecb6dbbee49c19f5fdefb61abaf90fe526ac8a05599191bbbfb47d0d367f1404a1a01afc4a6ab19b810a226f968a16be4cf4a4175f5e989ec5b48542567b3dd564205c27035bec1110db2e6a9512a5372ef746b8a7cc0dd418cc06b1f3fe6e6216679de33bb66110a995502e15d224771dc2655f21b0888215ac9e9190420f3fb3f1008132a1e61f81ba0dc6d83912380b010cf0dca2548337d77e162e5bc6e9382539c2668ed67504e77b5537370a022bb75e65626358e388a74bf65ee7a05d95e46d21fc7cd655fa54108db720d1e85e1a48335d8d356f96705483efdda074df377092449fa7765e001c057a45606ceb088f5cc58d9e3fcb4955ec1a57fe6998b1a0906e11fdd847d2602d0518ff0d978a9f18bf77140f4e5a7e81db9f2bc53032b9527a511fff874e100020ec9afc08dd464914cfea436d30f51b16a15f2dbe376f953fbc252e0be9234c6c85c83f4adafed0eafad900d3cce0ac8c030881906a34250802a6f32f08f7774ac4b5c4d0f5fe36d0ab12132d82b4625962f275964555fdf9837728c1270b8a99006d4fc3e4de553e5e0f1a6f59a48bb4f1838c1d27521b94c5b69fd3079853b99ac2cc883c14b4ceb06cd2bbeae556ac21bd580c3aeff09e38b78fd6ef96d64fc7608e45d70ecadb040af417f546dd4147ce852551822e270637bb3bb9318fdb02bf6f7142f760b0c16e0156263f6ff6240ebccf2ba2f30f1281a254c9f11ed0e49e809b41626770f9085e4d1dd9537bb7eec0990f87ee2e2e9a6f7d8638bb9e46872037340cc8f3caaf38add63207c90618df2ea08144ce5380262b95bbb94e1f0f07f55a211cc807af178c1633a7df98bb1c1914125fa1820f736106709be4a6fe9e419fe98dd9d6138b2a97d0c2e287a9c5801e54864633537a37b4a0639dff5197561932029519b0c765cf635561991aaf64786ed5bb063130480f120ffc2177a04ada9321ca5e3cb3afc081ae7b58a1a45cd087b5925852407b68fbd2869e15bdfe39814f632991b8c4ab0d8f5759ec78ceb98479a620ba3bf2787e3d21d0b929ef18b7e6db157043b2e62ced0beb134c3099f2455c6ca34a2a15c43770035ab2bdd8da574af691101006cf304244dfa754f05a431dc65ca06592f9c023b1452eb0cd5fccc1eb32d20d1d49d4c428a46e09fb8f0de99aeaca697e4917bb55d993c3c5bc31d210eed3820daba33e60e0ce06332c9d7c00ef3280b847f081ae00ee7b1b7155862583353dd48df4c60e9ad7c1919435207883763c2ec9082802c00ec627ca09f7d842722c481b2f8b76c17cdfd86d4bf130e3050114c77e097a4deb17b5df70d9f2995112ede6677ffb79be2637792cccb5323f7c2a6e4d0654508ec2d2d4fe17445411a470cc5996674139f04c296397207e698f581a6ce2a1478ffb23b7885e047b8a2858bea4c16a0be557e969984bde8bf406d1fb01e4b4a35ef1d4e3546aaf02b35330a832503404b5d2817506fb42f5fe2049c5bb09ac4800c0b2f75c514146c092e067eb43e667078b788d24cdd3a968fbc2dc04256f0e6a922fb215527be49d1931caacef980122773eb51d2aab0f9b4c69823d44f137a6e687e16cb9804f310a85018f5972261e08ee16b8197244394ab6fa9a75e029aadb200818cb2fa34ab4d97d32e18c1ac3880c86820ed8e60517ea5a5002d7c096336208239bc3d4a744e5c602d81a7a1304990bb63dfb424852f963d9f93c682782cff17467b04c1689a614cead153142edb7a67575e64c4966e1580026383cfcaf56fbbd480222312c23211afc720fc15764d839041af24ec3b73b759e02c241fa8483fdbf7d40fd5ab16db7373e1970f22edb9ab2e4318eb1afa46a9d9acc1f0fa7494bb62c0bfd656364dd0b16fc87b80c2b111d5ea20b932b1ab7971e31987b9f6d31a75cc43b07a52e5d564f1608d9a2b561f79502cf55a62820cada1700f10876bb339d0f720e4aac1f7e5980521dc9a7caaf31ee2725cfd36ad484d4dc8905fa4ab50a14adda4c18b6f7b486f8136e93abe440db2422ae108db44a31e1806e447922e8eca33f3026a4fb0f93ea702ec284a4ca47b46cd8da4135f01a87b92298688acbd25d0779e2af494c02c6ba081dbbadc6afa04e6ee3856b6e8f771ca392cbb9fd56e387cc0e913d0954f5d5b745f170b3206c2be6171b39088b20cd1e768df8db4becc6cf9a6ade5f020214f59658e545914caf1a2d73bee7b708489f627a552c7601f83a4c8df38e194c6aff0c196c4f28e04e2b26e846051ad4d805f11735bad6f298a462bd053e28873bd308888ad1cc287aa498b43cef7d177e6c45f0cccc3e72c2909a3a5ebb614cdcdfdaa844f3be8ebe6eec06feed895502ae73bc4824144e76c0bc15afa149071058c7735f6339d86cddd672362ce03700d30e00f354a2e82b12326a690a9b8119f6561280ce357e2ee3bca9329808c2b58449ea76e2be083a403cb54516fc6259011c652f0722670cd2f54a0e6e4a3d157b88bdd562559afcf165c3d1a9549707e342f1d43d2ea462f632a6c1770a63f92d8cd8fe36f8a870e8183a047701656e0206eb8e821cdc30832a02746570b132c91349fcf254cfbf907ab5076f696b5f3f0efe421cfd92631cc86e9810602ee1f124524d21254245f4eecdf147cc25b63fa6ecb42deedd04b92d453a5d2502697be408f54b42093c9760a9d606a10cda8849bbe054cae3b86a6c7cfdaee4a187c8cf22e68523d03f3ed2813339cb5bef9f5417d11cb88a8caecfe4b5cf881794f658d5c3d7a63a0fe6b0c56e4717c9c62249ed1e830cab447b10b0e880bdbaa62c81a7b230063244927752adcf9afd68cff354e388f9285eff0fd629a613df0233a07cb1cb6ac40a22ef328baa368916df39ad9aa801d03d6867c1de6bb50c8971a82f1acdf6476277c4acd52f84f89a74b7eba0c39094165d999bdfa9bbad2e114fffad98cc9777c0e542c3e66531dea0a192dbacdd8da4c5d330f79f6e280968e92f56634c8275df6bb9eaa18fc558a09e2fb907741bc127333b24ba7deb0d8e9dde6a3bb4776ce22d908f79e5776c26df1edc2023961de504f92ccbad25dd0ea29c6e663dec94ff64309e408632b93fe0f2f4b43cfba79962a2d7fcd293282932a175837b9f1289fb53c96f861bfae5da24586e4b6d7a5c6f78b782337baa9592b1765947ffb40b5d070fe7d92a406e7d8491dc96d106fd5b0957dc640e336cff38fe830410c78b0f7f1cf8a6d423a067417108a6d18aac6fad4fb2fac70c648ab7389c66ba6705518db191cb0b314a02e0068ec02b21340970d3dea3e7aca8b38b7b169affe893681280bad2ea540c0d00e6f9fb9018b16ba3de484ed1a44bb64cf4a8b949d017172dce3381706e6f707f03231044630f8a6ea75f909a90703c309f20ad79d6e7061c87ecd827b906a86a8902f8b3927533613cccaa82d64603d97f3da8c9e1c94ee9da4a4d099bed8e21c68a11556697bf0e07aa5043e2dc59eb5a694465b914debec9e01a01e549cf9802a25a5242061b9bd160c44ff4142bf1ea7b7f98395eae8370f252d93f183f63ffc1ffc502e5845df649b8687e7425a4ecce20ad14c53169bb9813211f4d6f2f81e08aff58f5448de80b203d76bf7e76136de6b25fbe17493d928789dceb3d3be9cb270249afe2192c9b53591f3d9e422e59cb01fa99eecb1a821e6ce9d59c4c2a1a7a06a528fdf5e82265f06cddd6dad931a346ba316a193fe396be3fe0685dfec36043f5fdf9b3674118366eaec5835b69d1ec553658ef85ff0baca47ed59cf75e3776efb1a46b4723719aeceb2bca6553501b3a0279a6873075d9ba2406577ca74fdbc4718539af1dd42e21115129d1446e3ca7d0c5a336ef1583280830f89e539aad094cd429c91bb0ba7480c9e72027e8ef4ba08d8442692beeb7c086a7661d8060ccb44a31b4df2edb52ffad7e1cdf4fde3aa7786958e751062ec34e49fb3d001e4071a8c2453fa460cb891ca15e441850cf42c0a7ad83820816ab38fcd68af77e3472b5b4b4dcc0099c276a8f3bd7babd46e853c1e536908a874786123bb8ca7638dd88242a463d56483092a627a42d3c52557f5c02ed17a321eb5ff770ea212564e2db3fb4ee7e09e1e5baa73ce57ebf976f207d7e79ba0e2a132ac19a3b030c8fdd2ed4f98738ae194f30059ebc9bf52b711246d70cefac4ec4f1fd0a162568e5d06ae4f09cbd8a088d7ad25fd81728fcf66fd8305a13ea93b0d75727744a59c569b3901be0c824df21c9083de0233de66134342fe648f5f11e220c2d60be6e7573ee1fda52511701914380a1e1c8b66916e3abb705206ff39c57b606f86b9f45162ca3874f4fb8ef62d9daabbfb897540951d55c7c2b68aa7070aefae1d8aca5a86e5d88e3b60968d79712fdab77d43bb648a2779385e7b426d9ad987645f2d763162e8ab8da7d5c572cfb53c66ee76e77e2debfe88444fcf91b3e3fd38787bc7e39cc9c009c829d74048db43e6cb526f5c1a3663b313d659ff680fce525f1f7302d971424768573e5c726648d2173cb8741bed29a966aeb279a1b7fc3e96d7b5cdff57eed65c4a2f59d39355d12132dbc3def4d549577aa1f05892e85b214595ef391f3b034e7233a19ed36948b8e365ff4d7ac8c62f150b0676b69342ae4ab69ead5493be95d063d372e5b684897bfd7f38f1fa60b55eeb4dcaa5470e0cb097c55452739b76f5f65c23128c8b31c71f4ab02c454e9b271162c052336da977b921153754244842709eb4ad737a4d42d9689c880e579aae75ccd11425c566597fea5cfd6730de2db1c5c78b771fe6cce84a1d6b8ff45e40fe08e2661a1012604fb3fdded7ef2bf701a63ab69f5519019c140d2a1da9c393c9172841a3e35974b7deb0d7ada0d0f1715d4196f9bf2855dc8c4e27037ca58d144c143e9b64cef4756acfd6178d06c8da7e871ffb5ecf36e07f54ff1215ac801f9bf7ea8770ae069f42975c0c6816d956e69664336c064d77f4d634d40076aa10f92d1dfe4de5e0d2bc0427a5c50596d70bb8521744078c9fde2c7c05812afa5038bd43c50ca834ede7cf5e7b4dd603cee4ad445263dbe9db9b62f60101ee60b0293281bc792081730e64bc5cdc59031f438da6947053fdf7b398faa797f3df1bb02c6a6b0b75e5fe726b8f55d7ccc00f32389f7c252f7011f6f6c3bb66635fe6b6b6653a63fbb6eedf0a76f43fc63ce81337a7e86d65faedec0ec9451f0d715c93b976be407b5260d4570e1efe14df0c08e15a7559fc38401077291b994f3ec662c2438a2f50a3a4f8e731f024fd9582d8b9abfeda3b2dd1328479751c971d8d556894070f4853bd7bb521b638a212a9453a060d8bd78edfe6db3c471928d2d74a581a1db52881ea61ef6da14cc857182966cbf4a1da6507ff9f7110cedcbaa4d21b6602ada51e29b2bd558b18de7ef633bbf7377ef91924dea7777b22e1dea0e513c752e019d57a288d20d1122d98fd3238be6d331958b38bb66a6e7435252de8010447232e78688ecb7177afda388fedb26fd42ae18529eb79259c07439425625306c3e6ef6332bd8601ee5451c795cee3b3d7914118976f71c257ac1b061fa785d738bf033e331c61edb7cd4ca85f16d2e11c98453c64a1c6664b719fafec1b69ec8bdca72b529cc3b72637821022ecd9a280c8c2ca41ed209028893bd148f3a206d4773b65ec97612f1873ad33b412bcede4cd8533763c0e45261fa32425c160f15127df10887d47e6d1ae2e9b36a244dbfa412942263dd5cf3e31c3ccf427cfc05e78a372b0f003b13fb8f986ca2fb69e32bd5e6e6dc055d5e7d33d53398ab358616b53be28ac393ce844879d7d8d0a4de9ed1af40c7acba95760ba21161e1c3f8537575a1b67c9e3cbef5e5f5c6dc6e43a98f635d21503f0e28b4b45dc08cedad6d02a10729913af28d560441a365a1005e3a21816986e6577575d103f12aff0fdbf8476e58f9c44eb19120f1ebfd1426d2cdbdf1b0f2d33dd9b22b96da5466ec953bdd67fd3702b70e3acb6c33e96a52fd84b6a94f7bf60eb3190edb437bee35e78019e0bb857d0884db70cca26583a7a7aeee5b45500b4c20822b5cc4cee6e9b53186a67634b0437313c69e342a77238bdfb0cddfeb56d2efb5951b104fd90e5d25bcc94ffaa0a356f73f71be250ca13c9ddd3171be5a3d876902fc884644f6965801beb8f8fb720bb09c45a50c651d84ea24973bb4757e208f7f72af987a748c35e721ed43e3fdd33e5636b77e92a1ffeeb9d6a3476e615e3625ccb22775fa8ee80a5f20ea2ef237aebce66dd5ff918339b5c965ef85f9be3a0f4d4c0831934458ab55c10c10c04514033b4400b88c41d75da4a90509b4dd8160be096319989bb18f9a44a9acda65bf0dbe88a9bbc869831d5d05c79a9172d9cff8bbd24332a285f9338b1ec3c3d913abaa65bb489d1dc565b34ad2f67150d7fc9be070030804b7b0fae193e264ddc4560f6de8fc5be3a282addcc1b1f7bcd8de8a320ff4664e4d1288c4aceada9439608f7907b43a21cedc03043b40f6ec9be8fe5d129a10eb8f0f1b9d7de54b6ce56fc4e844151b5690f23f3742fa434568160e00d8b4a1bcf20882fd5b4d0ff5412cff8ccee02d97c880a25a6f7c0b372afd30e8a84fbfa2b59cfb6d104a3955ad4ae24e3aa68c7761eab58c21cd49361ac4cfaf46e9bfbd081a77b6691fb3171d5cadd832c1d46a9b9412c6ffb1e196df895ff93a7ece7923d25220b4219312abcfb5f3e522bcf869f804c6fdebbf6897c5aa8d01564fb2b50574d331f2a41301b4145c2533207828cf11576b6f12d9894f2f817c4356ec82574b06f3de26d51d9c70c501b98dd076f32395468cafbde0296cae8041fc4073e2879c36fb27e160e0136b5e41873537052a6ffe2d2b43f588f48ff285df0fbb3b3d6c732396a1539364cfafd71353572795ac74878db2067e70885f0d44ef7ab7acd53b8bedc232b42f72e470df93ae8bed154db22380fad8ea19da0ddd2daf4dfdbea78866c70aa40df6c53808f787f3d31fe11387b17a29daf60d8d7988f26bf86c98e5b828412a2c6fb9c2c76af6d9eff27de4bb8411ed8c720c1655fc07babb032a924d36113a7b5f717004b4c7241a134c0b32a8b01ebc7a682a36fee2b73a808a8e56b1d5ed5a0afefd51b04d44f2413d2e728c4c1653bcd04d8ab53d4d313ed88c80ca98be2b7603f13bc2fc12ff864dcf653888ff1252dc8d732242fd2b3ca1f4897309e54a1a66a3167efeb652491c63e20322645ec894ad584c300785553429c4726ef0145549ca15aeb8a59685f80ca2dee32522888dcd783f75f9ef2e653effd1b1baeeb4d8ac3038342ef0d79116bf5092e2cae621fd8977c6ba4b3d9294944898e2cc2bb0c96829507279a5a8a891de44600c1260e0ea6789a80686cf21c5c2df19415a7177aa51ce3e8229fdfa73242023df26c9bdea8d75831666cca8a6c8a7876d5c5033c176244640eb4af037d38971cca7be3a2ba03a77bf61fe80dff3899ef7818558d014ae7e6e85b8f9ea4c02c98db69540fb4337366007da2a6c12cf1916490cb4c4a1fce1eca3b0b5a72c1e1e8a6e083ac0b4f5ffc6093af8d795b8b2bcb60f158e5995282e823dccec9b0b631e19caf5a4b750ad4afc3f9f00c31dfa801c834513da5326ae8b04b2f7ebd80d8ce1adcc074a5fc1ceab592cd639db1754d8089b689db27f137d19139e884a6a79b6f06d985da3a8cdfe4f69cd18990ace34fb54b4fe054da2d3befdfa896691542c685c53413380a9798396e6fa5f52df71b59bccb72b58d5654979af94db38e689453ada43e503955871819ad837f40721e6e8b6c923b98f508b88fd268f7785c09675f56333a0a9eb79b420be54caf07c0f2c9f34759bb67ace4767c0311b5b8aea563cac25ee8f9840ad2424f410459f682f227033d49c6dd7b714e9d8930d6f5f66a2d73e64f7c45d64afbe074beffd26e4e06edbf97ba55bd45b6d8aabfa45a6d299fda3b4cf0ec2636d39c44851cf020bd263d25c06a8cb1bd2dcfde6b2b7a30aaa9f9aea1795adf96266f951b63ff787beab002eacff32c1dfafab42fb545ec411a8f2984f44b584b05e1330d7c739b167851d3e0343a40c66f6c641fb7ed63d6bc09380db8f1c279b715c5b87ca001683f8cf7954e3eab8c4cbab56f3693c0d7a32566a3679ef0bb0f789b9ada6925e533965780baf16da6fbc01ea4d7352cb5bbd10a3414e68c81aa9a76afe5de2b897cfe6c35f90baa8d5e7b5d34ef07f8f291815abdf0dfc0610ed34696a547b128d90a9875efa5f9afca199d5c266ce70d15ee32f9045ce60268c446f8f9334a2a2c60ec938ebbd55830a80e5e188b4efa06dec48417ef938eb3ae1ab708238e400eb1f9ba1c0261db48bd5e831bdbaf7662c3b2b20a66e3bffcf1b354526d49a510a1b584607e473b1de28ae2f5986059f0b9f3dd5305dfd573878fb4633d4e35698102a3f69cbfea263063e42ca9fa384961a6807ec0541fe74330ca2ba960587e7b61d7182296aad8ec9b436876744db93dd7a57c2b20388f2acbad50c6ae9b3f85fadb315d56d084e0c8911664b253c75b9887822e3a304615dacdc5009e0e7207aba290742dcee63e5f2d99fe37730e5a833397986ca7248732d4e2b93a4b024e4056f86b80d25446bd950a960ba59a35902009ce4f7fe858e31a253f083de516f419a7faf1736017f5cff5bac01a00ee8cd5861fc95decb23338e41bdb359697535b977f99d88f74b371bcd04dc35f03fcdceff5ebea79d14755b8befefc66a947389b15ebf1aae2d424576de11851821d6f3efab4ca59929e968f0afa094f4fa907bc420405b315c9e2bd59f8355126c1ed9b4a4cb5a6160ca96225035c4292e6b789d74dbffaeab51e2f06e98d1e18508f22838f1051e14e2672a22bd32338a6b9b804a794dc8e211a5eb17fc3947492438548164fb2f2a3ef9527ef7d4fb9b1faee639d8e3f5e9f7c5329c8e87049747af9d4979670b2a21802f78d50239a60df646bdf04f411e0541f519725cd2dcf6fcbe70befcdb6532385493f7aea8482f8e57a2453482741eb4744989647e6bfc2050b471c9a5082c27dcfb913bc7f9ce9e83bae5da1f343e4c5ba434b14becaeab456744945098a6a5d33148f4a3aea16b2e0bd59b75de7ae4e6fc865902461cc7bc512d7ec0c3d2f7c23169329aa4ef6328083b54c8d0a706b264b300c6cc11fd65186350585983c4d0e8c326225e618c16d41827fd824b4452483f96622656f94fb8420a4e71feb497dd8f46ad0b6cc88e83767fd2413981288736ac3662d882a272741e13a4efe8f6bff59ca5393470af752244f6c31badf82ffa584ac27a45da61224aad73bea65d644d6b685aaa8702b7b76e245c7a951f624f066d617b91790c9eb37d8458d6644378fb9d8f530fc08be57f73365996f4d8cdaa443ca897adc5a0bddcaf0347a6d89c7e86b5e4b34a44444ac0f85d576f6a043f9385faa537060ca18441f81e7128ee292f148ad578a15c68006aa8b5faa33f3f1caf240ed6f38b52cf0793d13bb274cf44f1de78aa0b3a7bf5653816d94f43354f0018f78b74ca398977a9d58a0b04e3f615774d021927ff79ae4204cc08e316ed178ab9ce93727f3245b3d2367f4073bf499e85466d39f74c353f6a4a49577a6f971959570c32743c2849e509ff70492ab391e09242459f142ec554f6941b9b7b7a18905e479b4e4b9b6588e650f04c3df4c1174a6c8b53564009bab476b7163da61073cbfc54738402f8c566a6ba322ce59c54bf9962361c74ed73921806f98747d2d10d9fdb1c70c7bc5fc7f48fdff851b4cad59747b8a5ff9eb7f47df92e2fb1e091e2b2aaf98a7ba701cf364a0d274d99bebbfdd85164566fbdb42cfbf04b63820eadb09421e216d0a05d2ceee70543359ad745cc0f1e687aae0b3857804323a07514da48258b36cbdfab4d43b7d80e4b0676b89b3b0a8330d6a46e53ac8a4b07a62d392fac04a64221c8517bb361664773b85c8011e6478d579932dc528439318314335931b4d707d5d1e83817444d221f19c27cb497994964b7ac2e473bf0948cd0d053cd9319cdd4daebfcf5489bbad47b486246a07e9c7e2410d9961f7b065a989f384c7136c2e5e1390c80ae1f776be8a99e062ba7fd1b296fb8a150c3050841c4ad27e046d198bb47f8edca1b1e0a59f36d36be74790eeddf9c272cb52318aee26ea256c9c2f15b9e451e18229a7324285bfe549c793db03c0eb40c83703c5576188052703906c5b9bba0ee3b748e6a57e50f617c49fa804f4a0a30af643fcec09746315eddd892f4ae80ea85e9191f88198dab91b108984b943cf51ed91996ba0a61ab89e3fc99924ee3777db6fea3c4b7f54578a2c05420b147f304156efba3d5949f90169f7ca4c23e40331903fc963903c58d152c07edb5f69b32899cd9813748bacd254ca7e53b38baf608f3e40dc357dd8446f361f97d4bd1ffc4c238dea9e5201b364c96607557b0831d7211845d683a1e78d5c798b151ad986a8d9eb63d0930d7670ebf0f2180e35cf6fc085c6727543a50afe2334d5c9b80348df1db7a4c4a7ab8423a094364c510d02b03186ef94728579fd7ba438213b4a43262539666b44151ffc6890b8aa98351f62f70f0a25b2ce9342340ba097ec23050923054267c442905fbc769884b0c0a7588c5c9bd85b2a44833007588ef7eb37390fa11ded802e9b1b6302c3988928d9d4a9b54ef96cbceff42525c2da74a019f61d5b2dc10686faf491130928e7bab7d225fb49a2ee1c3972bf996c394fd51df4102c2bfef446cc10569c693def5479a9c96f49dcc4ffc16ba8068b3478c583f5ea8618da3e632035b32c1f90f83e25059191a58a62b54d69c2c645ff19b7cbcd9a7bae090b63a606e0c6b02f22d214c022c786b1f75a5962f9a897350f8887652a0837e1f2d77ea7a3390a820ba0ca4aad0df08acab99ebe2473da4848b59422819c4d6aa805e200c9789861917bafbdbff15ef7a234fe89f23b0bf26444b881ff311c03b5b00a1ba97f8c5aa90856aede9d69b74106098ab71d9f9f9893cd485f89206a9137e1e6f1d505dba9058d7d6b4b715915adb157e0ed15cc372698eb9978c745b4c736082383e02c358bcc499dd75b78a941983b95a9ad0e901c0f9bd42267a5e0346460f6df4e0095e62cfd33fe68ddb442940b66ad118228f766391afd16eba6743ec78c26e9452569d81963a6ec8aa875a40607b1c253674c357559d06dd1c1a6af4edfabfb0b17766287dfa8514611863e98b7f94e260868c5ad32a347bfc4b1c5b810d8a63203f3387517098799c9e8d9281ad9946b236fccb632e94d177dcbe5ffd57c64977053ad953d50e13d15d83b126a83d53c5e083068a89338d2ba8de83db895453c38c3f72014316a9cfeeb70569240b5e6cde8e6754fd41d92ce2f53fcaa36bb1bc21226ab2da388a8d343b566b3053b61e3421c837b0f9612f020740bf11d155494b1777fc5ec52adc220f53d507af63c3af966927d92eb14e042f64387b5646ddb3ac1265d64a28cb81d7353c55796b08302c4f626541a8e89287a7e27f4857aa293bdeeb4498eab6d793d27e87abb37fd4f7be611974faf7251d709200a76d99e2618e0bde6414c61888f1263ba559806ecfedd6613a27f5531a577ebd8e8cdc5db61093a16389226364a4d0d134929accf48322e4114d41e5661e949732651ca237d9567d2b3488e5bf0f2224f0e89c9b83f4ab159038a0f3b72ff3738b2fd6a68cdf9213eab2add55e2342e7b3cd9b3822d7ee4c84a38469659ae60fc5edfbe9626ccc46a661b6155953af0140408db29a7345a1f215ecb0e9aa6e56778e24a2a2d6579c6b02c9f0ac352aa37ef13456eb961bfd0381cde214f8124cd8bfa1c29986a3311612663f93887c45fef71eaa3d157a0fb26e06bcc8f8263c20a1180468c85e088084a44cb19c7de5e7abc5a163ab6643fa8506cf628797e21c6a576fcec239fdeed5062cec3eb8b440bdfa619cdfe8acea8fdd328510cf84f66d4c837f83ad0c11c4e2b3e6e588fabd5d85112775abf0b7edfa0309d8fd476775bcc747613950031422626371fc9a71156fc2f178777dd9d6fbeaf34b2f69823f13ab47b0a762fae8cf5998bafe344dc63ce84332134c525b4dd815da8fcbe7f3bf4d239293c4af6c6b7c233965b1b5bed347fb74a334127c6b2909d972593100adfe6b9bd00667a9097bc1f6e276dad89565c7923259b0d45c6b138a584d2d4d8ef6a2096adee28b98c4da3098188d6997ef3dc4949ef406d2560c6bdf64cca7001b2f5477e352276b4693eb5f70127e8b59751ab08cf01e8c21e8d882c0d306e159282210f83506d9571e75fee5ac67c445f2e6c86fb732bf62f5c8823d17b4c6f51ee520479977420d53f1c120ea0a0d8a8e5e6f2e031893e7a2ac5848530d1c2d473520dcb6e7c280bb9b8d5df1c04cd949767b43a486f4d65db61f4a723fcafab9ffe957af984c01e806328b2695368f19dc8b7edf0f021ec954ae1bcb9f2a1a6df5f59efc7a70d407df92c93c9438aa31fded0d6a85039356b0639b1b3c91520301fcaafcd827a5f429cac156018636c13bd29e94bcf5ef77775090f0785623e57087dee18d1377d00fb62f81d85fcbd4271205ce444a1789d8997ca9696bb04fd6d28073eb5354dfbedcd79b96ffa08e8dac3452be49c94daacdd9f6e7676d9843d70304ebc485fbf037fddf2c18a6b869b7f823271444bdfe4b879dfe14175666748448e27cc61622afd0fa3c9053d845f37192c452e59a586873aa6f8d33cbc4c608645e92021a10367812ac93c9c28c3e8d4108532e3699c4eadf46eec64dfbb10255fe3a9ee5cba8f8c6d89676878543604e98c177aa2028b249a0bc8cf7c41091fc0f89a8da8641796de73832b7b82a84e0f4df94894f5e01eba1922a1df29f365fd5609f2a79db83794d29f05adb4e698446c37d57be96d2b4920bb8816d2bee336218079c691e6af92563c3c1a6f529430ecca8fc72f7d3ae61e6892abc696fa1483bd105145d6f96d2296616b9847c641582f69bccc830ac547dcca7038ec6597937f1fdd777eee460c406af15aeea405ed51aef0748f41c623e139f3446590f2ccd90450c8ef38470cab3beacc1a12d65739323a7d0c89a87c33db11d91e6439bce0f6d9830bc9b185dd41f6e22e7bf632c962653c51663cf1ed9c17edebe8bb60f05fa80dad2b5fd002c2296847c3fdde3972db274993787c5bf1bf928cbef5060c5d72d5dc1ef5b1b62a786579b6a20e27db4c0c5da9328d5a94fb4ec5ccb1fb3d15294e7823bf565f0b1e606505dd1b737cdb516146e6b1dff2b1cd0548f6eef5cce4918e10842e4f12fa5b7bafbb874866afb2109dc37883ccc43d458d1e9ec3579f54276a71b60d3e3307e9fa29c3d38af4899ae80fb0703cda38a0398adfa5498712fc13db5b139ad77c1baab0b91fa637c2249febea3e3db64fa6b280f222bd120ec490866ff58d21e47ff0aecd7ef514f540c46711e59ee02f93f1e73898a6973f4a2a050541033e039d2301e438d9a21b74e64adfad882aeafaae37a42affdc87d0825fe9886b29dcf9cc0a1c3a7024aa0ffff2633650e076ce7b867e88d695a77f044df1f1efeeefd74601b5c64e390c8545b413f513a024896e012cce7c2a5ca4f4c7b5581753d76260c663830aae2777643c39a54ff9f089e2b973b80e545e9c1f7ba17124b1134ad03ae8d75367a3d9992d9a4b7cfc90777ae3a53b69eabe68f976012c545fbb4639bd5e11a4fad654795b9591bb440eb5ef1dc1d93acf24dcd4680b7bdd005bcd8f550fb92a497b8e80c17b821ce88314e7e1efa51b2020cf3c84e4833708750568bb5c1534f67c53f2989b046f836742774d537aaa86f74fa477309bd49589dccfd917034b7fb21b324e78f6fb312cd7e6e6faa0f048243b528619bba051d8e9bd58ab7fcbe483d474b5ff0e85e99d9dcbbf1355e1f41ca9b3f64476a834f0a3f0becb5825861bdbc993f94cb2c435a0502a52d0e5011a92df9e756b307a0bc64b1119635db85851d771cf3099b293dd090e9b14d71dcc09806029e0b23fd7bf336e1c9b2c452ab7486a2d44edd86c17befd8212b0bc70decc8b2afe56d6d82b561b40af59e4f70d859a969d9929fc85ed962579f290925136a99206762e92c598b25d283665dc9a46ff67cba594848801d72197bc120e836a0a5bd33fe388d43050a777ed4b357ab220c624f7ed9e80c321a867469730d49d76b4be11cc0c9221b9b3dcd61da4abc260ac258437fd1b2a6ff1626223a3f51b5bca388d0900a81abe4bf769ec12d8e97fb8ebd27bf58c9dabdd67caa9f3a18cba28ec66ba40e8918caf64b0cbaf3631066cc10064a8e702dd573ff9b1956b01ab92b66f58f8d681acf7b803a5ff54e71614b1fd56822de80e4bf29b9c5effef7a6a9e5586c69266a226c22eef6f2f35bff76344ad52869b9f83bad3170f64711f339c0a8279167ee9e49960faf3d0a5013536d84adf4d6a4dc30ed9bff2883e1cbf442e4d9442343a7cbea2494b7bb5d5d7fdd8460557bd1e654390cf915933fad8a544a06cfde3c5e794e41e00c4b0e1d77deeef87d3859b566fd797006a0389fce649a8916e8e6aad8cf841ef55d357a63cb1e41e11641c35abc7cd4e599d7815886bc2082133907f00165750ba640696e6580df2c39a4a18373f0b3e06c3fcb2fa199c658045ab26b8a1c8e5f323e70a5cbe9f29cd335d8d9a9caff90ec59e9abc533e364be14b7e42e0e3328a9415ce52d8f0d1d810a583e9acc02dface9d421d965ed4c8191e208cbc5dd750682eb70526c9bb998dd68efc33497a30aa1d5263ee87559d826750dc81243d244f1e9942e5112f493928094c287feed4ce8b3eb11dcb6468a85d836796cd4ca10fa6139dc34d49bf3eae27b743b0a088b3877cc9768421720859b0a0f588ede9b0d451254df32165de9c71f6b7d84671dbae4c494a47d0b4c235d18e29cb0a5b2169421416a02cae3daa27b53537283953edb9f2fef09b830ac850880153528fe8cd750ce85b3919a29893801a1c955bb5e1c6778d4664f99ebcf687781ba1becd9fc788a7a20336d5d77eeacb0092ae89a2e8aee18468e0dafeb13c875b915266f0ee798caaf0083d5aa0354b27a7b082a9401f3c0cd9d1aa8f432e7897185c62c2f4aa6ed224870809f685240b3ca55573cec88c26351068e6acb5674abc7a150c1826abf1e59d59ecddce0d5ff62d1313bcb73939d5bbb2784d407a43a7173175b459a6f354e67abba8752d779129e53a8c1d3686569cdb9750d7abd6e833b8861115e32ca68921556a6c82e52197ce20f5b7b70c230531d66d4710de58e914ba2e481692e7be07cd88e5f75a744ffde4a14eb3eedece185a42d509166e9eef1f06d9457e699db312af4b8c003c00bb4e742cc01bba4f50032b7452ea15260852beb4fd1eaaba9f20bb403877ea2717648b3661eb96ed16aec1540542d41d53c733e41ee5cb0efd385df81204b21ad936ddd00941ae6f5278714b37578f2ac1585c013c264b746968a4f1d5a431b0d249f62833e3fc9b5ded32500ac1ee0a816d52d7ecb16bf40e25c716db6095348924851ecfccd9f5d96b9ac96b59bba2bdcd523ff549d37efbd022ddecf9761eae4bd8fb18e81959980e30e38d345b96a92f47d9596bec73d432fbcc862a76d5aa49048235e672176f638a185808226aa70c722a0671b2f926bf08dc09ebb3ca7475ffbcc0d332b91e903609743b41531a19adc7fcfcfe35744db6e1ef86c84b1a160e59504fdcd01345b99141d36ba9694afb39c99dc4151cbef9d22e3b7b97d3a6a9ccb3a632e9f846837798140e78ce4317dac3c909c3dd02ff6d8dbeb05f0e99b44527cb83fc98c78314a616e7fc8a450b5d8c99fb783aacc750d7140c5e3de2929ff553165ebbb0f52ebc7be69bb11daee97f77e29de4791ca55835cea08ab08fc43d975f96500ff8a3205d504906f8ed1e35c55085c97e194bbfd9900fc3c6104fcae1dfd317bc2fc820ed92031858803055d04e74be74a683ee3ad32a58b92bd514648a147ad690f16686db5c5e92fbdd1ff49f568e466690e9bc71b86476087115d01063585041c262731b4728fa8f0c47efe4bed277b6f83ef0df9b4ed236a1948786a2a5e9df4d5a32e7561f181136b4325305150b5d5d99f12666ad8108a6a878060bbae421feb44f796f56d2b7099b5e47ffb0955d0a8cdbdce01411ec222871084e2f4826809d52011a22f6b9ed4ff35a484f4a32b75b190592f88272973ce8c4ca5a2d5847d2ce0ba764c666f0db3cb4d9c6f50a8930699ef818540a137192dcc4bd8eb46130d7e75f9aede410d99907f2b14661d62da77c1c7b7f56a805b04a9bd6d5e1f83679fb5b0f52926e44917645f6678374e9c68517b5d5fb21e6a57e9fe47f7a4fb1f05b2f62b5402530a81cc39dee59509726e6fd1d6e9adfb775a49e892c76bcc978e78ed3697e84dcd27d78e53bbd6a5d41c5f4893695ba2bfe445842364d22e4ca56a1ff1f80648b431bb841088da80ba8f96f4ff6d7f5996dce628d7fca30a4678fc628b4a735e727f339f403577033bb6e226f4109911bd318b09c4680552703ec533238e7b3d40a52d7d822b0e0b222607ec1ede503bd0b285f763a8a245104af52acaf9fc1d3af05c68e517284199a5b9be933f6ce8899df561b73f912034946ce576e893a335420843c7923328c50dd758365eea4c8548bf34abd8124cb3ac99e5ab456bc15286693ee017d9d86ed1796e0e498a5dd966c26ae31cb9b6ea07a234dc3853839183e044195435a5a1c1e2526e750674514b29ea5e30ade3bacb7aef5021b3f89646497670ea96e3ea645c21e576b58d4d41a9f83b12854268cc3599946500e1fa01a86bcdc1aed60fcba6614320ff6e7dce1c0edcc05fdbf7b0ee82c55a60aa29870340202450f998006791a179e535f5edb52e1f2cfbfe32233de95d1c43502b99e74052a255f8987eb4ce3fe01e4bc505e20ae055d3691dbcd56aadbc37acaac2d3c552dc4430ec76f1083b014e57a50a145496b808d1608b292c0de748cacea2569461ed3a568348834d9e9ab16dc97d2ce2e75e64e50af61a5fe94e9ee6ee96031b87dbe8575611c1cc7a8c98c3cf02348e792f70e62cd04f2292a13325e9dae5bf87022e0c7afa38a98d0485fe564e08829da1494e8cea800385a7615279a7f5f9b4d13eeb756978c6a73e075a9b7eea4b1c860165a3cb44104ea42ce475c5fa91a53ee3b3fe4cc3d38915103d83881abecef3106a028ba85bb6e509d20db152e8d6c5fc5f9e90b0fae5106a5e69df3e3b17d075a6885164ffe4d87c9cb4f6b27a276ab8b0821c3b62c67975ddae153ffc5514ca9edd7e9d9ed9213f7a317d21aaa32438f415871adf83a50c5536abaf88fd530e729d4856b879574d1682bc38ded8c06a7834db27b1e4bbdf78748faf89a037a45a5a6069c7e508e9beb5a9dda5189cfab4bee1af033dd680762ea483a62a9dda644f960b2f073fa1cb4858856e51d5aaf8e751540d6959383cc3c791e5c9f711f545135c5c641f1d77d8b2eb45596111e978c3e0e9a5973ca0d425abbaac3dea70d630571ab32cb85d60efdf8c14d14f4b6fc4ad2c65bd2922dc20c4e16e91ce4e4b7c40cf2eb2bc215ab54bf9b1f76903e60eda9fb3c20b302e8c7e34c7ad9c5f36a605de64f0ea545021fc9d55105e8c6de75cccc23e14a1b6387c87ca9b4e57da4a253c3cbc7e157e1659b486c2d245a19c87f7c188a49ef469546ba73b680051692740b2e735e76d170ca65872a7a5b6ccf52442ff7ea5e1bd6c6b9926b071fb7f0db0e82efa7bfc3e98ae85230817af8ddf3b465a1ff38c8e3941187e898752fe421aacc7e49ed20d0e7cd8c44a84dbb8d95c379fa0700aff20b5018ec2b34066d3fb18faca59b917471aa2f27cea57c7e366ccaf0d743fb1346ad18e2c40cdd10ed47ec2ee720e09e6b2c95100968bebd3a1268217241d1ec2058001980c9cb2bc382d6dec63460320a533e9b6b3f4b4113968ad7e61821ba5793bb085a5e0bca79f1a49344e9b4158a975355bb8e63e9e7061dac3d828221e5cab3c5e7532f9ac80883ced3cf50e7494a3eda4dc5444f52f716a242eab73ba31ae8e9e33794fbef0f06e886508b887cf542ad6b0d784de1c801a4fd1bcef4598dd2474f8ee844e73c9810989aa243c9dddf807d2e9d0fecdae6c7a6b2d76e07eb768c740bddf67a038dd8321769ff264482ace678949f9ac531158dc41b59a83728d1135954b0ccc06dbaef6594f920169edfa36d3d75ff0d5c4656e01adea9239b8c17ecbc0b358e2b26b770b31b9f7c7987d0bbe2bcdc234c0f7c02e4e2e1e9641ccfe5cf27ce9129097591ab2254717fbed4e8c37be0bbf005e3b928c2a15510a4850360c6a1e8fb6b83aa4ad7242aefb3cdff4ec3f6c9910275a186945850b4533aaeba3f52e949c866516e07486f9d9dcbef45ade3cb53e37645be6ac3dc3697bcebc1f97b1b40f63cb002eb68654d2defb23e59e03725d8a13beb2d295fd0869f54943bdbdd865fee2a3d525ac61ff40227684979e2deb0e8079d354","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
