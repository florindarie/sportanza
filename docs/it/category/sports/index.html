<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"cca38dbc600412b84cb357f856eb2c32d3fa47bfcc2e263938ee97037d47c16071dadeae3c046a8ea923c89a23439c84f26d3cf7df7566276224923a96fe034fef30378a566362bee587dee729dbc396b0f9eeef720f4402b02a4f02ca470f9a2fb03be8f1a3f773a6840b0dfa6d11cb6b812ea5420b5f435cf87f5af84d13e3d9a102facdda2289cbd268856610a464e962836af27d98c966287e0e9ebda1aedea7e2af5d356298d2da38d4ad77ccb7e8b48ea9332d2796cd1348e7cddfd5ce01f0a0cd948d37b7d899012371545e2d250adaa92d90430e1b59686acec02078d14413c2a959f01737d9fddd4720d741982e39fa2f27ff8540ea71353f19fd759a70017b760db65f6b0d138fdcf1b454e9be30c16fc88541c506c6d83fe3c460897e802a3bbaf78c3e421cf43fbab56a01732ff1102062b1f672c9a0a8d79850c1adbc602f65fada6d408c9585a13caa95245d472530dec9881af32bdb71589ad7051fac9c2f3fbfd7871e8f8cd30a97e0ad8d606acf5ca0476a952b558e81dc52f50c73647bf246b37093f6f8396c08bd0e8ed58ce6cac74ad56f4b5bad50cf17499f3154c56906f5bcd1b5ca277533c8eb621b80703d0aef06c61fa7645870172373d497982fc3e71a4b619b50034076da8602e6071bcfe3c5c6d9dcf9d19e7938bb77ec010d39ee76a32af93e5e06623046c6d6eafe35d8f65716d3b108e97dc5f889155532e51dd695737eaab4fcae07e947f55cd7b3528396e2f2526f161be423b4a0cf33987cc9daf7d7d48c32fddecb4348da7b966a569269e5af7a71faceed258cc7c888c32ce4e8d88faa61b8fba219a2f5399987bc03a59588147d5ae67c4d38895d9787f5eb58b2771d6bebda2f8d9d7898c1fff1dbbe7c7070d7641bd3d1cbe44e094667471cfd96b7d4c98f11103b84acd5f15f3f0e2ca67a0ff29d6dc332b3819414bce5db5a83ec1fd2e94a604afa6ed5cf964918e221d80b1b7df17b6e33a81c580bae204cb370623380361d8cff796ee79ad8a03f3d9fe0f9c9091df11815144ff41cd18610a5721eba9eab1ed855a1e307014bb85ab7c8ccaa0c60b03c4378600b97443e181eb0d70ad24d43515908b69493415de694eefc06e08b2a467b2cc200af8cee5bd9bf3fe45ea8df896b9488b29c38acc86b8cb0acd60b0b68d10cab67d4e1f915feeccc516efd90491a85c1d3327f817c1dd4d0d10572766495b29d489de53b857f6efff98d67fd43f2c863608644a3f49926888cb34bbeaca5d5f7e1951e75f4a07a847dee823fd748a9c9c72faae104912341de2e0184203542d0197a89f487fb6e83a0c8fc8abdb0d4da1fa86d905b732e1f96ce9db518d6731e12b961666aaaffa6c64e6b18c8ab4de42380deeaaef2b92ea4dea36e20f77f90b4ad8957b6b7ac2e66c95294a4fd9bdd193669631619fbea9e5d9416bf90b19308dcc2726b6cb8e549262e6dd7e158ae061953fd9bb903136144afff389d84680cd088ca39a0bea9d3897ede4e2a8f581fa004f2bbb1e66b22f6fa5df8501a185cdb988d61935aa24a2089e9a8b4453cc0ddf1e436dc246c1e8bcb7544947f58b3f19a08c54199ae9317d40dc5bb34cb4a11f528364981970664a72a67b65764e7687ceb65d9d10db4b64ff4ac661d9e3e8dd93c78de530e51bad2bb90f37cc1f6d78681e9cb11361b29859398507f732823ae001cb3f320aed60186522c323a73938c3629054ab9a5e8f6c9b0ba70f44ca31b7d2c38c5deb278d5cd2e19ec0de3c3cacdec6d357525bee8c534a5236aa5f877446749e7654cfc99b572fd0c1fff1b809d38dc9f4959bebfccd79f64c72b64ffbdac7aae3fa4b35073038c8a0c2c91b45b3485b9d6fa777fbba8980ff6f2c428a3bf4282b939f29efa2492286d8662825e7d332390f83c6fcfa6c88d6a8f89069ac85bfdf0c3bc2bc1ec40ffe3bb657dc7e4c65a4c8c20c5695059ca4ff3840e70a385f77ef7fc713103e531dc58fb26b8e90742f4c7526a9f1723af1dcd79876bd36594108f75dbcf5eb69470330154d5b1d6eb43dd0d9483daf27436bf17d5bd6841e937de14be3b6512faa8b18a4a7c9b076a962b36659cb01a6d9ff350dbb814f7d2f8b6721a46655afd4fa1abb0d449124b0de6ac42a63c39b01912c239ac65709f79d595f7fcf3deb05b190e9409bf139780ad14fcfd487a70b0d270d95c51dd557a6c4d46e9387ecbe581b116fbb1c1b0bfd9c44774944a476eb95fa9708cb4c5de4f653f8b7da9b7cd68b8179c1a2c4213acf0cfe9e578e0507d2b1e00504709f756df41beccf36b606b477c70262e13ed1d41e10487c7cc48517c6ee697f04598d5aad35417216504e4adb1ca15dbe29fe1d8594639af57eb6e23a501eca48c5cdbc875fe8df8b6f1fc5c77a6372cd4406df3709a7a0008c21b9896a222a3b3c6edfb495c6bfa9183bde3247747ca597d5fe78dfb58def637fc1b46b43538efb71b52627342978cf263f98039f02423ce4e999dee0c49056fd0f52c2101204c3352ce94e16120dfe7bf0aecff49df3a7865d4879f705d2f4eb02287a8a9490f40cc122b1879a3f30909d955f090991c78d531a99268b94baf18c788b3a638cd10e5baa06012bca1406ba5c0b691eba096fad2f2a3388d669156a6984ef2ab10925fe29dc470739b074f3fa9903ca5219323d1bb913d442cc64386f1fb23fb588f0116f25451512d56067dfdaef934ce1b51c7be8e3c1edfe8344cd44e774bcf7ae546d2d497fe796a8c58bf5614ade664de0c86396c9655f2d4f54a1d47716dbd4ee23eb4a46fb09d6f70b4308441bd4549e75e1c0e00e83b2b28bef29c544a13092b730bd913c21898a69f349f4b32c454dfdddd22f5c7bb470916f11779d2202feb13d5b7ffb3a6014716a66a552612748b9fab83e3bc3aaaa9ebb90f4eaef7c415dfe718971a7e7144b6c19d2e6b9a0ba58ccb08b78e0b4ad8814f5448a51a35b4611cfff27191a1b5a5e8cc028f05557b6f5f21b7f8f46ab1242ffcc74421ac4b90257e54941a65a1d6c1d86885be8bc9055f602da194e7aa7a43c69acf25655b5133da50f75cb348b49e88730fbf0aefa499df2f61691dd6fdd73875195772d1002fce30a407f6a3b7d1fe2bdc6a4321685cc968b1d61a8b1a4e43c89e2b0afceaa4309d77894b34431cf3acd87094f7b015547f682b5b63d5fa2e1ab35c47b40952498e1714f4851d4f46ab57959ae7e71bf07bec9815a6d896ee6f6e8b5567be8f8bdb96afedcaef785105de0061f8fb96f3ad936cd64ec3af2b5a6c7c599cb87ccb7fb6e1518efddabef0263527b15242c2b0c38b57773cf78867eebb3a08e5cc134d10e24173a8660727aa27844341bb1da483d420dec0893bd36fd52e088916d584608a01e3924ff48be34959ad9cae391265ea610edfe0bb6b0c35ef7f4dc8da9b8c838b2da5aa2061b59976f48777f741fab4aaa8fcc0a2803c47814401548d357e4a3a7cf5656ed8f00ad84b7617b0c85baaa37373d73a86b2d260b88e4087f392bd4e722c8c9f3c56093bbf0771dd8cad087dc32435ffef312a2093a0ea907fb4f9e524dde164d4621fb2f583b7402c13668d7902b026d0f65601232e4219c01c60cb1d3d6d3d2c7ffb0cc48b55ea1e4c76802dac44c3f80f0307f4a5754325836dd581e42a12436915ae6907438ef9708c554c5834ff05978608ac1c7288f2171255968c95c5ba5e3a7a32fc734f24e171a08aecc97f0c5d97b1429c7d6b2c0ec133a5fb75dc1c94ae586d340b0139c1777b0aaaa662a48555b42ad8194382d1cfc35551ee4d281b39940605e28cb683036a7493755a3486660b39a9678837cc656ddb409ee13ac96559452b258769036e3ca8eeb46275ac9ac50af486f716a3db9d388c84de9ad969419b1edfc8408d5ad8baffc481702033efef8bb84f135f86a46a2f8fa172550d2a83850b1d32ac8821107da4f0cc2366655674fe16f8f4cb3abd86d0b3dc095de4ca325625142e7935ff789b036692f8f42313a967ec9dbe8b3c03f4cdb0dd898627ddefda4209a7672f24bc2799f5485559fe8116da7fae43c3c5c897068bfae3448b8779513c677eb5a1dbd795e9ad6f5948691ee2bfef22bed772f5abde932db12fb516885deea88262d91cb348575ba6ce694a5098669249a6658cec45fae419e68d26166c0124ec130e24eca4b82d321e9dfabf1b89a19bac70812e63700e99e17b28385b77b80c268cb5507bd6d8b2662e766e648670ae9054598ec59f236eeeca814adf7bb4eb91d9bbf8bb6ab63b06b4ec9ba874824a8d629cc65c777ac736ca9e163b62c8d37ea287d1dad4267f984a50b26cf198f793cefc32632d5c153e9874f10596e5dc2171b45bfd492980b0b509e5b3ddecf214eb254eae3a888811b3e4e2ddbdd3165278e3a4e1239c358cd91131a5059f964cd0d0453e5332747967b15797fdd7474d74f3db7a9ae8d6707d743d9045c83af5790b957b8b123b1f6aad01c162a03afa1db6dd609099e03b3c0c2d770f00f7780f4240dda62a3e85fc592a919e8738aa930ea9e5ea566a20c15149684a98dac5e1c6d7d487085183e379c2dc684c93f4e1b1addbda2cdc96be7ccbdbf7ecc1cf4fbd0fee83b5b8a550407b47af1ec1473055ad6e9b57e772ffc802104d248dbe7f012c48064661e8e2e923fac8e9165f4c7d3223779a6a70e4dc51fccfb5aeb6eb204342c8405616ea03c787f9f503c40afdba1dc0c5e637781b2ee41266c97d7559b6479044cfe5317db2a0a8f9c3abb67333996148eb1aaa0bbecffb8daa9b703e249dc2134d96068bb39514ee259470a511f47348e185a23b4c192876dfc2791cc3a9340216bdb80072f0c3ee33e5dfe3038793ddb4bd148844550aae72d8610c6fdc37a04247caef33045dac0e824ec7232fdc963e637e572eeb15087f8ddc4fb05f56e60bf97c6e2247016e57200fafa8d7218771936930c6306f3c512669b719330b0857776fe3fbcb67544750421d534172440a255ff9240a359726dacb96de678509eb849c921fe526067d6c7681012e5b139c7c9dec00bc1b010cb8952f2b75c0faabab7025bfc1d63af9a36448796d5466c33475c9c8cf21ccc1bc4b4403b35adda03dfdd12ff2a2606287403fd3443b6892bd92a7dc37dea8721aba0aecbe968c6884efc292f08acf4852f94ddc552d7087fd95a1e423ff17aafc5a45895d6ea764f2aad25ab43a33f3381211d6171104cefd6e47910571c0f34d4b559280eb1567006cc97fdf3378f1648664c1cef8d2a30bca3f260110a94f9af4e731f082b315c95739814cfc50e7bbec2cea44a5343949723ef2ff189d0ed3ecabfa7c580aecc272670f895260b49249ef4b32b3940ca7e95ffe17ed4425892e909d847fdb7d2c0a247133510f1017e7e4361b0d4191decfb43148af7263647638ec4ff83ed9f1f0801064f061cd558e1ccf9ba201e8d04dda2cbf3d062e182a31f9eaa1b89cbd6525182aa7a4fc9c1854c39e60b1f0228de372162ba37627991849348de32bcef1d020460d950c2ee911eba773b9928e00bb8393d11a6ce9e1cfe295c3167d192e4f05719298f347cd27c639ca8982314859c984e14beb0efcf157288bb11e230bea778c896353702758d2840120a1bfe4ff170b60adae89417a359ccab2b157e8a94a7ccd23344b84793b4e7bb448f84edecfe42158e778ce8c21d074b8177aff0368bc8b1852e24714dfbe07062405186e504b5a86656e2b5f841e00e7b913a359a9edfc49e05a07eb63c0ebfd1b94dad2ed56159647a6e9c57bc23daabec31b7af47741a44798cb777fd4ad9f62648cd7e8962579da5f726a1ff81e680b7f3999642dde6ea4a67e10b751a984cad95f2b68baaa13c8027cb4a799fbcbc52ace993c706addc2cc54f761ce2904f3be1957cd93d128f33cb80769ad897ff5f555d735e29288af04d212a750e74b97f8a1d651b777d07c696931b77da800d0f61d61805d3a6b01f0e7f450e7e174aaaf5a25b9423bcc0f7d62ac62cf6c9daae006f76a3aa9b122b39eac355c5992db895b772b1c75b3054f1f534aa37a51fb1d9a5d04df83032298413b850598196b9f46f7972e5cc8a187f8781d85d01a5c9e271b83c661c2e3d7ff5eb8709512a3fbf87d106e79d3008582a3f23bc652ee40f527e1b66213dffc970e9bf0c9ead31a141b09540dd3ad10ce0b4926da39395084715bc8a537bb96add8a6ce3db756a583bbcbc09a67d65fcc110365264602884b2492a6263d8b3b9f8ec87362ffffee0ed01cdc992b563160d33c83f26cb0224a4769c46c9da92f59f9c1c2d2cc689b44188f29ebae934c0147f5b3656e804959453a281f5f11e7253ad806e06bc364bf902e17abc525485e42faec6f8527955c724650006dad86d20cfa501fae88325f85384f97510b7e730f3baebba020d0dc49c827ccbc15ec385d59fe22a92ca6611fb38c88eea75f76825f5782fea60893991fae0d56a7e57c3ebe84dc3fbadb6ab2a6bbc13a0fbf8a33ad405e719a8889b132492b1d504aaf7b947294d99004cbf05b45054d83be00404d611fbbd7789f8ae04aca489133ccbb02b9c88989744e4d70842c0a6caf93d82b9f20f3abac2f359f2dda6fb479e4aa3b9cffcdc88264fe3570373a78c7dcfaee4dbfdbcc98e52109e1589f47e1157317fe3075195725dc7bb778e8217745f610f5f7891b2b52b423addb987bd9f3763059e9b7e4f4b246699964bfeb6da594755ab877751bb2564af55e50f9323b4d14cee6d45605508ab8a5339bc597f6ee2ca27425fa738574f921bb286e6247a580531429efaab0afcb70192256d66d2fc347be39754504cb99a2b68a2254edae2c753a2385584206b37b8684b1c44f7d5ee06724cdcef4fe92d47b04e93d968f82b8cd05ab2889278d4511f417ea967a82a737efd25ac5acdd377bd60495e0a5f45c37e77fd9c83fcdc59d670e1f62526e4e7b9db328eeab702ca63f0fc13798fe79426e8c2f7e8699b499d9530d40997325a24b18308e65276410245e8c6fdce6c4854c83100fec864bbf9a492cc24d8bb24c62033871c258d5bd34d206302d578fe99ce64fa4eff73a5ff98abb5f79b8cd08298cf44c1571f145f1dc4285c7d78af17fba5e9540d27342e11f761b7f10e47d248333814c182d4e3522c2b11e3256ec0ebcf8a022767df5602ff4c2ac799bcc1fa0ec553120ccebb49922aff3e72ecf95c41bec406dd40a685295f074eda8ceb553260d35e5f0cc0fbbadc70cb1c8874e328585217c42263b9149f7de0a4f691a616da9850f6493d89cdb3fc3c8b2120846fa1cbdc8e2df67c33c64c5fb811927e482a060ae7f79f36e53dd97b0b85ca85425ec56a703580f946e08455ae8f32b1c120bf8aa5dc5c242d47ff7829246323fd7608ee12108e09f1b6d59e130cd76a629694b7853a7b1f33d03e352f54e811df0395d75ba87a158173350439ffe22d55f852c6347e15cc6789feacd988216243055003f643772b2157637e3a8f719e98e3b02cd13cec3000e55d7c8cc8f20446467affb6d45ca7817788283b264d9d0cd437975b0fc97ee9758bd4312b1eaaa97b8656cb764682608a20610b81d9b86026714bf2a929fa271ba2f1c994d273265a230634b618b4d8beecb4906ceefd2eadedfce1d37defff65d664916e887a72b8f58a26f8598a76ac022cdce77f6debd0861a3f9d3ab047d82d5a600123355e752bf982d68079efd21bf594e752899c2f37997e39601aa830020b0eb406b8901a6924aca66e1ff8d4bba1f3cb0e79227434d1f4192e100cee2ad6af4b457c53d7bf0e3493301d4d5a97214d6cececc97e9587aa9f508ff3c69416e636bb46b12c2f580aededcf4be36a38327776e5be08907e0835e7e5cc53ecbb7bf9d95f4a77f1475ae9caed3b225938f6e51a0ea63f81f5edbafa92f6f4ce8fabe4dfdee21360249fc3fe58e00b4739a5735c6c5c16b4b606118f42e457388c3767a3984bed473e0f34927ff47ff7cf204743f2fd95d5a389edb94f68fd26fca2248d5119a57d546c4b884246e0c4e61c7e999ce51d797bad5a4e6f0af904017621eca54cd252a8ae9d4eb2ab9224cd29f13a976427700e5bbc230cdd7e9c89b9f88e0d660f71585a08024becba71a8b0f75ee584ceff4b208b0232a51d9558aeca037a7127fb4bdc1be8ee721bb07b079310e8e507c643902616bc465dab29fc8f9a341192e05420c78a9d8aa59c0eb97e3c97dde9f30a0359e507f59d70016621b5c57cc45c126f6d5a6775caf2409afaa46aee3641f644ae3612b051f08f9097048f49db37f908ae10313242a0bd3b3173cab311c60363cc206ebf60953d1632bc038eaa597abca30d8521c190ceaca315d62d9f597a58dd1867b7038decb3b33cc400c0a9a65e451894d6b28a34e590a0233425824ddb87a2489611bf3b6cfa8f594663dd862e45ec99f18b9dc6340a3374f32b1d8adb4b5eddd78338eb58f0b2b67d07734e29a8f6227439c5705ac67c0d238c14c1a5db13d2bb85aa18474f658a9cf944d4fe0a08a150df95b9e36410500a4d22d87e7a69e02120b06b1ab27ff06abc0ea2a984b2abb6c6e063f91ea490ab7cfd04685571261f0f25a324bc3c797c8dbc12d4b5cbe0046858aafe5c269d1ee714baaa653f90dc09c504b1ce31f6718e61e8f89cc5a553c3f30ea1d6d62b3d347ad90f0a0a159dcb6cbd2fcd5ea4f2673bc6ac1fdf98e09ca4ccc1f3a7688d119b5e5b7fbf693a06478207af6c4c85137595ae18d9aef9325419bf1337dad9c69a3f620c863afcfe18c146f60d93960c9f83f13fa1cabc865708631d469ffc464a158a923da81b6fcd172e1a9f65d4b123c61d1b7a4b1ba7d293c5a8fbfdbce32d3ac250a09ff990f1356581663280b340f3f537b7d30295ed5492d779e78aa22c9d49eb66a671752ca2d23f6e691b31163fb4619d088c30e0522d895ddf23f97f6e00f5f5326961f1ae4bccffd72ecef4584e855629a262714ed8ac3afccba690d550d0497524dcd06adf853f130eb49afb4d720398645dd94b390a4b7d3302bb585a83e95c21cb5e2d23b05c6e48ce6813ec251684b9d556c9d2423bfa149eeb2a273a89c2c97718b8f777abd67572aa762228954712420bd3eefab2d128787dd31ca290b8654c98b889b52d8e6bf622c8ef00e9987fb48163408ccbaa12c8f30805a9b51564e1ae0d043e509d478907821116b1883743a0d604482c5ea8eca5be3e079fd452a945124d69d95d955663ad313c341e77cc9b20cffba197a663a1101561d95c4bd3bacdcb252d767edea7b57d017631b893e0685e85c22bffcc369eb71d743cd4acd80aa60a5e9ccc87b7c77a09a22d4a1d36634cd991b2d526f08f923c33d78009ae255b33e941a1196b67f2e7c1925761e23a6553e8894eb63970b4fe5d96ce68f3dfe131430b365c7190f099391d1a504bd53ccdca5d9e0f8d8962d66d137bf53607185d86d132e9a8688859f11da12c24b28b6f31f72768a7f3ccae3d875e43dc23a1102936720c06d185dea5ea9888dcc1ef3a4e75187b68eeb3e4a7901819691077878a0bffeb64898dd1247cd690f9d31fe7ec0ab3df8bd248495ffa06042a107dd5fd0a6f081aad80e5d435eb4134f104634ce507444455148e3d536548ecf629349793dea1b3f6dec19144ca20766ca7d3539b2df73be442c744127b0ba278332178047808b1854b5b3812d0094dac8c9e9c6b351343d44e63e25a1a09d24b8feab983df1109e8f0dcf10d9afe2e7a6a468211c225f8920bc717ca3d5e48efc4a7b08ba6705ab14f8c8991f1bd8edac52e9c4e22046bbd096545f618cc2c47ec9a08e558e1647d8fd75a0d3a4118cb8591381fc98262ecfef6b7d9fca1c7ef3a34bf960f2767a25f5abe204c942d848670a18089eba6f7c5b86a404eed727e0de622c4dc66f5fed2648f5bbe5a01a853b30f3850a69cadbc59013d38ffbf52a96a4a3f129109d6641476ebe50146edbb2e67c448a90f60dad8e6d15c8e047429ad67b99295db5bd93c0f59d2e765fb3326ad70de654b65f3ae1fae0d65a9516a2b435b447b2bfe63965130ae878022f59388b017f555104041fc655a7713af9313b682040ab6bc253af8c141be6b9b201f8bb7c5266a46fd958854a9ea5299ffbd5530dfb9d6c84da7d9851c6bbb0b043e2a19597776351c02179f3ed2bbfaec63ea771ba11d3e9ceb8effe94950aadf2c13536404ac76816b8f53e98ce73aa0a2e7a2a3d650176c512807f9ca1cdaec720d7fa31ad20dbd5bb3330d25e06e817a22f147e2d0cd5590a873b8a5da467b9206d27f5c1425bfdf12dd2a02f22d00ca5ae2f9814d25be52a86af737f4fe4aeabaca57c529f06f66211be8abee3a1773a5849e9eb861cea6607d2fd6b6ff01f755c3fa568628ba736f1be71c3f6cff15995198ada7faaf1b3eaec60d664cdf8b34c1806ee1f99f23532e443120d65ae22d4b6f4cd34c6b10c64770c904728337fba39ebc267305229e3412dae451ef2efc84f1aa072b2d63cb0f7dc0725026681264292dc96cc7e4ab25e94a2e5259cad62c8dce9a1957283bdf101df11465dd6fb5d1720e552606bdf2f9ea14bb04f99ce70d1728635e4f35dbf9c2566651bd1dffda1005d7e5778e41c9e4b07abdb0bada203a2fb962cf3b843b7bf7feee612c618dd46d72fdba2f023b6fd59b1961cceae5d71be6923acabf6eee7522abbbbff28833cc0ead940722027e679439d9d212fc0d007edc6e6963e390cb93aed725f7a7d6d1695dd04f326078c908f5babf1c537e2ef1e8535d1bf26d21162d794e9d867d6c42e5f10cdaebb18c1d0b0135e57420de4fc6d62dc65918eff2cbb621c1e820caa753179614f9de2a672a3b86b9e52b905502d495881b64a99278a63c24083375019d36fb9c69d9677ce914409d350acaea8c82d1eb0650714bc97070f8d3969266098d9aa6a8b175dc7465982c6d2c26cc1c35dd90d1336a268edff26b1917d1075635d512f6caa8c510cdbd46f94224d863c2994303748683fc09f4e001b094cdd922ec1808bbe1b4e3c158f4994319cd737903290075fc6f436ea69d2919af9eb2b6a8a6a92c1a70fc6752b4bc3e5fe2d0538ce4c82b79e1a2c770138a48dde3520804689bea89562a469cb1c08fe1b1895fb72c777fbdf15ffc46aea0cc4304aebbf0d023d36e7305c67799f5e4645250edf44b82753be528e962740f3e7326ad9dc779aff89fe72d9cfb8fb7c8878b33bf8f01434f40dbae298a595538f987c4c7cde48fe71f2909657f429917540e6e9201b8c3b8297234e8bc4a2378007b3e2dcadfa19ce4af18dbb7524812f95068418b6888f41865dafe5d2530a835abb798bb859a3c92333028510f7a0c7bd7fa912f50f6afb3688ea9a633cd660af6592c9df1bc4e41b876b93f6579f8e5ec2023b33dca186790e908c80b4149907f81fb50e6661d3a6e07083e02deebb207ce9a533fff55f9d99e3d2b7d3fbe2c2a698e894ddea00e85d33eabeef1dfcfdb3b312c3c4475fb36ba96f4017b9075960fbb26121817eba440c27946b35ba2c043fdfd1cb7ab61c769203d9e5df954f970d21916b4b8254c246e2261cb4ae323a2b543be4b136fb629b4a74d3c42043e778ec089a8912349f2527e29825166abc138ce9a332dcc1bfc87f45304db793dc0730eac9f56d5cefdc44c6e5190f9c0d5be9afb1e37db9b27eb554fd5366d9991ec79dd3d6356e3c6a0acb86eb4d3aa51444458e908860cd1ce1086c7e8253da009d437be97048ac72cef78217b376a04b9ac30c5db2a308954f60648083ae433b7879118719b9850fc7993f284c5c80b23e2cd7dcf8e38f328ad08383562f3cdf8cdd06364c4abf6c3273a15efa6bfafdb66d25037c10bc8037201a4238f12857c40e671835fb676252c79dd0a1296738ea980bca0240703da326e2e22d09b32fe6c333640a32a5a8f55f574bfc465575b57a9a8ff9eab174321ae36abfaa4b02e93ea7a3a9439e2646923996f98f4fff7a2d1b9901ba2763af9edfa9c296a713b70370efee2001f6034d42f14aa470b4aca2159bc6bfe01474831d48c66e2fb1820c7379a03eb6bd38527fe881dfcf5563000f06379bd18ccfa9f9f8788cce1f16d93f61274f4418f947b01c5c3347ff4b984185dc2885b28962c95278a731378912602d259cebac23b670a094dcdb831db6408273acc90d92ee4911f2a2a2bf611207d21a222c8511dda1a915e95fe4a21a134096f0383e736d14c7c17194a129f9bfc37946c57b504efb52c7c34eb43d0a4e1b427ef8ec00fc185945cc5643b65675ae42fb8755e75dd1868ee88e91b25fa227ec5d0df5067ed65b90fbd8efac7c13921b7da34b6a23f65c96c449bf6ec51bd8ca6bf0a0af9e0295a35622bbed71829b5e9637ccca675a12d7aaa777504113e83f00ac6c0865a9c95803275c61ba48c496537ec4bd4099225f0485e75ac7b5b2c44e4e9bb7cd155f3e30521e90c7e1e040002cc333afb6ba49e5e200c7137ef860d9be9374cb4f722c79e134167c7fb6dae80b92bb9de56992fdfb43248bb61435c73112261d9aeeb71b6bdca09018718fae16bd8201ba383a92a296b4d58b0f7c4e1a320f2ca57a7bd1abf6b261925cef683704096e210689d09b806fdb433839bf851c171cac61fed1df1c48ad8f5b39a8f56eb3c910e702b0e175b01a16cf5f1ba94bc632af76dcd3ad778f3eae45db801e837ce9c81e028b180d76a3caab76337cbe38ab8ce8ebdaa5499aac12106b28a44f4e9b1bbf4eda302c304ef3e33c97a0d3e7e9f284a2ff785375b43f722666031853bf220c08ae5bd24eb58e40c37b15bb820f2b970312ed95d576f71fa8f699c2a91adc412db3adb8ebf002f71ad0f50bfb820484e1846629d080b98d3219e62dd8597bad96152bbf0b62f373a4b0f607d5cf324be2fb9eaa07d68a3dde19d836a33593cc4cf277b0d580ddda403379861b72e129ef356a23f6dd107d659c8d2b09e2bad4c29583aa421fe6abbbe6366d649fd9db20bca83c60832f81c87d28722f44133255243d42a1db6abd6e229fee7bf5158430533a758bdc4bd7d7bce895ffe35ded18e8706a9cc8c25852db7b1f7f10564e502be95fd37851d705d6feaabdd8d9e84a09488a177e9ad5155ddc2b24713d7abab2207b6e650b04359507873c8aa31d3eca658ba6bcc0561da37bd3c6e1cd01457c890c1607eafcba60ffc04b6c4f840e1f900de13b35c7a9e0345e07f0e27e22594d3b3968bf6630e5be9753032f4a38f8dff46fff9411e6c02383523040b492ca61205211f8b170e4578dbe9cc7721d245c6ac85c65085092ff8c0f84bf2f4bbb17de0cf5d7945d6813e3888c0e5cb75a6a7416e1b44bb6ff090a948e239d487d71210409c8ccb70463a258a275e7e4d080090692acb4d5f1dea7f55e2b3a8d9186cd1995d3aa3c8074944c55883bafe209281afcf1269b9976efb334deb111a376f83b1943aec351f63739085fc8aaadb984d36cfda3dd36f10e7c9f801bfacd303694f673044c233d75da755cc595216ae72e5e8e18d25f76738ec298567af013b544a12217de0a7d90cd14ba9e9768245895754d1ddc9d93af3013181b9209da35955ccd0803dadc434b83906718423a8dd974dd417f2abf836a464aba3923d4c3546a7ffcb8a63429f85f27a93756d7ea5aee82c314fe5e625b511166fdb7b2447e4c04bf9eef83e2a87179f460415d66a59ce38da50db574f6637b5b54a67ff7f814d52822e29b5599296d34d70fd639ecec390cb4f493eadb3869c5827235f074de3ec2a228fe0c37154f649c10a4cce5676592b820fef07509a0f26659132f0945cbe4449a29399fa15fc248e92f48e1ec9d1991b4ef3fbb7f7bdfcb43139b02bb528e2be1e791f82dba37c4e4cfabfc88bf6c49486ff16afe7196d1e605781761cc91146bdc85f9ede93f79dc2f75829e6454130f0a0c9b98c93af04d74021fb3440d5bc64b3e8a553c5f23205940497d755bbe8d5e2b978e83ff09dd357502c160c1186ff215c2d7decf9dbf9d0000c51fb25fa1bd0cad972c7247d2bbff9cb1289d609bd96ffdb7b74a31feb0583d3186916ebf695b6e994eca8e456076a464a93faa8ade22d5d99c04b55d5606d933e6d37f4b3969fd861acd675952c7fe7c9929e1aec7b15658506f5348b14ccbcc86e57b689393ec3bbe57b65b78993f33a55566fd9d2d9b08d4c680e53cc87f80bf0d2aba9a1529faa14f83025ae849de6b20b0fb5c7857609823fddb75ae27b615d86bcfda6ba491500c693c05736918184f8eacd7ba334da38a83170682dcc7f4d01d39956a895bd2a0599952cea7a74909406e2d760a8122f2e62fa65c536263d5949a413536dcfba4953a94f050395bdbfa90bc426f546c86b84e4d5d5eaea4c9223aaa10234c286a00658953ebacbc82c6ddbc79d01b994ab7771b321f7ffa1cc33e2d3911bdb9eca30575548227b761d9e3dade21a80ad115e020d24f193f7f9615b25764c12a2d905409f88f28f536a86b482a3531cfa8f93c74c7c5c1034ef752ee70ff572d8bf6faa2ec06a4c33c8c272665bec014366da27a1e9267c5bb3d6672fcd883c41ad43150c6dce5018cbad2bae6e265af6c467ff0c82911837f074b3f1c3a7bdf71c5ae698047ad528df3ddfaf6662fc0bcd2e431fd78dc2f42f4b0eb62d8ce13908b37fccabbe4cdd15d6ec5ba60e5737f163c1fa5ba63164ab3bc898b7ec988a4b4ac8696a229db22c3d83db963b2bb8d35b0e439dc45b8a19e68b1caecf340f00a1ecf39fafe3f5d54ae981ed2f2524f91d149636b375d2f7c604b7b4ec01bf9a833091971615915da0926a9e169804ec052acf65a9f94229123835c97ea047cd6766a6cc101dacb46fe49234af293cd0557f12b7d1c594211f22ab292be9b6b1749a029a893908ee2dfef7f1dbd1a8e543749f9e300a29b78a2c976a2787c92042cb8befa9ea4fff971c968355194f401f2295ddc8cc184d1ad8cac9d3d0232d7d134ed8c995ffbbefef045f3ec3419ed7d281e9c2492bfd9dabd8829e0a1a7849907109bb37135e67328d37abe9b473041e7dd687d2c36053d3434996764392cf94a787c0967fb437dee0286f20d5f15bfbd0b7de860c9b12f6ea7b2926ba33318ccf0a880e06e5b571b37a9128aa04ae943bbea879ecaf0041e9d835f93cabb8971a41ecb53449113cbe0224ad0d4f3469b5508e69d70078e88f66b72d9c12d31dcf5da6b0c3a694293a229c2d9f180bfb8df8eda4e2e005e85536d17d75a875925a49beacdf80d3c620d90cc9dd04c57d0f6e1e3bc408d24262d43bfdb9d607d79b3f398b11fe21c6afc98c64306be670a85a89d89a783721a159ea0386898ea0a03b5d93564dcf319c47a1c198308abecb0284aeb5e62831adebf6b1b385d950b4cdc72c10fa7544e39f84d5699f543bd9703a7bbeb172918416d0fc5c6ef169ac8a18d271031d9d81e53fb514edfbc2b787a19560d65531e926011d4273838c762388da9e684abb0e5a2fb6dce2f070909c77d205a11a510c688515f34fbf95e9303231ed34462cb619b6b35a7ec73cce9db3b7cfbb9e8ab0580d5643c8d83b0045ba3fcaf5f323be6c0ca770cc2492ffb32ab40dd7bfadaf761af2370ebee9cff9add69ffc7204dd2b7065d5de490c49dba330842f6dbc805cb9409462ebf4d1921a2447d22aa2a300220dac60bf530e864127934e22f7bce496c00beecf7987667415c252d4982f68cb35c6ae0370c616593356e3ea02c4bd461ced87f6f88870cd7b7b93db5aa55fe5528bdceb2a7a1126eb7acb1082171fd52268b91ed17188654a0ab50e61fdca567675b10cbac6b21a14efe49ae08ebbcf1f94b1e0af7d3d1c5c8d5f3dae62c281a86837bdefc8ed72e1ae98fd6a6a9ac0796c1cb99fbc1be7e13122029e4afacd4e6fb9de90c398f4e753306a320f19d0a5ee40eb9f8154ad5e5d40eac225c9211e7daabc349c1f6496e55e10adbf4efd7697a751369f2680e6c2322738ab1b6ef914b98bae64b392fd3fd205cef0e88e59fa66dc80700ed1d1190294bf927cdd6edc8fd16a3d1f4ae662f61bd66929aab26443d44060104e521341e410161333708534adabe2c310a735c0bb90d567faf5be7b33c7a5292abec7b31a35ffdd312c109be159d1188fe4c2fc470922e4baafe9f85df874d7dbd8104ce6b7b981b97e8c4d4afc01f5985d93652b8da482ee74cbd3d1ee3637175b30cbc5e048e429efabd6511f096c1672fccf2d80d24013b978c98c79344d80f27ff3987f8ebc4b0c73953d9fd70cfbaecc8c9232475037350ce6919b02cf808376ba07fa33ac97a2435d62315e537adf09c2b8eb92a661de9e33bed80cca430e308fe04c0ddb7785ffe37a62562c342b020312b6c4930ca1e11a62d3e1b19780586630f207ba2ee537cd10387c8fa43f1f6c879518a372674af1a46ee1efc359ee09bef6911ab17db889f1468c27210b232b1cb38360170f99097ea1e0a093a0fa3d90132debb07bb55f5fd613c5d0ca065cf7f74e6d9868a783211bebe1f11cc358f8926ef77d1920f6772ff3596bc7cb82341f5a4e639a8b13001f1dbe76f37d9583b56eafe1befc0cb9dc95e4a398092d473adef49dcf1c6e487171028cfdd7ba90fb87888fc90e4f458b0044ac6105c41c59428980deb558d6b86267c15ca4082394872f744d9cd47d97ec53780db20bc06e2f7d56a017b4d7fcf327bddeb8b85117cdd284b83e05bf65ca7a211c4f94888bd7711e49b9dac2ca67eb9369cdfa929e756912149f71fe61880df3422b5fedddc41a4608211bde4b99c7cd16acf9d394ab0cb42c0827978d3151f67ba26d9ec9d7ac0925aa6d4d24d710a4cf18b80d53939662fd5b4dc0e509a30409d2269ca72d409b34a83764b40345b2ef93698af8074c10ff60f38e00b5796ab293367475d06745cde5405d00ef42be0f21b7ccab682a7a5a9312cb84b93efa18467017fb25d381c4830d4a6dbc5bcca406943422af8282038ad7afa0d169ddb516d9e43e4808e027cbfe6aa3fe87f440880fd89ac34735c2359d8acc591a1a41d9acd59365a1a8824a2061f2002a70b062d81c5ca66c97ee0105d4248d9ba4c8f7bf951e5b39936b7e5378c2d310708e43d04d50fef5c956816c06a4869e518ad3663590bd2f4f921de1fb0e2b1a3e507ad7beed371566a8fe90a485d52ef032d3c839784338a711bffd3154be95d304bc1eca49d7bf22e00e851e7bd7f8ed4a476d1e12fada00712f6e9ef353a006a2f961c75e0c593ccaf300120b3de9fe19f8a24bfddbd04bf2875e4c4727e6bcf5a3e59782a8da14d5e732ebc5d63d26355143360e7c780f2e6fdf6fb24471086aa0a899c9f9a4a95bfc4e2f869d1e7f9ebdbaf32a628730d97bbea4f5321f18cbe99337e6dfd8f98ccfc542a0d13feaa6d5626a59c3ba617776b26c77b176039adec263ff79a1af51c516332c8ccd38c32fa175ccf6892ff1c4c945f59d2a28dd012d71509cefdca0c21c4223c0130fa49ce09161f082c3d7f7c981546aa7c661bab0372a9ae035798ab76a1b52a9d4fc21b2948c341b5f7f18677a3d8d685afd4bdb56cbb094134c1f74cc63ba4eb86cc4c01addfd7aa6a44d8df94ccf89df70467be853fff868ea9087a88e2b8893a89cc265cb5133f8dc7c83b379f61456218ff346d9b755f343bf3c0a5a39f3697026e3d0e3ea731ec4c63a5b2fe0c26f1299728563a7ccd70c03ca257c0b61e586dbc09df65d5d1cc2a33895d15c6fc77f35aa850de80b9cd173d9ccf98318144990cc90b88a2e9f0e6f57fbc32d1db7d7df1f485a316ba1550c763874c4bbae0e2a28ee1dcaababe5b47744f8e862716db39e858b9b396ed362b56ad15a203ea2a14b5eb41d6dc18557c9085817b66f5b6ec97bb4a382c871d9580dc7262541369807fdabb141db78de43533c963393352a754c7281240bfbe17490bf62834185012017c4f3c547759cef32a6da0821902ad4a5400a248675ce4d33b635d1cda019a618cf173375c4c1ff72b3bef8e75235246874105a30338e4f57a1a1c55ef95c6921c527fe8ee90a334071da8aa8178e0f80c7d7a9fa1e37743d75bd1c0a012b8c941012625377b626ab7f8067374cc706c9c86a23cb0dd3363c0e001dc5909e5f2e9fdec8635473a01ab4818d46929cb5d10da50cab85aaee7b552d7c0c15b1670a3d1fc2e9e01ffc012f7df2fb8ae28a15b039277f371d3ce3e4e6bb01e27abee1488f6f2e7cbc6e455224d4e7e3adfb0ccca5b037d3353533e609269bad4b17cf6fffd7a8cfc218069c12032914d91c74d68276a9f33ca2bb6b89bda661625af7faf306d441d6b84b172d3754711b486d1e333c5f9e0eb16ce2776f73fda527d142e77f3fbd813d9a96607f7aa930546f478f3737e6267a044c9a2aeef77f06a8c350ee6c805de5749173e5ee01cc0b293c2e7653e1a93dd0b6f6763316e1fe87500d7fb9c711b4594dd7e9295598ab4d4a2190161cc9107fd2f513542882628d5357708e588bbb9510444923683808db90c6be4f4f0acfedc51ffae6b5fb5a04eb86c5fc8f297216a6fa377933d31ce69ad38c890183f9290f95960c0dc46d63f0de10244a744dfb92c0190efa556c8f998ed79c38bc29274f4c47cac5b8a5999f8de2104c80df3596e19dfba9d7f3510c0d9310b822a6a1d19b5738a5bee299a2aad16c31e4bc059e08305658c4c7b4711a70852ccb53c934895ae46f419241068fd4969e1eaa5a8f8acd1fa6328627af94df5fefc236bda65ee5b8810d613ece8d13f70d8d41c8db9af0d36994a569646ae4a983eb2d6cb935bbb3de9e13529f2db5c5c652d560853061a9be11fcd85aa19e47dcc4c4b0ee1f201fed20e2d38b97a22ff7d5a8b42620da425f8fa73035256d826ec58780b3577a868e7fa78c549989951c4b0459332a76158c7f6afbb44bff1a7f54839fb70440482930c531e3937a6b13d7e3b2657337494b349f1511c3d68f1a2148c88005749e590420bcc2e9569598a4183dc136b78b148ad6390532bdbb2ff39c379ff060bf6d5c3491f3e2689fb9bbe6165fdcd52803052635c8416621dc15790e6fc98f0821787aa6186b6e01266a61d033462d2b3d54197cc8f579b3c5d269e8c007565505ad2699636189a1c35aaef6374c1d7092713ef0413e7dc81dd4a5f3c65c4447739936b22a5617fb121ee425d11d4f15e0cda28076b43ede8e509ce763c43dac2136dc27de9c71bb523bae9e496c9b87309ce12511283f5d030c4e94adaabac5b151eb9ede89bebd931a27088c12b254c1b466e8fd48b9ad54f4965bb5ff0155ceae2826928d64dede5d2923941c74d72c3a3ef50b2dcbb1a4d9cb8de38361f53b2f21511944e4db10da23a21ea93aed07230ab29b074c906ce88292dd357e93d8726077b0d5ce3531ce18c73e65ff24dccae650b1c87956101f7610bbb097a157835a4dee4cb5d8afed8c8802c5e73e63f80d8e36f47dd06026ad72f0e47bd21056799e95daa5e69af36609b88d05d301e73ee753fe3830fc58db77685e12d7a7c1793db7ca8b5614e549286363afebc2b99520fc9e488ec95ddd4b084c3c80e57cc708f10690d25fe0738b07299cfda0adbe874f5dd84564a2b3dd986c8c87ac543c1085b0da050546dfafb4b8f222263e7eae8b9a37b7c9d3d02fb9ab5f97096d6443da5fb8ec4b9e015652f6f174ee441872e7f3a990bc171e236368274120f7e9e6d2a2872debf00c08930f232b6555909e3e5b0a0ce97ecd9b4c4c3612118fa92ef902f15f7a0caf914adb41966ab3f77282f9da63dfba953e29fd2d74625e2a6e481adf5df7cbd3ee4a72c8bb22a671723f420c0b829c23bfd64989c18cf6c116c54fe001cf61af7b2609b68074295a71226f8c85b8a91b87fe09121d4fde72091b8084c4cd68f7f9ee671f088e5d1ed337e644120fc0eee6d6ad7c0f344a1e0122e106ccece78f4e0bcdccb0ed00a9d8abd659eb2820034e26fc6252b56684ac6a3c2ea865b799cd4f17ddcc38845eca85a1723d7414e373e4d19abfbb11bd344e635c131c8f7c616f8a2bda510574fca22a40f325ba2f7212d903e2b8bc741dbac7caf9393b2acf11762104d4e67c3cd0b610c9d08344b830f83e3123ced302bfb154608964a7ecac8ab98e337b45bdc8ca6abf6c16075ede8106a99c083d2b3b58fee2dc820725176b984fe6c2976fb72ea49721760715e46c1f54204386fde4fb16aa6faf3ba89d1c547425f8457a2e8052c1687c41053c769714131a800c0c2e3a49bdf8e352451b7b88bdfd8dd6ac4ab5293947b3fa4a955ac40852d9752ff18a912544071462463bf7466f566670d7376467289b9ebcf5a773fd73632eb626f2e1906be0a96b283b6336f4e3b93d18362c8342cb5741dd5b62eb588d64221e50315deaa944f3e54bd72b2a2d0be922af94cb9e24fa54832a823eeaf520b0faf974fae79f11d88e38d7e9e7166ba358b7c15281e3392a960493cb418089658737ff34ef30fa07dab4349f8ae00d821782a554bafdb29452ce0f74072b8e082d9bc9693136fa591a50f6bbd18f73f17441e5e457525ff88687d0e768c1d5f3e2df7d330b9313c9a7b4fb1562d9abe393571d31780033bd3d412afa1c7fee7dd230afc5a5ebb9c0de088c39e90569efdf0c20dd0ef91d45714ae25a23c43bc085cf237db213a504a9ab81efcabf279001c0b48ff6739e15168c4bee5fa2b958e484e5050dfcf084b938da303ef4042f17dba88aaf2d1b8cfa5d31f55f3a35299ac33c827268ecab93a7a138c73966d3956a19d377a8d8de3220f1a1885c6fe0ddc649b3943ae0b6fd4fc605cc6a74288e6c978a9d4324bb95fb28e9bb06aa8b77e6527c6fe02c7edc30d315dc7407ffc29c5ea2f1c0918ad15a4debbd7ea146fd8c0fe2fb0c641ef0b2128a35d298e10cbb10f8ff448401f3bb398e98ce31fed9f79d9d519cdfce7cdc21612913a4d0f1954f0e1f85d9d4fa3e5769e9f4bbbc14a271cb1709cab37b41aebbc0237502519a3c26caf3a4e140ecf92966d89aa2c152d08c5eb56f4d12aaff52a2f4872dd217bbda57a5066ee8a5bc9bddd9f7322cdc4db64bed95312919940461bbca68985e681474e64578c41a567208afafa9b5b6e9271334465c56a5c4005ae0c49d34e469fbd19d96492d608ef17a03493a53d8be165abec9c184b395d3d03c5c8436b865f2623f4a50ce79ba44af1099ef2a3f1a9b609c5a4cbc94c8c00eef74b1ebb7782f08b014f9429870941048721223376273aa9bbec49ff3af71d71998c4acc0b0d7af4cb86dab69f82dba5116ecfa334d1c16fb24818c910cc680b704949f198dac9d20cc282c5d0e5719e0ecc18583183f818da29454bae6868a5e7be09193a635455768a8751c7fcf7dac808fde980bd9f6405a2d273dd34fd605d54050bdbdae2c28014593e732b79db8b10f369a5619b7ffa2064a52768af144d72c6951e51f372536ef4e4c98f638dc279c8a7fff4c57027f7bd349aafe4bede3cb83b34b201ee6d8d17239e0df8e799de70583b937ff5d6db7ce954de142aa48a2848cb98fa877a1a250ca037ec3a21ad0626893f36fc617fdad6b8829154d517e685f7175a71a7465150cabb285fd83252e8dd4d2190759c9f31af8f78b5233dcf6936248d6dc7c227851ee357551c0a184890c73d667a56c46394a769b05398456ec60e02f1d6fdd7bbdabf81f6f894c28101513b1f0598395627520dcc26964e00faa824ff6cf3e333215d619041a09e873c918c95300f2ac83eaa79af2753755213bbc0cbeeff484b8c42c6e16f2095bcf66c03b4ae252d5a2bd82f4377d93b6f847593abb60bd44f9ba0608b99524276c0d77042981ad442efc51c9b14f7eea6c4435ca32280ad0dfd6f3a730afa4d3181487bc1e8f87c916bf3e32b173f0e2c0ecb47a4100fe2afef83d4e25f8c895ca591d8b754e26860c3040777c8ccb005367b41ee82155b407012b7341847dc23b3792c39be977e14726092872ae40d093c2c7bd13a5a584f831c899a536255b4ae7fbf3d488621939eb498532cbeb812441a8dfa2dca11c79b6439dce6e2e45d85bed9e63a87b544476321b8515ec0aa92a49ec7138f05fce8cc9e0f3aabbf8ed8ae49dad6d16c0bd5fe7326a5cdbee98e671f6685751d9301fb5169132a2313dba543d81e4608edaa174a81183f10a27caa1fe1f820bef4a90d1658b30916790d115d7645be0891b22e51ce2a1206fa760534137363f08a2eafce4d987afd57b3b610ec092633839e573849d49a8fa1e5b2a3c232ca6e0808064fc32df5469f3d7f2197aa7782a7388345054947810daa04eac5cd929539214eb54944dc93f192d9b09d6f7f601bc7f3dc90cc34a679b0ff09a5f5a6553cc8fde17ebc5dfe66818464ee11ca03d325f4920d773fc6fe67b766883aea3b81e6ff6c80eb01b43945956265ae8bb8d4c9802a716ee2cf6079db88a848efc318b74d8ba8e1e2a714","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
