<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #00FF73;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #00FF73;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0E0F1D;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show"
                                title="Show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show",
                templateToggleAltHide = "Hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1188246a24ddedcdb5d128e60da94f048b50bc50bd7febf372e5e5359b46a3dc4e5e67fb81148c0931b36ee6f89fe5b4617913d782884553e695f2105b832b1ee7d8412655daf1ffaafb050f5c15ed07b2f7ad7c7dc46e57fbfd6339bcdfefe2f2b47145520565dc6ca04f6770c866582df2f66f720a26de9a2b21b66661c177d2b4b12ef822a758b0a4dd81c74705720be7f580d78dfdc0b837e215cb9ab1a70e4c21c74d060d16cef34757b82aea3d3264f9a91e81e7323945dd9f4b9d5e20a2de105835f70b3bf07bdbae5b362503e7fb0fd0407ada177682cfa13c85965a5408430ad70218ac935eaef1e434311c760c9253f9705ba633295d5ff2306321c14efea0983856d9b3b020191372c3fb974f61ab9783695bde4d49ed3b7b2b483d3a6e34e2a464cc4732d3a7a70b332e0768a39331d691a5d1c70fa1b194d90b8cb80b5331a39fce2b236f3753b843cd92340cefb5f447da604aa2ffa3a6de734430ff49b4b8b0e24f2d229d88154a1e6e10b8008efce78cd18878a925039cf363dcd81a432596a05e45731a8bf0a2337712c06b5f96d99a8246c4b2e9be6268315c8272b71114626d44dbf5c108665c82e60031e0ee103860ca95b1e9a3cbe26076336262bfd63ca88c75aee1a3d9c4777a848aa8be10ede284b48410460c5741777bc03d642e218f8d0c7b6c5d8e7c9ec2dafd9e036ab3cf2fb346f269d756964342d89a37d93d0afdc4db8d82ba4e44a662342d2700dddb560217c040ef8518dbcf452583ded200f904b8b24d6bf6f112bee784c6b5c00634f0b0934a4754ac53628537316196a3e1482364d68835d0539a47d2afee2a4379f25b4a60c1f3c57d8c2fd61b0c5e68033680daddb60eecb60520f7b1d9bea2587907622dc818d91d224d57449f54483b41165c1d7bd0a40f0ac672ab07530562be1cd4b2453f8f74a04094c7795cc6d407fad2bbbdd3ddd9b79c4e770bd4f1ba5517b64b22cab2be7a9c40be11361717fa4bf24d0ec599ad7803da26abbaed7fdd9278e7daf3c807e5323873c761af645bf6439e1afbd5e93efe3569954afb8b539abd69d12f5e47b58753d13d065b4b24952b90a2b093c57589b71a4eaa95960673019d3fb2309030edb45786d345f751a4db1628a901987547942811f41d430e75bb9976b67ad1a2725573907263f327dde660126e7ea4e83d0998d972c6ba48389e59f4f9f5cf191644552b8eed921e5c6598a729c34aba7b86544d52386e65419fd59e6f4a39f1744dd456445ab9232c5dc321fcabc2af2dbafe1e2f34896f3a8791694bf9ff0556d9f2db1b5924164c487796fc9ee5241a9c49239878f8f0cb558a1281c4f52b527421e751cc5d00bf1d40ae0cb72c821f93e0831a8f91a95d03363460aaeff6b7810d1f944f30bbe2cb808fde1df65d87973c6c10b93546a477ff6d0446d92fe29dc579c21617068d5bd3edec1d988e1b56fb0eea42b16f5c76e621caf920f6a55297cc402edca6b84d33e88b4e911b55e76b699db9e70bb7c2b7bfcb1b005f6c8006ea5b014513a8ac77ff6c204846066f2afd64359ea4bd1fd55a9f70b43539a6de01ee1511373270e0d82afade9d3cc1f2d23f3d1cd6b74ef9e7f4ca515baa33063f984ac0fcc9d747b276a7224dcc923be1da278095c8b1f5de4490ddc712ced6f2cd907e11058dee1c20332e9abf6d59a10eb83b470b2d7e6cda4a97cf132e5ea7f153ef9d7f19cf261126097d18f6a2962aa60fa61947e7686c023f6dddd1c5918cc362a9232a6321234517463b723a6a19d16644add783ff4f2c506433e0039889b34b648c10f223ad1ec467509a5fc56c6632bdca5472176bc395425133b03f2eb987c5065a080014d1b5a8b797a61845ff80815d01ad3aa610f5fda60e7bb9457066d8409d5c1fd00bbe55e7adc996deda4020744565a0a3304d605f9357b98d8c74184eafa70cd67aa92ec69a6b06fb079e1df438c30daa14c3447ac37ee1fe7c299e209fabba3165ac3c2e84726569aab12a081fbcc1088c03c64469133d79f016569a1143f003bafb8b38e6c4d4dc17f8e7173bb3db8e6eda6427ed3b03ab66f1618b8dbfc71979249ef5a0190d9e2441e54df623a13ad7476c54934092c6ef3029b74c7dd3bee89bfc14d5450a3692a583305152f7159cb6a3470a7e6429f9a411fa645032671fc8f4fa5fc43dcf43311c715882292599de138c5ca59792caa88d81c347f85541f2f1ba67a24b583470fb9fc9ea59c7469cae260adec69ca55921596e282e2b1a8047925721393aa34003e3a6557d4097f789709de937000d4d8c8e60f1166953ba7ef8ae2a48ec1f1843daa6d412921f782f9dd0991ca42d58625fc99c38f46c511d167b0660ef94aa4869c2c46892c1c6c6285ed40bc0653ecafa30177bebb7bee3a12c711d2e5261298a3c45d16b241093bbc223194b6de88fa77c2e3c25cd00a52a495c1a1602e99521f8c81b28adfd13cd01661e3d33fb0d279f954818d3ae085687f3b4ca8671af2c4420247415f5f8af19ea823faab294bfaa9572ba96d78528586fde12b569ae5c789ae1b4a2db91d81b10e40b5e013ee406764b6c092c5359dd0f2b593793d6fc50e883166e7dbdad8ac7d1ccddcd230646c7d6dda4ea7060d7979d0fccf40526cf13bbf2ebe95e606c124510e3b9c9ee6e5eedb2a186ae59af2ebb025e38b3e8db2eef199151c7089e5b16c328137b10605cd80e24d610ad0b46158f0bb0b5a330c772e815e7e8be3a2c89617865e86f74d4ee5546fda2dcb6627f36d611034cdc3418b9903670530a94474f642469c6f90c094acaaff1c02d3053bb21692f115304aa071ef8fa430ab739b1032f699a4ecd517fad5bf57819cd947fde837a98d191aff254892f57044faeca0b8b2951c5f016709e834d0afc12864b68da966781d4936f9c47f9b48b157f3bf03464562628703a75791d797f193c939c3bfec576925617859452e237466a731ae5e0c1489bf4dc249e85979140133d2de1beedd729686d920df9490c161a2238bd9002c60ffed711d69d95f95246853f0689cd86aa5e7795fc25bdedde277902f0384ee62120658a6b9561a6146036b5749d458f6a82453dc310be52e392221b50873d573fbc5280f146b525edaa285f08d30cea03567b51b5131517589199591ccacfbb6037aaf18d1355b9de68fbeaa2398bdf3956551cf6b853de79b0f2681511bb0676a6b0f92d3e0527a791f6d2d01f7b6aa1df9cd436915f36c2b8261d719be3ccaa5bd18f073ccf0f37e395fd3f65fb847a7267821f5936ffcdbab9112650983a71136c0cc48a8bda2ff8fdec89a3949f5b82925729d8a74b485acb9a6a217566634c901182a37072e6aed40a89f900a11bb32679f97636ef5a405af17071bd937959e52169df6b8ab46b00334a8e7701afb20e616cacd8d6e28ee207220b2f351102e72feb443c2c2bda3657fd2113b6177e3a11a1bd72c375708070e5bf161cc5d3dda6c4c09826569cfeb1cc554608187a01b3dd8918480d343218d6a5b8ad8280475b58a8ef87f0e20a9866ba8dbbefd3d61b5555474b58961e33655111dfc48f8e1cb994c2b13014c034192d2967922bba3903ffb14c615bcd51d723cfd1f72e89f17d8e10b4b4d96e800c6f3ee99da36d070246d083911a149aec4ea07f5d780d29e4d50ca32afe887f6a5a34da49043aa800d666902116a4d2efc591515abd321105f61412efb0a9c74c7da487598e5f51d5bdf9b36b4f9341824ac4ccd01b7bdbd417dc5c7bcabb98fb53a10323982b7681f1ae210712cc6cb067a587d8245db633899749a5fa22addab97c31083433d5633b795ed7cd4ec4275fe4191a937a8738c9e0034e8848f30a5122b687f0b2a0318bc8adc2763e3eee5d6d0c14c0774d7ea5cf877586d42f8502ca7e52444dcca04163a70c27530fae4f8adf7e835422d1d74bfd5e967abbd925252ad4bcba55e8ae4c58ee4bf1e537f04edfddee57c036cc2886980e992b35dbf58bd8773e111cd1a854d9ad84755edf8e57555b283aff062e892749cb8aad6d8f9118e63a4b94043934e53796b35e16d704f504689eb0b4811237a8dea580408f19285ab602da7b06987177183ddcd18fa9be9de1e74f288395a09f5a6a904e2e047a111088ef41709824571ef08a3d9685cfb67f9b79daf7a85c3877f6bc10fb6f577cc01c93dc88e2932989043e6c4dc913a5c7f6d3f5d08e834c875c4d984da9cbfb8727843894aeaacd47ac795b831c3cf952de2acc5e9e5d13c7615f73898b0ed70c83144d6789b5a63cf91dcee7e3451d512fbcb518b633ea01078f27162e955fac88b61da4f35c7e8c555d090ee92e90138b81002adaec9d6c73209d7f2047aa312e7a945792bf98b33fc9e4d4ebda2d0a7cbf34a7f23813f689fbe874aabcf1fa778443917e2e10376c1ebaf0f483da8dac56752842d6d89955fa292133ffb88fa84d757192966594b608c80744fcda2daca85d98e26982b169e8f5cb4406f599b205700270afb017d86c5045183afbba3806afc5b2e431bcd0ba2a49d8e55035475dbca053c3bc535c05b2da09812b6e59c300b694909d351b77e83aa5d7abf08d9889d1bd14df8437ada5d4ac8f468f884b8c747166118957e9a69df98534611c4e1a16fb402f662fc56a30bf8c695ce494ffc9f85c1b74e8098ea7c8489a8f0d22f2dd3db1add2b085073fe6fa96c77b1579461cd913cbb2a84a93dc6dc5162f384e0db542432add684237f923592602661103f477af0d98c8d588d11c541a0504aa88872b340bccdb175d0762b4fe6342ad28c9d2fba56977e98b2551faf0f1d9d4551f810995e6bbe66b146fc9014aa7f44b3265ce8f6861fdfcec828d33b86c1e0f82ef55c9dafa71661b222d9e1e9215f866bdb3d4a4cdb0605048ab187e148030e814813746899cdf69edb379e5a7151577d88d82bb4dae5e4579afd88150e38005ca1fab984d24710045d23d49a4b72269d4c949ead0f487af1dbc118648e324ba25d84b861c1bad30f8a6a8a8dbbb9f16c43abb4007df47d7b4712c1316fe52eec1a9e24a80cb7868a2dd113f9670c68b63dd1ed628af086de1a587afca76204fb7bb02ecae40c5db5e7865d5bbe0febf936d1bacf7a00e433a63ba96827658041ec75feee0973e30f4cda1c2fc32d844e7649fb4d3e8bb8b6b75abbaa32921b95bc540f6c0b1ac8b2aaa5b3c5eb5625ca80d85c97c3b4d7a071c70a16f7ab1443434dfa071e05aa4e8b9d22cd43661783805a7a2eceb8c49fba914a25a99b41cbe46374affa128c4830a75f5d350a0c47ca4160d565ed545f44e0cc07540547db6030cb4d28ddcc18fffe921a2a4fa461e4fcb384d994ff845367670d9f1a66c6e2b35b1952fd2565cfc8cd383b8b7dfff1d3de280346dc20f7843a2b437b3a166d76e1b7d62c9bb9810cbf4ceb0fc7d6b34c0bb3ac481e6c0b115d71991d90c69550666466f15169ec9c9b95233e9e5b836b961e07d5cc250f90b7d0d0021bd3b44ac06a43918fa905be6184ce564834c5d57bf27e55f8782510dde94c50aea12184b5e6a4668bd8f4e7268d025392c293bf630c8045f3b4f53715f73f3e01f3db81b068e0455e3e321d58b5b9dd82ec0955e8d48b53cf0845b5055874066b5fbe1450d95efdd89ca81d7b51226165b9edbef88af4de61a0692a1239d5f82f6790d2a66ecdfdbed370043fa632aedcde161f3398db249f22f5dcd37ce76db3940561d3270efac09a3d4f6ea3b12fa3a5dbfe64ab6e6643f197c3e971aab607af1eaa702114914249498020a6ac9478de4802182d2bff41b9224e4c6b3357be7c1654124e7b6fd6d6a8bbc74d5cf4eb500064f2ad1c387d2732ea3d48a5b36edc7f88140be492169f4f12409ae995177a87baec892d182a354640033339dd34ba580d435fe9eb358ac09bec38edc974070d85344801dc38fd40912a361132d10676e77987ea3de63de419b99af5168b56878e6e9b0be6907e488a5fe61a98530328e31ad1addf1d60ab3bb784cd36109c687978fb30d87cf6d3e72d6fb485bdebabd3fc83ad70faddc11ed88cd99bb455807723c2e48cc058c2290d40ac5a060e9e46e5c147de68be6f8c49684fcedc3f913eba5be14247ade85ff911d75674e0dde1387771edf803fca0c3f56b83aa6d34ed6cce32e59cd96d997033e7951554ee0010a68ab2833aa2433763827dc6005614570f4e68b8b529c3fc1a67e3fe1f03083c1623c5fc848fb4e59aa4db1298005653e4d0432f2a0a666d6c87e9efd632b3452e348d8e8bf587343e54cd37fde1f67ca6028774b95dbb1c6b348089ac44e96f8765414141c9f6ed8daddf739720fa9ccdf5a47a5e9305eea06fab998facd15dee260763c0d6d27e114175fcee4e295a16db2afa70bec076f8fc5a33e822c8f787db8c99319f0886b642c2bd5b19be641e3cd6bcb1c0f52ac19cf0cf83f26c452ccb00f072b04b9af886440adeb73519e12f2707525f2f80b0fb1e17401dd5284bb4ddde21a30a7716dc61818acd6442bbc4db143c65a7a8b07039e7bb79af4c0009134c7c78a054312e88c70a381e11161536c131dcd55bdfd659ead80dfd27024441de94fda5a57a4256ec510a9b12b0bc06ec5490c5c804b1c20ca7d20e1594dd29f3d35699b8512f44315a715f14105b4ddcdbed9bcb067e86b91355b17632fd27bea4453e0220af2707c9b161b9ddf940fe6db960979e9f59dee1d8b280ba5fcf31fbb64eb826e454be49c7c21ffee8f48ae8aac5b08c50506a04830d72f77f6b482f044ac5480100c1c945b1d74ffcfc7d343020e8c0b261a2f1119d7bf1d716eff981060b50d9c8fa77b5a55f58b5b84271e5012d8bbc302a3c5bc4dca018f007f459dc18d5b08c24a050fa2f2f7c8b983a14c8f003c96214a8b58069df5ebcaec8046cf26ba7789e6b22ab8bb94a6bb939b1a0b4bbbec1852580ab6ad566ce3271d85a3f530e1dc52078387dfa01d97d544e99aed9a039ce6f8a9c2c7b367743ae7293eef147992e655424606b9952dc72c08825c0e3f3728012974d079fbfc3aff9a39c994b9411a860b8c72c32dd4fb2814652042f086de22ba59a3180cf6956bb22f885286a1c408acafa5da7b66d9aa8a437a969ec4280d8386778e080b2de4382de683586c080e638cc67c8b8d87918f03ff340fa26bfa6cf31fff70e595ed495b41380bdc7bb46d3e7a013e7376859e52c40c44366e7be57dbde76dd3856b746d1e86d1e8f31a6aa4457da044eb80099a19a03646315ece904857763775dc545469fdca1c9111e918541db08c3953d198b61eb4c84fa3454feaeba4d3f5a37878f9c65b7b4327798f2a9f838cd4d84ddc4b9a5f04ffba4fc94983158962fd0545cca9e834663d064c3f4460c5cbdd624ce51defb713c04268ce384578cbdb266aa5901b07d5705f4a21d57cc0ccdd30ce264b76f22a58dd0ceb37240b379e532b1b3f112be5da219dd7492e36b50fd5c0b0e71db54818100d313be7ea531ef581b7c005050e890b13e8a4b6d4f41d3372d8f34b44701bcdbb74671e956963a64d4e79f1cc14cf4bcc742dd2712df6d94d2c30fdb1e88718a997b8662a95c00ec16d18146b2de9b84dc899400c2aa0761ea3ff215339977a834d2fc946ab7cf7d3df7439b8984bf83db219762ee4843dcaa2c0c6505c6a82fe47cfae775ca92fc00350f61911edb76a470ac4a2f0ac5145d7d7e318a85082601c7cfe8f44716ab14381c8d18c5c7b56dc528f40a9f30e713bd67caf1bd3d3cf7e5c7b18f6b5937a7efbebd2dd2446862407410762db1e98c519123ad3875bced45e9fca019351c32d59c98ecf7776a03418c31019c5a36581235fe4a3253d8a66600d7ef5021397ee5dc9931f0dedb14ca987664a98fd6db804bc20088a118d08e7208c8f8a825a854a85247f2ae42ba5590ab1c0e463045c326cf21c03f9d187943736591f265ea4aecbbb5146e19ca5bb2171fc88e8d13dbdf111d05d62acd5341c150c41356e209110b98b6c9a720c6037156b8b1c6190f7e161006ecd8f2c698dff4c90fe7169d750d2e59c9a9cc87420ec467c652251e33c7c356ef79e88500b3653f9647447dd35ff9d2de67329b5ca9e35073c6afd85d65ae5c1282fb13258e35bf99534cad4ea318583be830d361c78a48fb9215848de55a103b337fac9f655d25750718547b325fd66eb336d76291b286e7dd57194292ed5830ad29cf358fb7312421a2ba3629790126a325ae7e5121e6af4f59d7f943227d452a66faa7df392b2d63b06482546d54ed1fb5f2541ec04bd9d7b42ccc824d8af33b8ff92d592808b769130a131adbbed604504b5877a12b582dba572cdcba44fd0334fc871e64e779ef90d0ef8335301782f23f78b91a377fac5558c43255a5883a06ff8c7d46f45a05db88e5f062f1b50df64bca9b78f211a432603dd417f26ddec51be60896da9ae3a8134a409c15fb5e42d813491acdd109e6339a7ace242e751ba4ed904193a2a958047c7f03922a166d780eba13e5ca0f4348170b979b0fea448fa02751d9257061bf6469cdddf120788eef0b0e5d16a06e26b51fb0e1ae848eea6ccf6f3d2208a10a3808cfe7b12069bc75605abab2d642034d618bd57d333bf7d7c08b421f18b72a42b7a071c76ff1ea98ca7a7959579b8261964dfb5754ebbd53eb0f93a84beae0f945f8a6bdbb3ba53c6bc0cc7c9a47ae7624c2e591a66b67c9b3112ce611ad1bd890f692adb53af151cab6fdbfe69ab0e531550ea7fac57004ecb229fe14cd48cf895d4f62bba54c6dc804aa438ec5fc3e93c3d3cddff0b32f5f08698a019065b1fb87eacdd8634812b690f7b8f3b591e69b0960399ce2222886ca49b506d41fe6e599a5851b87ce13be715e21f778137f46b8dc6427526ef824f3659b2e35214875e9fdf5ccc59178c942df46f0ede40f4fc54acfe4ef213ae52d34963fb087b26ae6c84e0cc6e5bf63226fc306e60912d70e9918f387fcad8bd66e567ff67bb7249abd2008b7a1cf0082a0cffc857b6d6b134592ce869e22936b3945dbba7dc6d891b1c375c08feb009db585a3a62683b1fb034a8ca17dc3e130b10964cb0d37cfdf245eba6c61263423e83b39c471dac0b87cbb9149e3b96b88f45dbe0864f269a4fd97ad56030e6364e82eff588096f6ee00d630cec497e2c85b9d324137ea510f8561625604de651f0baf9c1321d4f6fbf506eb8ac0b375b47228d1d5e76f72722368b3a0a9d3ddca01700ab0e8cd1906220b571c7f2001157dfd3f7fd27c5f35e69da4e7e7300db4e59f45c0b6642a5029c875e8a464c442ebd2c3df0f245594decc1a29949313077f7e1869c39df96962b700ba4912aebf1b88be779ebfb801a7113b6184137169784d6d5b0c83074ce39b0052d0472a1843491f2ffdb527c93c0e40501bc0e42ca67ac356e93a5cd559a2fa3b8ab25be7ec360b6cad79c37e4532aaade7644689f934a7c3675be62ec6250410639f5fd8bf31a5e39b2788a89018986878cf9a1439006f9715cfad620680c340be1fa500ec89c38d5661ab369fca45de82de476a14221a3adc3cff87049c1759b7cf39e3ceb96b33ae64a8a6d99d677b3173ddaaa313a75e85c2726ad99247c124636bbab080d5984bfdfc54c050951fd269bcf592b964a87777225b396a1b2e7e3a3f4eb3e61c31ce2c4ff758d02ca613719ef40f86a0e50a3899ddb370f334944f5bc9d9f157334cec9cb9e18b0388718d6c04eb46aa42e609895959b26985ae008a3d67094290e1fe453b465730899dd5d04b9bd20b77b5ac29e7ec2b8310a0b71040e7c36cbed9a4fc7f1a7663677e598894526816ef60c7592aff51d36135f716d31c7e6cce91b8905233ffde754838519a723da9c0f1f59258cb49fcf456d250e61c5b9061ea0859be628e51217078043aff860ef3df138e7db69fe3b1b81486978054c5a610f25fda981c58dc48e73c831bcceb9c3d182a6295969de20113e5865b09c6aa3a9e8d9b807db8bee16f7456848d28b3645df0d167ad09140ee4d7f71efa54981c0a7bc709b7c1af127e00954c026e8c5b2d7b75b2a9c9159754a6985f0d2029450d501c9f8ddd1170315e1ad8d3e1fe6aa85a1a398eced53324f64335ef7ab767cd928e2834b392012254e323ed0ce96e59ca5f9528a38f82aae86ce2123e66b4dda59f5db5a3500e74b55734074699fa7afa5bb39f6aa5b800ca26f47c7a31b3fd9edde4969304a663e9bb25548c1088c0b827c8b8b7c693057ec2014f9e0b89178977cbb901352216638a1d9ca34bf018556e7df51e1e44a78e6a6a7e4800c8d27d8cd9219682fb35690848a7fe60de492886008304798a81bfc90d08b5b4710bca7916b455ff844485f10ec052bd8cae747b54e0b1c9cf9f09b4e2d3edaa78c0dbd8bf296cc5d5066622994be12dcc0316cae3583ca7ec3bd77925e2fc37179340e31b4acf2fa17906b61c9910d3d8358731e843a76a8cc202de20dc452ea63b1e11f358723d1d924dac5906722dc3352f37fa20c85fddde1315d842838ef0eb43660d06862d7fdffbb06e828b38a46483d0c55815270f5a2a88282a2b74a257f45da04af798df3b17d7714c626dd847df389f874dd48cf14e90d7474327a8ae01059bb6c4934105463befeefed2934fa195572fcd52b6f1dfd72c71c16074765888bbcef9e20c2b907b2f5cadcc75aa52d3661cc7f06af956f92b72f660916bc541fb00e15f37452bd03bb1c44ad540b29566aab765f5e29ae713b552517da6445c4be62914f643581c07a85aaf422f35a06fa87a3671086088bc3d93476b7fee5c723b44b044539d0cf84c50b3d5d285bab1373f6cfdbcda05f393b12c5bcc749d3dbb3ae0484bd9c0fca1747a8791983662a04aa7534f31fba1f4dc76ed93449acd4b340e779fa700a96868040afcf2f92f92264c9f11d4ed7b8e8d83135b6f9b4b85eb64035bbd66884d966a4de946b99e21ab632c3b029047aa1c3dfb2cccc4b9fe35b525d5c4c49bbf7d1840402a9b8f1c4b6e965c6eef9fc852d689d5441bbe7e6c1be8ab5ceb06f5ab78c48ec6ba3ad7fcba74f18aee4b3498a6d641f1d8563660d2ff4893cb44e052bbe791411ca77cf4bab9b96a80c5f2fc1dc7273e5d1e05333ccdc04824310c08ff79d2052251987db32aa1f4a669ecf326b2b7e9b4d8ff11111ea302272694df0fe3b13c90c5d02f745b3a1de6f2797dbddd90df712f33829b9af63a6a2b32e28a8a3b5ce5f9a787817c23203b3903fba6cedf27353026daab9a0de0135a6185d227b168685635d25604f03e3da0144869debba74bd4b99f06b80626d0eda173083c952a0e97c10a76e0b7a7840ee0d32df4502315a5772b9a338844ebdfc3fcbf0a790bda8804f20d961aa85192600c6aadc4958f6b7244d8ed553e6d26de5996aeade8958513e17c6d75650cebeb399508a61ddcce6286c4eadcee50643169bd7afe1f9dafb0c5fdf50b2525665cee5e5d72f9b1256cda99688d962145f7acd003aca83ff18bd0114d33dc6477a94ff45dfcd16b38675a70e473bc7754c6362ab7d2e97260bef4d42e6314f06e3c8cadcc75d19697d610a9ff403990a646449d09120a471d67e43af48525f67aad98934632705d10eb3ff1afc587c6206114192875037ee3b3226174b6664a483df7a75ecda8fde276594ad1386a9fb2852b5f1612e84033a4962f871985e4d05c5a467e507b28923e4660ba69d6f10e7cbcd6363079877c42dc75bf7e976b4e68353b20477dec4bb94abad6155e1b3b08046e737f80e09ef90ec5d8af3572a2e4a8d49645a711301753e9dce824f06606b266e3c829b74406e48d6b1f6f28056720dea0d0133c1f38380c9972091dcca403ec8d877fce4914e73e7a5131478d0be2fb5985e3c75cc4ca81387bc7b43fba314fb737f4d252386e3ab61e186602cbef420da9fc70a077566ebe39356c4499f59674f9ce26b278b11825478069f337ab7bf1b3af52fd3b64fb928cfd0b8c2c9e35e4631b24588790f415a91937a469c0f6a26f49ee92d0d4ca7c9667bdbb213e8e185e3664d1a60067337a3bcbc4c58b9a58de470a950f2491328328a0800be7eb94510520a145bb1119e3705f45c910c74e208959350826cff7627ebc8fdb66d2c01aef31483c8f65040a074f9dcb9fdd39034fb02c93abb942fcf403b06aca645de090e42207eda83353c6fc987a9104f0837ffd108740e0d00dd65fff7cc8eddfa6a53c1c519b51f5f6843ca445ff88f84df350021536386b2db72dda29caf1cbec415583b2f39e15bcfb97caaba4eb93cfc8e48cda9e7c4378cfb2f91058c80086f9aaa2dd6cf3c33e9322bd349290576912fe664b1734f49c3061491c92635e09362e6394c40922ea9857c664edeb33226d75e251acc38f3d5802a1bf20351f820f9367e850ea1e586e6ce93e261c660b51ada47a69e299be7b1dab6dcf9b5b0f35ead09ad190f627b821b536374b5bb444356f3e3758654a98b1a9253ce6855e393e88844e6e7ae80da7cd85b2a7e80592c3f4ad365f724b0d0117dcbdc86bc824b58b4e8294b492d5a7f4192ecf4d2e84035a50fe28d708714bc6744f31e01b6a22c13ea683c11034768c8829f375a621961b30d095ebb2e1f0b4127ca8ea54dea9c43e7042af898558ea5893944e2ac62a661e7b03b43625de4dbc2be62f7b5962b0d61168f3e63ed1278ceeac6e78f9447db8ebf87fcc9b55cb9858217553f5da78aac1c25073bd2512d82803aa7d8dfb7c04786a67f7070e11359064acf2692973310af9b658244818877a65e074b441d16c8d6a046b63e920a49c63e448eff8339efb4c782e55d8db7b7cdf829ca1423c9a93e1702a6b164e5d1481c65d3a2f1da23f2aefd62a75c2d1af8d66990ac4d7c34a84e4c2587f4ce511dd8896c72bdea866c6b46a9d934b838111ae37b98705874faef623a145f461c81e7f7095272b2c38a4b4757c8cf0ae9c35b05d5d8e2bcb968dc4f0ca51b0194a63cb32f408be1f40c2d2d0bc812dbe0025e540da1b0f28c3573798c67d8800561e221dc49400985931b5f0f69c9ef97bbe5378a63189ff2f1da3a5c6eecac6cb9e6afb60b8ce135f162466abbc8c018963bd5df5aa0874476c48eac9fb57f7e37390eb696f3217a19d354a9edeaf58baa11e76529306c8a98a027290c44ab45002deebafedc36d137874018bb7b01919e510b76a5911dcbb6d87130635ef236395274ebca52b5142753e41439a88f1d930b92be70aa3a8d7234f2022f4a184d4e1ccb2f913cf38633bc237cd6566e0f3580036baf52afdde928c0c369cee95ecc202a8c30a053d1c89bd52345365416b307810427c153437e317dea0b44b4216b283b4bf7646f4d022201a370ceb94ef05476f313e6d4731cb437d29fd7755b510bc109417a94f7f245109bf0a597511269a5bbe4fcae91862fbbae1e46a78a364f8aa0ce1e9c6abea015d2d6f82cb1c717aa594f1b99f183cc4742b6f58e449d669796d23690f1c220b84bcee635c65f21eca70d65956814975b06e5139dc4f7ee0668dfa0804f3a0952fbbc6bee181b3e4ceddb6aaabcabb2b3b1078f98906a665c028f22ca8724ae2391061541ec0ea4e563c99d102b6d8514418c77e784a18fdd27a632d602814f4836ab1604c7d6901f2911a5e9364728f2180e4e8e402f0b2519518036f7af26f551ad9a339a8c25d276659ce5b721c8902efe665f30ebd9a4b9c60a6585e3ab1a7341b85445ff03c5003e0ee3b0bfe1c433de95770c575bb88da2139f4774dc79e123251347d437fa7fe408375d25e8ace40570167c3b04be9df1ad942255e9d0094d9316839b6fc0678e52128a8187336329d1559941a4a41ed8d4d0fa1b4d93a47ded719b82ff1f125d98391281548b7db61cd76df04b13df8c5aefe929051fc341c242a97ea2cfb9af0a70f9866a5bcc155814b74d81117379bcf58edfc8f66a2c68d130c791cfa30b383a1e8c1715a2ba12e759420a8279e39dc2b8ad18c900939c6fdb8d5bed6118b83380230681298f3ebe69ecc6eeed6184d7824ad5a80b8b024c0f6f0062e364b2e214b69a66ac27262cd26a6003deb095fc03c1cb9b5bb83f1b65d8708d97dfffe1af363eb059f4d4a9bfe904c24a8aa1de75ad53b622c52bef09f9d4315089474cc3efd6d79304272e0ec7e0b79b2dfd5a678622072d3e63a85943ec2589c5f18492b9528b5497a24a43e6bf359d2fa6979cb159e9f2d58162010df028b8a33c1525f1a8b849ed46e894ff4859a9925804c88fa971a45f4ce3f34c3752d1641b7c537dee8503e92253c81be77d4d4475ad9675b7ad9756a7bff5cf9276ed9dd995a92cfbbf413017f451cc7adb20430a6529c242f4502c74f094dbb93586030ce59e28ab70c9ade215386113689cfe21e6ada483e9b2637ff1c4f5df6997f79ffb05c935b13dbb251b7b5bd63fcb81a1d0e12330e961e730740bc09faa25e6c7a97de8244b1d94b48d0e2c6e1e94b0348d51fc82e105896217cc93b32180aff6afc7a8acad110455b3b5c9741e7abe2eb0b1dd87aeb4406704561945ae87a6b5a87f6372724996836322bcec03298c5608902b8dbfa6e9bed25eb888905318b5ebf0c39ac210752d956f2ae215cd7165033ea184e4fd666da1a00e3a18a2711367a97764d8c63376086bef8301b2b7784017d32633f24b20e7abd24c23475969deb51f9e6364a95052eddbe35ed1db0c81d2b74731aa3d3044b5fdc0a22d8d75308aadf70450b25a2687a48aef47f7cbb8954ea51afe5c3ac4e94f20a80c8de26ea9477b4cb8890f149b774a2f673bf3eb9e58e1bdeded69d6e872e0a2263f40d8a53f106be52a5e5bfc1d4aa7850d3df08fc9305320aafc0ffd218ac217a3b6ff43d19cd4e203d0445cfc854f45d3615dd7bcb45db431bc8120f223817e5d0ef0c75f1eb038c29d5e76c0c119e8b1de1d078351ba2a1ae234b4636f794eeffd4cd4a4b60239a91904d550d0d90f62dd78954925093051bda5c1f900e63920dbd1614e0d05cffda04fb4c6d26c1e2264b163442b1d034507d77a135f1c73daaf9291350eeaa6fe9dc19e70ca1f36d7589a68d8c97f34483988c7a5dbbf6de018d5ae8a31d5d4d3acf45d73805e2cd3daf42ccb09b3b118888ae6e509f86372f838816da92cae3ebf34946232195191b38e2ea34ed92d97506c4736911a2a8a5b9bfba389fa08dee47a4d9a07aadd1abcdc687324db8c75e754a961e4bb25c7179b0be5a3e3bcadec94fffd625db8fbe17c51c9216dfa3968dafd5a5bc57b5f02c0f58a3e69f744b2aefe3a9b55692318fa08bb6dbd4760f2c4ef27afd62bced5cfaac7aebdeaa1ff311fd60d9960e5a85a04bc72cfec893f4213a97c0516fbd9606eefa77bf979cc3e464bf8225cdea4fefd2af144f38568bc26c311c5ee7bce10a0a54a9af8fd0140ba1d97fae652b6bfa4d25e6e04ccbe6834a43c60a2d0a2ddede55d7ca02087c034703f7be4527abfc839cdd205ab14f01fbc2fc23a25adf77e3b175cf309c8a0c413ca94cf603f7d38cc6a36de92508509f27d101db1e87a1b89e68bbb6356e80c93c7c9b19e9953825741e0565491a73c96370d184cb5f40a2791864746546d1e5cfe5f9c0a3d847eb7bdec6dd5b97c9dc88a1672d9fe7d05965d6435bb58ba6d9f46cd0582dcb339a088cec8f4c3e89a221c3baed4d8f461d640f6cc608b65ea932ea8aea5e96ab0c602a4e19008983e861090660a5fda9c26e2839326275851ea70ad4d773b680b997a99e3dbc5496be817962f1f802ba032266bef0650a478b792f40ed706e96e7984d0d88aa428f051a6ab6dcbb04f5a21a18557c5af59ecbb73886c142081f88d35fa452197e25a0085dd9f05a0e493517bdc90eed59dbedc17f11dd3d8ab291d1bdf321caa5ab29f9d508ff1af6af2e3a28d04823c1a57294b6955306602f2411b4f27f7f363153cf6596c7698d6aacc774e48b339c8eb01a869a145d288da76c3e524a7aa5ec362d59d5e2750105e9a84c11fe8677ad51aeb208b746d24dfce7115d501c4a858b4437b4b30a90d1c0ed0efa581f25e7d367fe0c9dff703b3ac949e5ad0629e762985bd350571f6714faf61ca66d56fc96806a5c4c53ad31f7727c223bf69f5563f64f0ed5f393d1c2992fe5590a6b4f85db5da9c82a27b1d08a73c050c4415ff3d32d4d40cf400420acae7fece3d40b417aa112eaa42fc1e91af27ca6e8696df9d139d7008672401ba0a71e2463bdf98f4ca38911cfeaa782665b7e7a1cc7746cbb3cdd4b12b7701828dbb036cc4e534764e82607e457fe5289beee5d76985055f3573cd2d38a608fbc26653a9a71c6455559320c8939b1f01bfce043a7b1a6e5e24190a382ed33d3386c5e675aea4d8b5fcc4cfbdb98962759d0a8ef6f1b1cb66b69e03df6b29e9b1fdc0761bf3aeef7999430b06cfb1c7cc865ca97ce2f34064e840d19902eba0f526f42478ba714ec1169cfd68d7445ef80e31d1e96d0fae2807599aaa99bc2fc93a8b9fb5136f1db93b3e6f8e4c21dfb65650342c27e568802a0480d12d75189126c847c9d7e5367674df40270a8b0764ba4dd81ca9ff52d4902d034206e28e090f530475dc47bc3a46ed7c765dc337f941714b0ac9bd93e977e835bae521731ce204e7e4ed478ff7c4149ef8dffb4880c2e4f94bca9e7b147780384d96f95a76f05f73063fe4512e29e8f1ab3a4ba8a40793684730dc07de1f78fbc77560526a3f7f51b29522e8d8ef9091f53b8e560dbbe6f6b705e3681a2b9fb664d2ce31a0ab64728cefcd5fbc7edcc6beecbb19a81d640d3791dffb7ae6550e671f0b7951c9a904046fe4e6f30e4a25499e56b1c9dbb27a1d89d6190a1eb53e71c31d966d5283bf7e7575753c4e58f01870654844f7d8ec9e6f44df0dcfbcf5048ed08e4e4990ced1854462e02188be6329bdf860dc22128d51132bca7c2fabc3c864b17dca528788f20b5de5255800213931f09224cc9177016585040c3da1a25b9007f9ecb17a2f2b7312781412f64d9c620688f39f8b9e835e872b4461aad896bc3f47b0dd9ae2948be7f31c28ac83ea17fdfab04a84ce170ea16230bf773c748bd644494bb4781c022b9f06e599c36c585095d45f36a635d9bf7116bdd40f83627849ea7aeb964b00598781a542f567b040fc9c8f0717c382683e1219881fd8db2a9bc4c3dac474a8b3a62696d5918ad48e1ca088930546c8e95d1f3c792eb9c5ad368b6b8a0da8c877ba63119cff1dc12c1dac753448e0c27a49fe25f0155d395fb1d37f2b15b94a04b612f2cf73b8871cb78223c30d3a810b4d3e7718ef236237b15babce0cd5efb4323ebd7c275237fde071e0c4cf4b40822dde116b29a8849b3e83eb530edde5dd5aef6b9480281e8165b2c70b68bc43ed41fa95c6c3e8670fdf004e688df3dd78e7fe29a0f442ca9593928a8e66b340b214fd918075cd696e0e4820395e9f93fb5783f8da477228a9f6096f4413aaf3018f1ca82816ea033001687bef068bc82077579d9b9bd196150c9a07681f1a51a5fb976c23c90964fa3d56db57880b47366e50e343f1d56174b4701637ad7150727a14a5a9a29920b24cbfd5a552427ce4259182f152e4e8553ae3b00e2fa3eb6c780d0c524957929c6b33726b72871ab388b74131676099b2bc5e3e5a132e888aa856c5fef83067b2c3c6de57adad12226eb0149fdc1ff752b14a021ece874c4ef274edfec442766716ae0764bae5cac366173f0780b5b2dd9f41337ec8e402431543a57b32df31381983f71e75f8fb0775e9cc251a1e89a54b2763a6b666e93c059bdc424cc3fbc1ef83454f86da8948945a73f849d8ed9ca0b16aa47f6eb21e8cad86b626210f4881476df709bf5383297e83f4742006d774b3a408f1a50c796d3ad7f890faa5d413e72ba0df642af81d577da39237d27a2a684ac70e8e30248df82c8e6cf3efae82fc8d823095954d145b3843f4d104142ca356e2e0ba802aa3f11eba07d73bd77847ef7b95e0669324b2ccf35b001727d6ed20148bd57cda8de31851f9e2b612244887e6d5d2ee3856d545324daf571149e6dc0fea973dfb9d44b0c19dc742ba23bf1736528707a4c789de3bfe797065101888f66e12c193510ba12418a674ca7a71772cf97966f4754e3cc9442e076506123197035ea1c3a99edd6ffef9e783e6466375d18999a3b30d382fca232ae45b284a0c5d3abd4c22fd2bb3a1d8a850d845ffc4515736ff322f82e984bb3b34ca5c26c7a3fc21ccdb21a2afa75dc4bb83c34ae71db6b7011b8945cba77d105c6c7d3989815dc09a1f074fd98f6772f9c5f9ab3d393b9d61f388b9fe4a035aa870d0f395405751cb00396faff7d2c5d44012cb39e648ee20744112f82fe6386d01910b02c2cc08251c875ccfd6f4c02071c057b30012664564dd8dca08f68cf879e53a1ebe825311cc7df743cf6c050fea775bce295b9c7ffc69b294b69df5e8c3139cd8052d863a944cbd66bc69c8442a83c8cb4d511a0007a87a619bb3e7102d93906fef40d021ba3f258c91fa9d530c781d1e7989c7d6769b092fceebfca8648354abb2780a9e5273eab61aa3de81729572c0c25bd677577adf7114c9cb43cb26929781175d139b2e5a4b8f3b9b2085bc440fe8d9b6e9cf46c5ff9a07fb44d7809ca8172e5c12da8efeaa3d76e59d05d0fa3a4a59272d5e4598e535553b66c11ec746cb2de073eace6d2d7af0f8926846665d148f0e7ec8a531af8192bf4c6de736be6b3662a0ac64839c8095b25325a9f622ee8cf60a3a8876d0e186d189e60826dd05a9ca70364764fe2587498b3b3d2ffe263dba5c03d28b428cf51be6316331a9f4fef4ec89ca119e6d4ff08703a48cbf879b419eeee731d70e25e099e763bcc3e9b06279a14c180addd98022aef511f3aca6e6b19ca1cbb02fc7a4166948bb1190fbf327f0956b62d1da3ac2775ff6cf2962820ff3826046c3efd88f87f4acb17a1fe795bd7b738802721f58ca687c45b2fbaa72d7d8dba6a160ddf0050468a89d30d00f21f804c1355bef996fb667044ebcd8253acbf8f55f74536d9a82f1b96dacdfb14c7d42840541ca5aad404f89b9277a444442ca004ed22aad7e400c23fd7a8b71ea8a35cda5406b908d5679387e92f18cc1b9a45721c7f5a34b32a955a9fe86e3f69ab10afc77783bea1efc8f4326d17d93a26bfb257bea493c323c141dd5997593d3e17ba30662e183b956385d1412ed26ae50ec0f5b5fbec76087cf379c40ababd80e89c70fe6bf5350e110562bc5a9f32433f0796e0a6362722917f2dde755c46639d6e4fe729f92b2d480ee35d2749cf2784a8b4825a8d2ea4dbb093f71a564da165ed62f72c5db5b56e6b8dfcc6bff84627a890e8760f9cf78f57d3c8956970bd09f7036402a235c4b98f4ecfbc7bf28953fa1e722e09483aad6046bf8effbd3e92ccac8f6fe5e590e77f33dd889d4850b46642d51aff088bd80790316aa2e9c224bcf3e346252dff29fc5384796b3622bcaae087ea752a9f839db602334fcb1f5bec7b8c2572e528b4375015925ad6b08a0a41a9c32146639e5d8a9bfa58b2b35322e92ec90831d2a68fcf9ad89c9f73876405d0437252322e5ff3f160797a6fcd3cded488890a16e389770feb03d06cc71756741ebe8cfad9e92e80404b323d1ed3c2a33e6d0d8906d8b3ae7e2d65fd7389c4456a16a840a0c7ac146bb7cea46afa7f44f1b44d1720e06a5bc1389952b9e5877f3d145e46c7b32b5ed951b0fa1164ce9b0794098436de2048915921427edcf7f9cd2d76032dc509c6125df04a4c4ce4d2e8ef641c56c3fc9b508701056490097371a7856a2e95fbadf2ebc87a6d6730ba696b6e3566e9885fe43e7a330dd4b26a0320adb1de6d92e3d17b6ae639e99806117829982de009b663a40d08ff58bd7911e65aedaa51c2ce91e5df3fcd226818eac77b34eaeb62f6623aeed5bc8dc0496b1139b0403af58427122a5a5d036c887a947599619cbfdc404f961d4e174dfc4487061ca7db79bcf64efdbacdfabf4ec9500d2876ca2fafefa6094a13504de639b53aa44e0ae48e7dc81429e92d22fdc9a16db1f6e8efdb5f760490319bae3db5ad41649647158b999d7e3bd4447cf5e52caedfd850e3a9f6626ed5a5b300fc540eb80ed9e694bb1ec216d0d28e99773cc3cc3f828e735ca95abc70211af7f7c5c454fa8a797f67ad10d62beedfe2dac550dcbd4016cc910dd53909837000cd208e5141698b7d3117a78b6bf3f0ffe7ad542ee555e50eee363c68c3ddc3e04df50c9655d0358cd6aebcb9a168fe3dbb3b14c43226fe394a436fee078af04bf39175e44bb7424b2b4697c4a79e0608a54cfc2032d6b37f08642e9fcbf0b8722de174e19e6fe0b12cf8ace58f8c22364a6164e75fbacddea3716c493c6f926a4224228e28c259d424648a6306b44a941c441a1fdbff9745d9a075b1abc9ae72a7899903850af34352f3bc0bd54443c92589dbebb0e420e2caaba66b2fccd7613e4152fbb29d912e67abe699f8530c903f84c628c64df30ca3e3d1d55c0c844e476d941cd014f491bcc3099625f25bc25e2464822ff620e531ff8030723ed26295a29996ac8d5023bba5e2f78be9985c6e1e1b63bdcbfb9ec6dc591a15753393ceccdc6a3ea3ae3b0fcaacb3cbfc3084f074cdb5ff99d2d57dc2018336b650a1d184c427c481c22bf0815c814e963e98a4bdb9d07aecfef89d6878445f9afa613e24667d0eff7f7dc954c070a9e415cfa032b40f403471e7ca00a2285e943e0022d36b25c98af793410ba15847893b38a2336484799f972ea09f7be2fe6b3774a26b067b10c3a3b144ebbfa046a1317c901b2bf6d3c7919c180239655b725794bf9de2ce49cb2fb12103c953d33d1a992d4eb265fd22111b92346666309fc1e3232b082733e982c99a7ed9ae35b0f96ffc003aab07454d8479e632e00a507110e6204431b4732a8cac9e1594e8d5d4da55c063e2f2575cc88f2cb9480bcc6200302caddaf7df49d50ec4f9bcc28a7ee8a8c577d4a0703f17e57d472134ffe358bbc6a0d0ff25537339abe66c203dd9037cba85c80a6217b971009c34aba080060803460a508786a1b5964b1269120bb168f8dc766f0a562545412a5b710ef8531232acff12c7a9b2d10cd24cb181079d3c37e52eb6131d478074ae8f10ebe55ddba5647faea265ae438ed4eee89eaf845791ab26f5b86f75c8a95b3506dc6406f0e069092104ba5c7cb4853503011f030cc1e69f83c574dc9a5ce717a8c6f37f6e4b9bfd13d2b6500a2dbbfc8b00b258fec11f7a950a351291054b7c3ed4c7cd8af0c1ea2d43c597fef50ded773296e27fbca384dd893974669271501b6059cb65cd3e549d6521ef20bbb43e5d6fe457fc9f971360dbab6d3dd2e6bf63e257a15e110b0a1aa0a034c9c9f549769a547bd0b3737f0dd188f20d5f8491524f3d4ef44d18ebff34323e1d58b83ee368a2732027fe0fb96b8e610ffb558b8e5a00a1758f06adc1d5d7aed39971adacc363a25fd79b59a012de756647d23d8689af586b0e754d0d179e965b93d2c71ebe59b3b0da9e0324f7f475479a4a761859006f4a1baee30fa8dffac1cf875aa2d486ab3b78ed2365b5119f4f8c1c4ddb7149bccf2d025ce746629ff45086557577ee7a83059b534c439526eddef9a8d096c7962c54ae39809a7e7d1845a76bc3046dbb9a44b5cf557c1db7524f08c24ff097f3a832065d195fef0261fdf9bc63df1dea16d432ae578142ad1f7d26cf65a9f7e7c139c49ad0fcbbe191e9595cb27df6a51c887f130945b40cede6223ebcb06cdc4c0fcb743219a809c4d21a1634b86c680046a3df39418cb76f372a41ee474c92cba95286f60d6df8644ddcbd0f044dd5e048d2dd4b075a3d7bf16c802938bac03b8a7ff590f9e536bbda38ba70e5ad443aaeeefe837c911128c584f115a2c4e74dfa6ca9a9775eea3cf4e8eaef75a8abef5de9112dc5b23bb49536907547019698f24178ddbf04230c51e75fd2328b489a49db2b60edb3c6a529832c7ed8febb9158f911e62a91a6710ca24ba8b9f0a228d0e55cc43e6d070385db3569b9a5cda7e14182277754185367c3b5c4ccd5f275c2c8800fb179559bf0a0b535014d68edd2740462ac286fd12242f3b9489de89ee152ad2110068da874bfb034361189d466ea4b221dcb90aa772064b4a86cca759a2f6644275a269e7d4285c171e380f254b994dc8844f22256e93bd9a868db9b308d62c0ce7accc5b5c6de3c07327129f3e8a998fa2e85c2c51f81b7a4a73f88e64bfca9490f90685ac0fa6ee8adcfed1e9788c6be613868d684da7d29efebc9bbd9f058bbc6d89da9aec0760bcc850dca9e57ac1c565b5a77e379cb06e67a814bf92f9750c2f8b926ac0","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"5fac5dada27fd52bd5d7343e2bae50c0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
